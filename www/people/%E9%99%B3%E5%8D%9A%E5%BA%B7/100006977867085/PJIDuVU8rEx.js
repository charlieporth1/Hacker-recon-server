if (self.CavalryLogger) { CavalryLogger.start_js(["s+oSo"]); }

__d("VideoCaptionBackgroundOpacityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPAQUE:100,DARK:75,DEFAULT:45,LIGHT:25,TRANSPARENT:-1})}),null);
__d("VideoCaptionTextSizeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIGGEST:200,BIGGER:175,BIG:150,MEDIUM:125,DEFAULT:100,SMALL:75,SMALLEST:50})}),null);
__d("VideoPlayerHTML5CaptionsDisplayStyle",["cx","CSS","VideoCaptionBackgroundOpacityType","VideoCaptionTextSizeType","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={Black:"20, 22, 26",Blue:"0, 0, 255",Green:"0, 255, 0",Cyan:"0, 255, 255",Red:"255, 0, 0",Magenta:"255, 0, 255",White:"255, 255, 255",Yellow:"255, 255, 0"},i={DEFAULT_BACKGROUND_COLOR:"Black",DEFAULT_BACKGROUND_OPACITY:b("VideoCaptionBackgroundOpacityType").DEFAULT,DEFAULT_TEXT_COLOR:"White",DEFAULT_TEXT_SIZE:b("VideoCaptionTextSizeType").DEFAULT};a=function(){__p&&__p();function a(a,b,c,d,e,f,g){this.$5="center",this.$1=c,this.$2=d,this.setBackgroundColor(a),this.setBackgroundOpacity(b),this.setTextColor(e),this.setTextSize(f),this.setTextAlignment(g),this.updateStyle()}var c=a.prototype;c.setBackgroundColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$3=a:this.$3=i.DEFAULT_BACKGROUND_COLOR};c.setBackgroundOpacity=function(a){b("isTruthy")(a)&&a>=b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&a<=b("VideoCaptionBackgroundOpacityType").OPAQUE?this.$4=a:this.$4=i.DEFAULT_BACKGROUND_OPACITY};c.setTextColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$6=a:this.$6=i.DEFAULT_TEXT_COLOR};c.setTextSize=function(a){a!=null&&a>=b("VideoCaptionTextSizeType").SMALLEST&&a<=b("VideoCaptionTextSizeType").BIGGEST?this.$7=a:this.$7=i.DEFAULT_TEXT_SIZE};c.setTextAlignment=function(a){this.$5=(a=a)!=null?a:"center"};c.updateStyle=function(){__p&&__p();var a,c=this.$4;this.$4===b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&(c=0);c=(a=c)!=null?a:i.DEFAULT_BACKGROUND_OPACITY;a=(a=this.$3)!=null?a:i.DEFAULT_BACKGROUND_COLOR;c=c/100;c="rgba("+h[a]+", "+c+")";this.$1.style.backgroundColor=c;this.$1.style.color=(c=this.$6)!=null?c:i.DEFAULT_TEXT_COLOR;c="0 0 10px rgb("+h[a]+"), 0 0 5px rgba("+h[a]+", .8)";this.$1.style.textShadow=c;b("CSS").conditionClass(this.$2,"_5z64",this.$7==b("VideoCaptionTextSizeType").SMALLEST);b("CSS").conditionClass(this.$2,"_5z65",this.$7==b("VideoCaptionTextSizeType").SMALL);b("CSS").conditionClass(this.$2,"_5z66",this.$7==b("VideoCaptionTextSizeType").MEDIUM);b("CSS").conditionClass(this.$2,"_5z67",this.$7==b("VideoCaptionTextSizeType").BIG);b("CSS").conditionClass(this.$2,"_5z68",this.$7==b("VideoCaptionTextSizeType").BIGGER);b("CSS").conditionClass(this.$2,"_5z69",this.$7==b("VideoCaptionTextSizeType").BIGGEST);b("CSS").conditionClass(this.$2,"_6mk2",this.$5==="left");b("CSS").conditionClass(this.$1,"_6mk2",this.$5==="left")};return a}();e.exports=a}),null);
__d("VideoPlayerHTML5CaptionsDisplay",["csx","cx","CSS","DOM","DOMQuery","VideoPlayerHTML5CaptionsDisplayStyle"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c,d=a.append,e=a.drawer,f=a.existingNodesContainer;a=a.boundingBox;this.$1=null;this.$2=null;this.$3="";this.$4=null;this.$5=null;this.$6=null;this.$8=null;f=(f=b("DOMQuery").scry(f,"._30vn")[0])!=null?f:null;c=f?(c=b("DOMQuery").find(f,"._30vo"))!=null?c:null:null;f||(f=b("DOM").create("div",{className:"_30vn hidden_elem"}));c||(c=b("DOM").create("span",{className:"_30vo hidden_elem"}),b("DOM").setContent(f,c));this.$1=f;this.$2=c;this.$8=d(f);this.$4=e;this.$5=e.addListener("reposition",this.$9.bind(this));this.$7=a;this.$10()}var c=a.prototype;c.handleBoundingBoxChanged=function(a){this.$7=a,this.$10()};c.handleCaptionsChanged=function(a,b){this.$11(a),this.$12(b)};c.setCaptionsStyle=function(a,c,d,e){var f=this.$6;if(f)f.setBackgroundColor(a),f.setBackgroundOpacity(c),f.setTextColor(d),f.setTextSize(e),f.updateStyle();else{f=this.$2;var g=this.$1;f&&g&&(this.$6=new(b("VideoPlayerHTML5CaptionsDisplayStyle"))(a,c,f,g,d,e,"center"))}};c.showCaptions=function(){var a=this.$1;a&&b("CSS").removeClass(a,"hidden_elem");a=this.$4;a&&(a.reposition(),a.reserve())};c.hideCaptions=function(){var a=this.$1;a&&b("CSS").addClass(a,"hidden_elem");a=this.$4;a&&a.release()};c.destroy=function(){var a=this.$5;a&&(a.remove(),this.$5=null);a=this.$4;a&&(a.release(),a.removeAllListeners(),this.$4=null);a=this.$8;a&&a();this.$1=null;this.$2=null};c.$10=function(){var a=this.$7,c=this.$1;c&&(a.width<350?(b("CSS").removeClass(c,"_30vp"),b("CSS").addClass(c,"_30vq")):a.width<800?(b("CSS").removeClass(c,"_30vp"),b("CSS").removeClass(c,"_30vq")):(b("CSS").removeClass(c,"_30vq"),b("CSS").addClass(c,"_30vp")))};c.$9=function(a){var c=this.$1;c&&b("DOM").setAttributes(c,{style:"bottom:"+a+"px;"})};c.$12=function(a){a=a.textAlignment;var c=this.$6;if(c)c.setTextAlignment(a),c.updateStyle();else{c=this.$2;var d=this.$1;c&&d&&(this.$6=new(b("VideoPlayerHTML5CaptionsDisplayStyle"))(void 0,void 0,c,d,void 0,void 0,a))}};c.$11=function(a){__p&&__p();a=a.map(function(a){return a.trim()}).filter(function(a){return!!a}).join("\n").trim();var c=this.$3;this.$3=a;var d=this.$1,e=this.$2,f=this.$4;if(!d||!e||!f)return;this.$10();a!==c&&b("DOM").setContent(e,a);a?(b("CSS").removeClass(e,"hidden_elem"),f.setHeight(d.offsetHeight)):(b("CSS").addClass(e,"hidden_elem"),f.setHeight(0))};return a}();e.exports=a}),null);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){__p&&__p();b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("VideoPlayerHTML5TrackNodeManager",["BlobFactory","DOM"],(function(a,b,c,d,e,f){__p&&__p();var g=a.URL||a.webkitURL;c=function(){"use strict";__p&&__p();function a(a){var b=a.videoEl;a=a.parsedSubRipText;this.$1=null;this.$2=null;this.$3=null;this.$4=null;this.$2=b;this.$4=a;this.$5()}var c=a.prototype;c.$5=function(){__p&&__p();if(!g||!b("BlobFactory").isSupported())return;if(this.$4){var a=b("BlobFactory").getBlob([this.$4.renderVTT()],{type:"text/vtt"});a=g.createObjectURL(a);this.$1=b("DOM").create("track",{kind:"captions",src:a});b("DOM").appendContent(this.$2,this.$1)}this.$2&&Array.prototype.forEach.call(this.$2.textTracks,function(a){a.mode="hidden"})};c.destroy=function(){this.$1&&(b("DOM").remove(this.$1),this.$1=null)};return a}();e.exports=c}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.__fbNativeSetTimeout,h=a.__fbNativeClearTimeout,i=window.requestIdleCallback,j=window.cancelIdleCallback,k=function(a){var b=function b(){a(b)};return b},l=function(a,b){var c=function c(){a(c,b)};return c},m=function(a,b){var c=function c(){a(c,b)};return c};c=function(){__p&&__p();function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var c=a.prototype;c.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};c.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?b("performanceNow")()-Number(this.$2):null};c.$8=function(){this.$2=b("Visibility").isHidden()?null:b("performanceNow")()};c.$9=function(){this.$2=null,typeof this.$4==="number"&&(j(this.$4),this.$4=null),typeof this.$3==="number"&&(h(this.$3),this.$3=null)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$10():this.$11()};c.$6=function(){var a=this;b("Visibility").addListener(b("Visibility").VISIBLE,function(){a.$9(),a.$7()});b("Visibility").addListener(b("Visibility").HIDDEN,function(){a.$9()})};c.$10=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(c>-1){var d=function b(){a.$8(),a.$3=g(b,c)};g(d,c)}};c.$11=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),d;c>-1&&(d={timeout:c});c=function c(e){a.$8(),a.$4=b("requestIdleCallback")(c,d)};b("requestIdleCallback")(c,d)};c.$5=function(){return b("Visibility").isSupported()&&typeof i==="function"&&typeof j==="function"&&typeof g==="function"&&typeof h==="function"};c.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=k(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=l(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=k(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof i==="function"&&(a=l(i,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof g==="function"&&(a=m(g,d));a&&a()};return a}();e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){var d=this;this.$3=new(b("SubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return d.$5()}),b("EventListener").listen(this.$1,"pause",function(){return d.$6()}))}var c=a.prototype;c.playStarted=function(){(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};c.$6=function(){this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};c.$5=function(){this.$4&&(this.$4.log(),this.$4=null)};c.unload=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=this,d=i(a,function(){if(!d)return;d.remove();d=null;for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=this,d=h(a,function(){d.remove();for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=h}),null);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};e.exports={base64ToUint8Array:a,arrayBufferToBase64:b}}),null);
__d("OzWidevineDrmProvider",["URI","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/drm/OzDrmUtils").arrayBufferToBase64,h=b("oz-player/drm/OzDrmUtils").base64ToUint8Array;a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();this.$2=[];this.$4=!0;this.$5=!1;f!==void 0&&f!==null&&f!==""&&(this.$1=h(f));if(c!==null&&c!==void 0&&e!==null&&e!==void 0){f=new(b("URI"))(c);f.addQueryData("access_token",e);this.$3=f.toString();this.$5=!0;this.$4=!1}else{c=d["0"];if(c===void 0||c===null){c="/video/drm/getlicense";e=new(b("URI"))(c);e.addQueryData("video_id",a);this.$3=e.toString()}else this.$3=c}}var c=a.prototype;c.getKeySystem=function(){return"com.widevine.alpha"};c.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};c.getInitDatas=function(){return this.$2};c.setInitDatas=function(a){this.$2=a};c.getRequireDistinctiveIdentifier=function(){return"optional"};c.getRequirePersistentState=function(){return"optional"};c.getInitDataTypes=function(){return};c.getDrmSessionTypes=function(){return["temporary"]};c.getAudioRobustness=function(){return""};c.getVideoRobustness=function(){return""};c.getServerCertificate=function(){return this.$1};c.getLicenseRequestInfo=function(a){__p&&__p();var b={url:this.$3,method:"POST",body:"",headers:{}};this.$4&&(b.credentials="include");a=g(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};c.parseLicenseResponse=function(a){__p&&__p();a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!==null&&b.error!==void 0||(c=b.license)}else c=a;return c!==void 0&&c!==null&&c!==""?h(c):null};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){__p&&__p();d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){e(f);f.setError(a);f.log();throw a})}e.exports={executeOperationAndLog:a,monitorPromiseAndLogOperation:b}}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};b.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};b.setError=function(a){this.$2=a;return this};b.setResult=function(a){this.$3=a;return this};b.setType=function(a){this.$4=a;return this};b.setClientTimeBegin=function(a){this.$5=a;return this};b.setClientTimeEnd=function(a){this.$6=a;return this};b.setSegmentCount=function(a){this.$13=a;return this};b.setTimeToFirstByte=function(a){this.$7=a;return this};b.setTimeToLastByte=function(a){this.$8=a;return this};b.setTimeToRequestStart=function(a){this.$9=a;return this};b.setTimeToRequestSent=function(a){this.$10=a;return this};b.setReason=function(a){this.$11=a;return this};b.setResource=function(a){this.$12=a;return this};b.setSegmentStartTime=function(a){this.$14=a;return this};b.setSegmentEndTime=function(a){this.$15=a;return this};b.setLength=function(a){this.$16=a;return this};b.setLiveheadPosition=function(a){this.$17=a;return this};b.setManifestType=function(a){this.$18=a;return this};b.setPriorityFloat=function(a){this.$19=a;return this};b.setAppendedBufferMs=function(a){this.$20=a;return this};b.setInitiator=function(a){this.$21=a;return this};b.setPreloadTime=function(a){this.$22=a;return this};b.setConcluder=function(a){this.$23=a;return this};b.setPreviousRepresentationID=function(a){this.$24=a;return this};b.setRepresentationID=function(a){this.$25=a;return this};b.setStreamSwitchReason=function(a){this.$26=a;return this};b.setState=function(a){this.$27=a;return this};b.setContentLengthHeader=function(a){this.$28=a;return this};b.setCode=function(a){this.$29=a;return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$3};b.getType=function(){return this.$4};b.getClientTimeBegin=function(){return this.$5};b.getClientTimeEnd=function(){return this.$6};b.getTimeToRequestStart=function(){return this.$9};b.getTimeToRequestSent=function(){return this.$10};b.getReason=function(){return this.$11};b.getResource=function(){return this.$12};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$14};b.getSegmentEndTime=function(){return this.$15};b.getLength=function(){return this.$16};b.getLiveheadPosition=function(){return this.$17};b.getManifestType=function(){return this.$18};b.getPriorityFloat=function(){return this.$19};b.getAppendedBufferMs=function(){return this.$20};b.getInitiator=function(){return this.$21};b.getPreloadTime=function(){return this.$22};b.getConcluder=function(){return this.$23};b.getContentLengthHeader=function(){return this.$28};b.getCode=function(){return this.$29};return a}();e.exports=a}),null);
__d("oz-player/shims/OzEventListener",["EventListener"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventListener")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve(),e.exports=b("MOzExperiments").use_native_promise?b("MaybeNativePromise"):b("Promise")}),null);
__d("oz-player/shims/OzSubscriptionsHandler",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("SubscriptionsHandler")}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/shims/OzEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventEmitter")}),null);
__d("oz-player/shims/ozvariant",["invariant"],(function(a,b,c,d,e,f){e.exports=b("invariant")}),null);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;c===void 0&&(c=!1);d=a.call(this)||this;d.$OzErrorEmitter1=!1;d.$OzErrorEmitter2=!1;d.$OzErrorEmitter3=[];d.emitError=function(a){!d.$OzErrorEmitter1?d.$OzErrorEmitter2?d.$OzErrorEmitter3.push(a):d.$OzErrorEmitter1||b("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter2=c;return d}var d=c.prototype;d.onError=function(a){this.$OzErrorEmitter1=!0;a=this.addListener("error",a);this.$OzErrorEmitter2&&this.$OzErrorEmitter3.length>0&&this.$OzErrorEmitter3.forEach(this.emitError);return a};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/drm/OzDrmManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/drm/OzDrmUtils").base64ToUint8Array;a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$1=new Map();this.$3=!1;this.$5=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$6=new(b("oz-player/utils/OzErrorEmitter"))();this.$7=!1;this.$8=null;this.$9=function(a){var c=a;a instanceof b("oz-player/utils/OzError")||(c=new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{originalError:a}}));d.$6.emitError(c)};this.$4=c;this.$2=a.cloneContext().setType("drm_manager")}var c=a.prototype;c.hasContentProtections=function(){return this.$8};c.onError=function(a){return this.$6.onError(a)};c.addProvider=function(a){this.$1.set(a.getSchemeId(),a)};c.getProviderForSchemeId=function(a){return this.$1.get(a)};c.parseContentProtectionForRepresentation=function(a){__p&&__p();if(!a.ContentProtection)return null;var b=[];for(var c=0;c<a.ContentProtection.length;c++){var d=a.ContentProtection[c],e=d.$.schemeIdUri;e=this.getProviderForSchemeId(e);if(e){var f=e.getInitDatas();if(f.length==0&&d["cenc:pssh"]&&d["cenc:pssh"].length===1){d=d["cenc:pssh"][0]._;d=h(d.replace(/-/g,"+").replace(/_/g,"/"));f=[{data:d,type:"cenc"}];e.setInitDatas(f)}b.push({provider:e,initDatas:f})}}return b};c.startEME=function(a,b,c,d){__p&&__p();var e=this;if(this.$7)return;this.$7=!0;var f=new Map();this.$10(c,d,f,"audio");this.$10(a,b,f,"video");var g;f.forEach(function(a,b){!g?g=e.$11(b,a):g=g["catch"](function(){return e.$11(b,a)})});if(!g){this.$8=!1;return}this.$8=!0;var h=this.$2.getOperationLogger("drm_setup").start();g.then(this.$12.bind(this)).then(this.$13.bind(this)).then(this.$14.bind(this)).then(function(){return h.log()},function(a){e.$9(a),h.setResult("failed").setError(a).log()})};c.$15=function(a){a instanceof b("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed")};c.$10=function(a,b,c,d){__p&&__p();var e=this;b.forEach(function(b){var f;a&&a.ContentProtection?f=e.parseContentProtectionForRepresentation(a):f=b.getCustomField("drmProtections");var g=b.getMimeCodecs();f!==void 0&&f!==null&&f.forEach(function(a){a=a.provider;c.has(a.getKeySystem())||c.set(a.getKeySystem(),{audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()});var b=c.get(a.getKeySystem());d==="audio"&&!b.audioCapabilities.has(g)&&b.audioCapabilities.set(g,{contentType:g,robustness:a.getAudioRobustness()});d==="video"&&!b.videoCapabilities.has(g)&&b.videoCapabilities.set(g,{contentType:g,robustness:a.getVideoRobustness()})})})};c.destroy=function(){this.$5.release(),this.$3=!0};c.$11=function(a,b){b={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};return g(window.navigator.requestMediaKeySystemAccess(a,[b]),this.$2,"drm_request_media_key_system_access",function(){},this.$15)};c.$12=function(a){return this.$3?b("oz-player/shims/OzMaybeNativePromise").reject():g(a.createMediaKeys().then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}}),this.$2,"drm_create_media_keys",function(){},this.$15)};c.$13=function(a){__p&&__p();var c=this;if(this.$3)return b("oz-player/shims/OzMaybeNativePromise").reject();var d=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=this.$4.setMediaKeys(e).then(function(){if(c.$3)return b("oz-player/shims/OzMaybeNativePromise").reject();var a=Array.from(c.$1.values()).find(function(a){return a.getKeySystem()===d.keySystem});if(!a)throw new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+d.keySystem});var f=a.getServerCertificate();return f?e.setServerCertificate(f).then(function(){return{mediaKeySystemAccess:d,mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});return g(a,this.$2,"drm_set_media_keys",function(){},this.$15)};c.$14=function(a){__p&&__p();var c=this,d=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){this.$5.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$4,"encrypted",function(a){c.$16(d,e,a)["catch"](c.$9)}));return b("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return c.$16(d,e,{initData:a.data,initDataType:a.type})});return g(b("oz-player/shims/OzMaybeNativePromise").all(a),this.$2,"drm_request_license",function(){},this.$15)};c.$16=function(a,c,d){var e=this,f=a.createSession();this.$5.addSubscriptions(b("oz-player/shims/OzEventListener").listen(f,"message",function(a){e.$17(f,c,a)["catch"](e.$9)}),b("oz-player/shims/OzEventListener").listen(f,"keystatuseschange",function(a){e.$18(f)["catch"](e.$9)}));return f.generateRequest(d.initDataType,d.initData)};c.$17=function(a,b,c){var d=this;c=b.getLicenseRequestInfo(c.message.slice(0));return window.fetch(c.url,c).then(function(a){return a.arrayBuffer()}).then(function(c){c=new Uint8Array(c);c=b.parseLicenseResponse(c);c===null||c===void 0||c.byteLength===0?d.$9(new Error("No license for "+b.getKeySystem())):a.update(c)})};c.$18=function(a){return a.expiration<Date.now()?a.close():b("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();e.exports={OzDrmManager:a}}),null);
__d("HTML5OzDrmHelper",["OzWidevineDrmProvider","oz-player/drm/OzDrmManager"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/drm/OzDrmManager").OzDrmManager;c={OzDrmManagerModule:a,OzWidevineDrmProviderModule:b("OzWidevineDrmProvider")};e.exports=c}),null);
__d("OzDashPrefetchCache",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.hasCacheValue=function(a){return b("VideoDashPrefetchCache").hasCacheValue(a)};c.getCacheValue=function(a){return b("VideoDashPrefetchCache").getCacheValue(a)};c.getCachedRepresentations=function(a){return null};return a}();e.exports=a}),null);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c){this.$4=new Map(),this.$1=a,this.$2=b,this.$3=c}var c=a.prototype;c.$5=function(a,c){var d=null;if(this.$4.get(a))d=this.$4.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(d=b("MosUtils").parsePlaybackMos(String(e)),d&&this.$4.set(a,d))}return d!=null?b("MosUtils").getMosValue(d,b("MosUtils").getQualityLabel(c.width,c.height)):null};c.$6=function(a,b){var c=this,d=a.some(function(a){a=c.$5(a,b);return a!=null?a>c.$2&&a<c.$1:!1});return!d?a:a.filter(function(a){a=c.$5(a,b);return a!=null?a<=c.$1:!0})};c.$7=function(a,b){var c=this,d=null;a.forEach(function(a){a=c.$5(a,b);a!=null&&a>c.$1&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$5(a,b);return a==null?!0:a<=c.$1||a===d})};c.applyRestriction=function(a,b){return a.length===0?[]:this.$3?this.$7(a,b):this.$6(a,b)};return a}();e.exports=a}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a={getBool:function(a,b){return g?g.getBool(a,b):b},getNumber:function(a,b){return g?g.getNumber(a,b):b},getString:function(a,b){return g?g.getString(a,b):b},setGlobalConfig:function(a){g=a}};e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverage:i,getExponentiallyWeightedMovingAverageOfBandwidth:j,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:k}}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;e.exports=a}),null);
__d("oz-player/shims/OzWritableStream",["requireCond","cr:927623"],(function(a,b,c,d,e,f){"use strict";b("cr:927623")&&(b("cr:927623").WritableStream.isPolyfilled=!0);a=b("cr:927623")?b("cr:927623").WritableStream:window.WritableStream;e.exports=a}),null);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$OzTransformStream3=function(a){return a};c=c||{};c=c.errorTransform;(c===void 0||c===null)&&(c=d.$OzTransformStream3);var e=c||d.$OzTransformStream3;d.writable=new(b("oz-player/shims/OzWritableStream"))({start:function(a){d.$OzTransformStream2=a},write:function(a){d.emit("writableWrite",a);try{d.onDataWritten(a)}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+d.constructor.name,extra:{originalError:a}}))}d.$OzTransformStream1.enqueue(a)},close:function(){d.emit("writableClose");try{d.onClose()}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+d.constructor.name,extra:{originalError:a}}))}d.$OzTransformStream1.close()},abort:function(a){a=e(a);d.$OzTransformStream1.error(a)}});d.readable=new(b("oz-player/shims/OzReadableStream"))({start:function(a){d.$OzTransformStream1=a},cancel:function(a){d.emit("readableCancel",a),d.$OzTransformStream2.error(a)}});return d}var d=c.prototype;d.onDataWritten=function(a){};d.onClose=function(){};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/utils/OzResourceTimingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){if(!performance.getEntriesByName)return null;a=performance.getEntriesByName(a,"resource");return a.reduce(function(a,b){if(a==null)return b;return typeof b.responseEnd==="number"&&typeof b.responseStart==="number"&&typeof b.startTime==="number"&&typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.startTime==="number"?b.responseEnd<a.responseEnd?a:b:null},null)};e.exports={getLatestResourceTimingEntry:a}}),null);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/utils/OzResourceTimingUtils","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry;a=function(){__p&&__p();function a(a){__p&&__p();this.$8=Date.now();this.$9=0;this.$10=0;this.$11=function(){};this.$12=function(){};this.$13=new(b("oz-player/networks/OzTransformStream"))();var c=a.stream,d=a.loggerProvider,e=a.byteCountPerSample,f=a.minimumBytesToSampleOnClose,g=a.minimumSampleDuration,h=a.maximumSampleBandwidth,i=a.usePerformanceEntryOnClose;a=a.ignoreTimeToResponseStart;this.$1=c;this.$14=d;this.$2=e;this.$3=f;this.$4=g;this.$5=h;this.$6=i;this.$7=a;this.$13.addListener("writableWrite",this.$15.bind(this));this.$13.addListener("writableClose",this.$16.bind(this))}var c=a.prototype;c.getTransformStream=function(){return this.$13};c.onBandwidthSample=function(a){this.$11=a};c.onTimeToFirstByteMsSample=function(a){this.$12=a};c.$17=function(a,b){if(this.$14){var c=Date.now();this.$14&&this.$14.getOperationLogger("bandwidth_sampled").setLength(a).setClientTimeEnd(c).setClientTimeBegin(c-b).log()}this.$11(a,b)};c.$15=function(a){a.length!=void 0&&(this.$10+=a.length),this.$18()};c.$16=function(){__p&&__p();var a=Date.now()-this.$8,b=this.$1.getLastRequestUrl();b=b!=null?g(b):null;b&&this.$12(b.responseStart-b.requestStart);if(this.$3>0&&a>0&&this.$9===0&&this.$10>=this.$3){if(this.$6&&b&&b.responseEnd&&b.startTime){b=this.$7?b.responseEnd-b.responseStart:b.responseEnd-b.startTime;a=b>0?b:a}this.$19(a)||this.$17(this.$10,a)}};c.$19=function(a){var b=this.$10*8/(a/1e3);return a<this.$4&&b>this.$5};c.$18=function(){var a=Date.now(),b=a-this.$8;this.$2>0&&this.$10>=this.$9+this.$2&&!this.$19(b)&&(this.$17(this.$10-this.$9,b),this.$8=a,this.$9=this.$10)};return a}();e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){__p&&__p();b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};c.remove=function(a){__p&&__p();var b=this.$5.get(a);if(b===void 0)return;b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.$8=function(a){__p&&__p();var c=this.$6.get(a);if(!c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=d.getPromise();this.$6.set(a,c);var e=a.run;a.run=function(){return e.call(a).then(function(a){d.resolve(a);return a})["catch"](function(a){d.reject(a);throw a})}}return c};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};c.$6=function(a,c){__p&&__p();var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$4>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;c=c.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map(),i=2,j=2,k=6e4;function a(a){var c=g.get(a);if(!c){c=new(b("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(i,j);var d=new(b("oz-player/scheduling/OzSequentialTaskScheduler"))(c,{taskTimeout:k});d.start();g.set(a,c);h.set(a,d)}return c}e.exports={getQueue:a,OZ_QUEUE_MAX_PRIORITY:i}}),null);
__d("oz-player/shims/OzBandwidthCache",["CacheStorage","Run"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){var d=this;this.$1=new(b("CacheStorage"))("localstorage","_video_");this.$2=a;this.$3=c;b("Run").onUnload(function(){d.updateCachedBandwidth()})}var c=a.prototype;c.getCachedBandwidth=function(){return this.$1.get(this.$2)};c.updateCachedBandwidth=function(){this.$1.set(this.$2,this.$3())};return a}();e.exports=a}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzBandwidthCache","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/networks/OzBandwidthUtils").getBandwidthEstimate,h=b("oz-player/networks/OzBandwidthUtils").getExponentiallyWeightedMovingAverage,i=b("oz-player/networks/OzBandwidthUtils").getExponentiallyWeightedMovingAverageOfBandwidth,j=b("oz-player/networks/OzBandwidthUtils").getStandardDeviationOfBandwidth,k=.9,l=5e5,m=2e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$OzBandwidthEstimator1=[];c.$OzBandwidthEstimator2=[];c.$OzBandwidthEstimator3=new(b("oz-player/shims/OzBandwidthCache"))(b("oz-player/configs/OzGlobalConfig").getString("bandwidth_cache_key","bandwidthEstimate"),function(){return c.getAdjustedBandwidth(b("oz-player/configs/OzGlobalConfig"))});return c}var d=c.prototype;d.getBandwidth=function(a){var b=g(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};d.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?h(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};d.$OzBandwidthEstimator4=function(a){var b=this.$OzBandwidthEstimator3.getCachedBandwidth();return typeof b==="number"&&b>0?b:a.getNumber("default_bandwidth_estimate",l)};d.getStandardDeviationOfBandwidth=function(){return j(this.$OzBandwidthEstimator1)};d.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};d.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};d.$OzBandwidthEstimator7=function(a,c){var d=Math.max(0,b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);d=Math.min(k,d*a);return c*(1-d)};d.$OzBandwidthEstimator5=function(a){var b=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};d.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};d.pipeThroughReporter=function(a,c,d){var e=this;return{startStream:function(f){var g=new(b("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:c,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",m),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1)});g.onBandwidthSample(function(b,c){e.$OzBandwidthEstimator8(b,c),a.getBool("update_bandwidth_cache_on_sample",!1)&&e.$OzBandwidthEstimator3.updateCachedBandwidth()});g.onTimeToFirstByteMsSample(e.$OzBandwidthEstimator9.bind(e));return c.startStream(f).then(function(b){return c.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?b:b.pipeThrough(g.getTransformStream())})}}};d.$OzBandwidthEstimator8=function(a,c){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:c}),this.$OzBandwidthEstimator1.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.shift(),this.emit("bandwidth_sampled")};d.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=new a()}),null);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor",0);if(e===0)return b;a=b.filter(function(a){return a.getWidth()<=c.width*d*e||a.getHeight()<=c.height*d*e});return!a.length?[b[0]]:a};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval",0):a.getNumber("initial_switch_interval",0);d=d>=a.getNumber("abr_min_bandwidth_samples",0);var g=a.getNumber("abr_eval_buffer_threshold",0);c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval",1e3)>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};e.exports={excludeLargeRepresentations:a,getReasonToPreventEvaluation:b}}),null);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=.1;d=1;var g=.2;function a(a,b,c,d){__p&&__p();if(h(a,c,d))return!0;c=a.currentTime;d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function h(a,b,c){var d=a.currentTime,e=0;for(var f=0;f<a.buffered.length;f++){var h=a.buffered.start(f),i=a.buffered.end(f);if(h<=d&&i>=d){e=i;break}}return(!c.getBool("reach_end_only_when_video_ended",!1)||a.ended)&&(Math.abs(e-b)<=g||Math.abs(d-b)<=g)}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return i(b,a.getBufferedRanges())}function i(a,b){__p&&__p();var c=null;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f.startTime<=a&&f.endTime>a&&(c=f)}return!c?0:c.endTime-a}e.exports={getBufferAheadFromCurrentTime:i,getBufferAheadFromPlaybackStates:b,hasEnoughBuffer:a,hasBufferedToOrReachedEnd:h,BUFFER_OVERFLOW_THRESHOLD:d,BUFFER_UNDERFLOW_THRESHOLD:c,BUFFER_FUDGE_FACTOR:g}}),null);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){if(c.length===0)return[];c.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});return a.reduce(function(a,c){return c.applyRestriction(a,b)},c)};e.exports={applyVideoPlaybackRestrictions:a}}),null);
__d("RepomenAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;a=function(){__p&&__p();function a(a,b,c,d,e,f,g){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$11=null,this.$1=a,this.$5=b,this.$6=c,this.$7=d,this.$8=e,this.$10=f,this.$12=g}var c=a.prototype;c.setSourceBuffer=function(a){this.$9=a};c.getBestRepresentation=function(){__p&&__p();var a=i(this.$9,this.$8),c=h(this.$1,this.$4,a,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(c!==null&&c!==void 0){this.$11=c;return this.$5}c=Date.now();this.$2=c;var d=this.$10.getDimensions(),e=g(this.$1,this.$6,d,this.$12);e=j(this.$7,d,e);d=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1);var f,k=this.$1.getNumber("bandwidth_abr_ratio",1),l=this.$1.getNumber("bandwidth_abr_bias",0),m=this.$1.getNumber("buffer_abr_ratio",1),n=this.$1.getNumber("buffer_abr_bias",0);k=k*(d/1e6-l)+m*(a-n);for(var d=0;d<e.length;d++)e[d].getBandwidth()/1e6<k&&(f=e[d]);f=f||e[0];this.$5!==f&&(this.$4=!0,this.$3=c,this.$5=f);this.$11="repomen";return f};c.getStreamSegmentsCountStrategy=function(){return null};c.getLastEvaluationReason=function(){return this.$11};return a}();e.exports=a}),null);
__d("oz-player/networks/createNetworkError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d,e,f){return new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:f,extra:{originalError:a,code:c.toString(),headers:d,url:e}})};e.exports=a}),null);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",["oz-player/networks/createNetworkError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.onResponse=function(a,c){var d=a.headers;a=a.status;if(d&&d.has("x-fb-video-replica")){a=b("oz-player/networks/createNetworkError")(new Error("Replica switch requested via HTTP headers"),a,d,c,"HTTP error.");throw a}return null};c.onError=function(a,b){return null};return a}();e.exports=a}),null);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();e.exports=a}),null);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry;a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.onResponse=function(a,c){var d=this,e=a.headers;if(!this.$1)return null;a=new(b("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},b=g(c);b&&(a.lat=Math.round(b.responseStart-b.requestStart).toString());d.$1&&e&&d.$1(e,a)});return a};c.onError=function(a,b){return null};return a}();e.exports=a}),null);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="oz_www_";a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};return a}();e.exports=a}),null);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a={getBool:function(a,c){return b("VideoPlayerShakaGlobalConfig").getBool(g+a,c)},getNumber:function(a,c){return b("VideoPlayerShakaGlobalConfig").getNumber(g+a,c)},getString:function(a,c){return b("VideoPlayerShakaGlobalConfig").getString(g+a,c)}};e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){typeof a==="number"&&(a=Math.floor(a));return a}var h=!1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.isEnabled=function(){return c.$ExtendableVideoPlayerShakaPerformanceTypedLogger3()||c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()};c.enable=function(){h=!0};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger3=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return h};var d=c.prototype;d.log=function(){c.isEnabled()&&a.prototype.log.call(this)};d.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};d.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};d.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};d.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};d.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,g(b));return this};d.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,g(b));return this};d.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,g(b));return this};return c}(b("VideoPlayerShakaPerformanceTypedLogger"));e.exports=a}),null);
__d("VideoPlayerArtilleryOperationMarker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=!1}var b=a.prototype;b.markOperationStart=function(){return this.$7("Starting")};b.markOperationEnd=function(){return this.$7("Ending")};b.$7=function(a){var b=this.$4();b&&b.inform(a+" "+this.$2+" #"+this.$3,{pointGroup:this.$5.getGroupName(this.$2,this.$1),isPointOfInterest:!0,type:null}).addStringAnnotation("resource",this.$1||"").addStringAnnotation("wasPrefetchCacheHit",this.$6.toString());return this};b.setResource=function(a){this.$1=a;return this};b.setWasPrefetchCacheHit=function(a){this.$6=a;return this};return a}();e.exports=a}),null);
__d("VideoPlayerArtilleryPointGrouper",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=new Map(),this.$2=new Map()}var b=a.prototype;b.getGroupName=function(a,b){__p&&__p();if(!b){switch(a){case"start_streams":a="source_attach";break}return a}a=this.$1.get(b);if(a)return a;var c;if(b.indexOf("-init.m4v")!==-1)c="-init.m4v";else if(b.indexOf("-init.m4a")!==-1)c="-init.m4a";else if(b.indexOf(".mpd")!==-1)return"source_load";else b.indexOf(".m4v")!==-1?c=".m4v":b.indexOf(".m4a")!==-1?c=".m4a":c="unknown";var d=this.$2.get(c)+1||1;this.$2.set(c,d);a=c+" #"+d;this.$1.set(b,a);return a};return a}();e.exports=a}),null);
__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e4,h=3e3;a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$12=function(){var a=d.$2;if(a){var b=a.stallTrace,c=a.hasStalls;a=a.stallTraceTimeout;c?b.finish():b.disable();clearTimeout(a)}d.$2=null};this.$16=function(){return d.$1};this.$17=function(){var a=d.$2;return a?a.stallTrace:null};this.$3=c.videoID;this.$4=c.video;this.$5=a;this.$6=c.isLive;this.$8=c.playerOrigin;this.$9=c.playerSuborigin;this.$7=0;this.$10=new(b("VideoPlayerArtilleryPointGrouper"))()}var c=a.prototype;c.updateBufferAhead=function(a){var c=this.$2;!c&&a<=h?this.$2={stallTrace:this.$11(b("TimeSliceInteraction").create("video_stall")),hasStalls:!1,stallTraceTimeout:setTimeout(this.$12,g)}:a>h&&this.$12()};c.enterState=function(a){switch(a){case"loading":this.$13();break;case"playing":this.$14();break;default:this.$15(a);break}return this};c.$15=function(a){var b=this.$1;b&&b.inform("State: "+a)};c.getMarkers=function(a){var c=[],d=(++this.$7).toString();this.$1&&c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$16,this.$10));var e=this.$2;e&&(a==="buffering"&&(e.hasStalls=!0),c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$17,this.$10)));return c};c.$13=function(){var a=this.$11(b("TimeSliceInteraction").create("video_psr"));this.$1=a;this.$15("loading")};c.$14=function(){this.$15("playing");var a=this.$1;a&&(a.finish(),this.$1=null)};c.$11=function(a){a.trace().addStringAnnotation("videoID",this.$3).addStringAnnotation("sessionID",this.$5).addStringAnnotation("browserName",b("UserAgentData").browserName).addStringAnnotation("browserVersion",b("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$6.toString()).addStringAnnotation("playerOrigin",this.$8||"").addStringAnnotation("playerSuborigin",this.$9||"");return a};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerArtilleryTrace","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger11=!1;e.$VideoPlayerShakaPerformanceLogger22=0;e.$VideoPlayerShakaPerformanceLogger23=0;e.$VideoPlayerShakaPerformanceLogger21=d;e.$VideoPlayerShakaPerformanceLogger2=d.videoID;e.$VideoPlayerShakaPerformanceLogger4=d.video;e.$VideoPlayerShakaPerformanceLogger1=d.uniqueID;e.$VideoPlayerShakaPerformanceLogger3=0;e.$VideoPlayerShakaPerformanceLogger9=d.isLive;e.$VideoPlayerShakaPerformanceLogger10=d.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger8=null;e.$VideoPlayerShakaPerformanceLogger12=d.accessToken;e.$VideoPlayerShakaPerformanceLogger14=d.playerOrigin;e.$VideoPlayerShakaPerformanceLogger15=d.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger16=d.playerVersion;e.$VideoPlayerShakaPerformanceLogger24=d.getBandwidthEstimate;e.setRepresentationID(d.representationId);e.$VideoPlayerShakaPerformanceLogger26=d.isDrm;e.$VideoPlayerShakaPerformanceLogger13=new(b("VideoPlayerArtilleryTrace"))(e.$VideoPlayerShakaPerformanceLogger1,d);c.maybeEnableMainThreadAvailabilityLogging();return e}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger27=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3));this.$VideoPlayerShakaPerformanceLogger13.updateBufferAhead((b.end(c)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};d.$VideoPlayerShakaPerformanceLogger28=function(){return this.$VideoPlayerShakaPerformanceLogger11};d.getEventLogger=function(a){__p&&__p();var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger27(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger28()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(e).setClientTimeEnd(e).setIsDrm(this.$VideoPlayerShakaPerformanceLogger26);var k=this,l=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?k.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(k.$VideoPlayerShakaPerformanceLogger6=null);k.$VideoPlayerShakaPerformanceLogger5=a;k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return l.call(this,a)};f.updateState=function(a){if(this.getState()==k.$VideoPlayerShakaPerformanceLogger5){k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return this.setState(a)}return this};var m=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),m.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),m.call(this,a.type)),this.setCode(a.status||a.errorRawTransportStatus)):m.call(this,a);return this};var n=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger17=a;return n.call(f,a)};return f};d.getArtilleryMarkers=function(a){return this.$VideoPlayerShakaPerformanceLogger13.getMarkers(a)};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){__p&&__p();var c=this,d=this.getEventLogger(a),e=this.getArtilleryMarkers(a),f=d.setResource;d.setResource=function(a){e.forEach(function(b){return b.setResource(a)});return f.call(d,a)};var g=d.log,h=this,j=!1,k=null;d.log=function(){__p&&__p();if(j)return;b("clearTimeout")(k);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);h.$VideoPlayerShakaPerformanceLogger29(d);h.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(h.$VideoPlayerShakaPerformanceLogger7=Date.now());e.forEach(function(a){return a.markOperationEnd()});j=!0;return g.call(this)};d.start=function(){e.forEach(function(a){return a.markOperationStart()});k=b("setTimeoutAcrossTransitions")(function(){k=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){e.forEach(function(b){return b.setWasPrefetchCacheHit(a)});return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var l=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return l.call(d,a)};var m=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger18=a;return m.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger29=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger25=null;e.exports=a}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function i(a,b){return Math.floor(a).toString().padStart(b,"0")}function j(a,b){b===void 0&&(b=null);var c=function(a){return i(a.getHours(),2)+":"+i(a.getMinutes(),2)+":"+i(a.getSeconds(),2)+" "+i(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function k(a){return a==="failed"?h:g}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new l(a)};c.createLoggerProvider=function(){return new b()};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));var l=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource();k(d)("["+d+"]",this.getOperationName()+": "+j(new Date(a),c),e?""+e:"",f||"",g||"")};return a}(b("oz-player/loggings/OzOperationLoggerBase"));e.exports={OzDevConsolePerfLoggerProvider:a,OzDevConsoleOperationLogger:l}}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){var b=new g(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider1)};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));var g=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setCode(a)});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};return a}(b("oz-player/loggings/OzOperationLoggerBase"));e.exports={OzMultiDestinationPerfLoggerProvider:a}}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new(b("oz-player/shims/OzSubscriptionsHandler"))()}var c=a.prototype;c.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e,f,g,h){this.$1=a,this.$6=b,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$7=g,this.$8=h}var c=a.prototype;c.getID=function(){return this.$6};c.getBandwidth=function(){return this.$5};c.getMimeCodecs=function(){return this.$2};c.getInitSegment=function(){return this.$3};c.getCustomFieldFirstSegment=function(){return this.$7};c.getCustomField=function(a){if(this.$8==null||!this.$8[a])throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller"});a=this.$8[a];try{return a(this.$1)}catch(a){return null}};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,229),this.$4.updateWith(c.$4)};c.getSegmentByTime=function(a){return this.$4.getSegmentByTime(a)};c.getSegment=function(a){return this.$4.getSegment(a)};c.getSegmentAfter=function(a){return this.$4.getSegmentAfter(a)};c.isEndingSegment=function(a){return this.$4.isEndingSegment(a)};c.addUpdateListener=function(a){return this.$4.addUpdateListener(a)};c.getTimeRanges=function(){return this.$4.getTimeRanges()};c.blockTimeRange=function(a){this.$4.blockTimeRange(a)};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){d=a.call(this,b,c,d,e,f,g,h,i)||this;d.$OzAudioRepresentation1=b;d.$OzAudioRepresentation2=c;d.$OzAudioRepresentation3=g;return d}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation3/a).toFixed(1)+"Kbps"};c.getQualityLabel=function(){return this.$OzAudioRepresentation2};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.$2=function(a){a=a.split(":")[0];return a||""};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeout",["setTimeout"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeout")}),null);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$3=[];this.$4=function(){var a=[];for(var b=0;b<c.$1.buffered.length;b++)a.push({startTime:c.$1.buffered.start(b),endTime:c.$1.buffered.end(b)});c.$3=a};this.$1=a;this.$2.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",this.$4),b("oz-player/shims/OzEventListener").listen(this.$1,"error",this.$4))}var c=a.prototype;c.getBufferedRanges=function(){return this.$3};c.addEventListener=function(a,c){return b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",c)};c.destroy=function(){this.$2.release(),this.$2.engage()};return a}();e.exports=a}),null);
__d("oz-player/utils/OzSourceBufferUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.buffered.length;c++)b+=a.buffered.end(c)-a.buffered.start(c);return b}e.exports={getTotalBufferedTime:a}}),null);
__d("oz-player/utils/ozConcatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer};e.exports=a}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzReadableStream","oz-player/shims/ozSetTimeout","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/ozConcatArrayBuffer","oz-player/utils/OzError","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzSourceBufferUtil").getTotalBufferedTime;a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$2=null;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$5=!1;this.$6=[];this.$10=function(){e.$2&&e.$2.resolve(),e.$2=null};this.$11=function(){var a=e.$2;a&&b("oz-player/shims/ozSetTimeout")(function(){var c=e.$8.getErrorCode(),d=e.$8.getMediaErrorName(),f={};c!==null&&c!==void 0&&(f.code=c.toString());c=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:d!==null&&d!==void 0?d:"Unknown SourceBuffer Append Error",extra:f});a.reject(c);e.$2=null},0)};this.$1=a;this.$9=c;this.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",this.$10),b("oz-player/shims/OzEventListener").listen(this.$1,"error",this.$11));this.$7=new(b("oz-player/states/OzObservedSourceBufferState"))(this.$1);this.$8=d}var c=a.prototype;c.queueData=function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=0);var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$6.push({data:a,deferred:e,loggerProvider:c,appendTarget:d});a=e.getPromise();this.$5||this.$12();return a};c.cancelOperationAndCleanQueue=function(){__p&&__p();var a=this.$13();this.$6.forEach(function(b){b=b.deferred;b.reject(a)});this.$6=[];this.$1.abort();var c=b("oz-player/shims/OzMaybeNativePromise").resolve(),d=this.$2;d&&(d.reject(a),c=d.getPromise()["catch"](function(){}));this.$4&&(this.$4.reject(a),this.$4=null);return c};c.getSourceBufferState=function(){return this.$7};c.clearRange=function(a,b){this.$1.remove(a,b)};c.$14=function(a){var c=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=c.getPromise();a&&g(c,a,"wait_for_source_buffer");return c};c.$15=function(a,c){__p&&__p();var d=this;if(this.$2!==null)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$16("cannot have concurrent appends"));var e=function e(){__p&&__p();if(d.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&d.$1.updating)return d.$14(c).then(e)["catch"](function(a){if(d.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return e();throw a});var f=d.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));try{d.$1.appendBuffer(a)}catch(a){var i=d.$8.getErrorCode();i=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a.message,extra:{originalError:a,code:i!==null&&i!==void 0?i.toString():"0"}});d.$2=null;f.reject(i)}i=f.getPromise();c&&g(i,c,"append",function(b){b.setLength(a.byteLength)});var j=d.$9.getBool("log_appended_secs",!1)?h(d.$1):0;return i.then(function(){return d.$9.getBool("log_appended_secs",!1)?h(d.$1)-j:0})};if(!this.$9.getBool("sbm_waits_for_update_end",!1))return e();return!this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating?this.$14(c).then(e)["catch"](function(a){if(d.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return e();throw a}):e()};c.$12=function(){__p&&__p();var a=this;if(this.$5)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$16("Another unit of queued data is being appended."));var c=this.$6.shift();if(!c){this.$5=!1;return b("oz-player/shims/OzMaybeNativePromise").resolve()}var d=c.data,e=c.deferred,f=c.loggerProvider;c=c.appendTarget;this.$5=!0;c=d instanceof b("oz-player/shims/OzReadableStream")?this.$17(d,f,c):this.$15(d,f);return c["catch"](function(a){e.reject(a);return 0}).then(function(b){e.resolve(b),a.$5=!1,a.$12()})};c.$17=function(a,c,d){__p&&__p();var e=this,f=new ArrayBuffer(0),g=a.getReader();a=function a(){__p&&__p();var h=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));e.$4=h;g.read().then(function(a){h.resolve(a),e.$4=null})["catch"](function(a){h.reject(a),e.$4=null});return h.getPromise().then(function(g){__p&&__p();var h=g.done;g=g.value;if(h)return f.byteLength>0?e.$15(f,c):b("oz-player/shims/OzMaybeNativePromise").resolve(0);h=g;d>0&&(g instanceof Uint8Array&&(g=g.buffer),f=b("oz-player/utils/ozConcatArrayBuffer")(f,g),h=f);if(h&&h.byteLength>=d){f=new ArrayBuffer(0);return e.$15(h,c).then(function(b){return a().then(function(a){return a+b})})}return a()})};return a()};c.$16=function(a){a=new Error(a);a.name="invariant_violation";return a};c.$13=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};c.destroy=function(){this.$2&&this.$2.reject(this.$13()),this.$2=null,this.$3.release(),this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$7.destroy()};c.getDebug=function(){return{SourceBuffer:this.$1}};return a}();e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider;a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;d===void 0&&(d=new h([]));this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$5=[];this.$6=[];this.$8=!1;this.$10=!1;this.$12=function(){e.$13()||(e.$8=!1);if(!e.$14())return;var a=e.$6.shift();a&&(a(e.$2),e.$8=!0)};this.$4=d;this.$9=c;this.$1=a;this.$2=new MediaSource();this.$1.src=window.URL.createObjectURL(this.$2);this.$7=new(b("oz-player/media_source/OzMediaErrorProvider"))(this.$1);g(this.$11(),this.$4,"media_source_open")}var c=a.prototype;c.$11=function(){var a=this;if(this.$2.readyState==="open")return b("oz-player/shims/OzMaybeNativePromise").resolve();var c=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$2,"sourceopen",function(){c.resolve(),a.$12()}));return c.getPromise()};c.createSourceBufferManager=function(a,c){var d=this;c===void 0&&(c=!1);return this.$11().then(function(){var e=d.$2.addSourceBuffer(a);c&&!isNaN(d.$2.duration)&&(e.appendWindowEnd=d.$2.duration);d.$5.push(e);d.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(e,"updateend",d.$12));return new(b("oz-player/media_source/SourceBufferManager"))(e,d.$9,d.$7)})};c.getMediaSource=function(){return this.$2};c.notifyEndOfStream=function(){var a=this;this.$6.push(function(b){a.$4.getOperationLogger("end_of_stream").log(),b.endOfStream()});this.$12()};c.updateDuration=function(a){this.$6.push(function(b){b.duration=a}),this.$12()};c.detach=function(){__p&&__p();this.$1.removeAttribute("src");for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$6=[];this.$8=!1;this.$10=!0};c.$14=function(){return!this.$13()&&this.$2.readyState==="open"&&!this.$8&&!this.$10};c.$13=function(){return this.$5.some(function(a){return a.updating})};return a}();e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$5=function(){var a=d.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=d.$1.getMediaSource();d.$4.getBool("update_media_source_duration",!1)&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&d.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=c;this.$5()}var c=a.prototype;c.setTimeRangeProvider=function(a){this.$3.release();this.$3.engage();this.$3.addSubscriptions(a.addUpdateListener(this.$5));this.$2=a;if(this.$4.getBool("update_duration_if_mpd_synchronously_has_timeline_info",!1)&&a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$1.updateDuration(a)}};c.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended",!1)){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["regeneratorRuntime","oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();if(!b("oz-player/shims/OzReadableStream").isPolyfilled)return a;var c=a.getReader();return new(b("oz-player/shims/OzReadableStream"))({start:function(a){__p&&__p();var d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:g.next=3;return b("regeneratorRuntime").awrap(c.read());case 3:d=g.sent;e=d.done;f=d.value;if(!e){g.next=8;break}return g.abrupt("break",11);case 8:a.enqueue(f);g.next=0;break;case 11:a.close();case 12:case"end":return g.stop()}},null,this)}})};e.exports=a}),null);
__d("oz-player/networks/OzFetchWithCache",["oz-player/shims/OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.fetch;function h(a){return new(b("oz-player/shims/OzReadableStream"))({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}function a(a,c,d,e){__p&&__p();e===void 0&&(e=null);if(!g)throw new Error("fetch api is missing");e=e?e.getCacheValue(c):null;var f=!1;e?(f=!0,e=e.then(function(a){a=h(a.response);return{body:a,status:200,headers:null,ok:!0}})["catch"](function(b){if(a.getBool("retry_fetch_on_prefetch_error",!1))return g(c,d);else throw new TypeError()})):e=g(c,d).then(function(a){var c={status:a.status,headers:a.headers,ok:a.ok,body:void 0};if(a.body){c.body=b("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(a.body);return c}return a.arrayBuffer().then(function(a){c.body=h(a);return c})});return{promise:e,retrievedFromCache:f}}e.exports=a}),null);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/shims/ozvariant","oz-player/networks/createNetworkError","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),this.$5=!1,this.$1=b,this.$2=c,this.$6=d||[],this.$7=e,this.$8=a}var c=a.prototype;c.startStream=function(a){__p&&__p();var c=this;a=this.$2.createRequestParam(this.$1,a);var d=a.uri;a=a.http;var e=d.toString();this.$3=e;d=b("oz-player/networks/OzFetchWithCache")(this.$8,e,a,this.$7);a=d.promise;d=d.retrievedFromCache;this.$5=d;return a.then(function(a){__p&&__p();var d=[];for(var f=0;f<c.$6.length;f++)try{var g=c.$6[f].onResponse(a,e);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}g=a.body;f=a.headers;var h=a.ok,i=a.status;if(!h)return b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(new Error("HTTP status not OK"),i,f,e,"HTTP error."));g.getReader||b("oz-player/shims/ozvariant")(0,3287);h=g;c.$4=a;for(var i=0;i<d.length;i++)h=h.pipeThrough(d[i]);if(!c.$8.getBool("throw_network_error_during_stream",!1))return h;f=new(b("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?b("oz-player/networks/createNetworkError")(a,0,null,e,"Network failure."):a}});return h.pipeThrough(f)},function(a){__p&&__p();var d=[];for(var f=0;f<c.$6.length;f++)try{var g=c.$6[f].onError(a,e);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}if(a instanceof TypeError){g=b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(a,0,null,e,"Network failure."));for(var f=0;f<d.length;f++)g=g.pipeThrough(d[f]);return g}throw a})["catch"](function(a){return b("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:e,message:"Stream processing error."+a})})};c.getLastRequestUrl=function(){return this.$3};c.getLastResponse=function(){return this.$4};c.retrievedFromCache=function(){return this.$5};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}var c=a.prototype;c.produce=function(a){this.$7(a)};c.signalProducerInterruption=function(){this.$7(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){__p&&__p();var c=this;if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$5=this.$2?new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")):new(b("oz-player/shims/OzDeferred"))(),d=this.$5.getPromise());return d.then(function(){__p&&__p();if(c.$1){if(c.$3[c.$6]===void 0)throw new Error("buffer has no value at position "+c.$6)}else if(c.$3.length===0)throw new Error("buffer length must not be 0");c.$5=null;c.$4=!1;var b=c.$1?c.$8(a):c.$9(a);if(b instanceof Uint8Array)return b;throw b})};c.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};c.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};c.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};c.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};return a}();e.exports=a}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzDeferredBuffer","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){__p&&__p();function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.useNativePromiseInDeferredBuffer;f=a.enablePausableStreamResumeFromStartDangerously;var j=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!f;this.$17=!!j;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d,useNativePromise:!!e});this.$6=new this.$19({start:function(a){g.$10=a},pull:function(a){__p&&__p();if((g.$11&&g.$1.endByte===null&&g.$5||g.$7===g.$21())&&g.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){__p&&__p();var d=g.$15.hasMoreBytesToSkip()?g.$15.getBytesToSkip():void 0;return g.$3.consume(d).then(function(d){if(g.$15.hasMoreBytesToSkip()){g.$15.setBytesSkipped(d.length);return c()}g.$7+=d.length;var e=g.$21();e!==null&&g.$7>(e||0)&&b("pipeErrorTo")(g.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){g.$15.setBytesToSkip(g.$7);return c()}throw a})};return c()},cancel:function(a){g.$12&&g.$12.resolve("stream_cancelled"),b("pipeErrorTo")(g.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){__p&&__p();var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("pipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("pipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){__p&&__p();var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("pipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/shims/OzURI",["URI"],(function(a,b,c,d,e,f){"use strict";e.exports=b("URI")}),null);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.createRequestParam=function(a,c){a=new(b("oz-player/shims/OzURI"))(a);if(c){var d=c.startByte,e=c.endByte;d===0&&(e===null||e===void 0)||(a=a.addQueryData({bytestart:c.startByte}),e!==null&&e!==void 0&&(a=a.addQueryData({byteend:e})))}d=this.$1&&this.$1(a)?"include":"same-origin";return{uri:a,http:{credentials:d}}};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}e.exports=a}),null);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry,h=function(a){return a?parseInt(a.get("content-length"),10):null},i=function(a,b){b=g(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,c,d,e,f){d.length&&a.setSegmentCount(d.length),b&&i(a,b),a.setResource(b||null).setInitiator(c?"prefetch":"fetch").setTimeToRequestSent(Math.round(Math.floor(e))).setContentLengthHeader(h(f==null?void 0:f.headers)).setCode(f==null?void 0:f.status)};e.exports={setFetchStreamLoggingAttributes:a,setPerformanceLoggingAttributes:i}}),null);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzReadableStream","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/shims/OzWritableStream","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","oz-player/networks/getOzSegmentStreamableRange","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;a=function(){__p&&__p();function a(a,c,d,e){c===void 0&&(c=null),d===void 0&&(d=null),this.$1=a,this.$5=e,this.$2=new(b("oz-player/networks/RequestParamCreator"))(this.$5),this.$3=c,this.$4=d}var c=a.prototype;c.request=function(a,c,d){d===void 0&&(d=null);a.length>0||b("oz-player/shims/ozvariant")(0,212);var e=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,a[0].getURI(),this.$2,this.$4,this.$3);return this.$6(e,f,c,d,a)};c.createPausableStream=function(a,c,d){a.length>0||b("oz-player/shims/ozvariant")(0,212);var e=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,a[0].getURI(),this.$2,this.$4,this.$3);return{pausableStream:this.$7(e,f,c||null,d),loggingPayloads:{getRequestUrl:function(){return f.getLastRequestUrl()||null},isPrefetch:function(){return f.retrievedFromCache()},segments:a,getResponse:function(){return f.getLastResponse()}}}};c.requestRawUrl=function(a,c,d){d===void 0&&(d=null);c=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,new(b("oz-player/shims/OzURI"))(a),this.$2,this.$4,this.$3);a={startByte:0,endByte:null};return this.$6(a,c,[],d)};c.$7=function(a,c,d,e){c=c;if(d!=null)for(var f=0;f<d.length;f++){var g=d[f];c=g(this.$1,c,e)}return new(b("oz-player/networks/OzPausableRangeStream"))(b("oz-player/shims/OzReadableStream"),b("oz-player/shims/OzWritableStream"),a,c,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,useNativePromiseInDeferredBuffer:this.$1.getBool("use_native_promise",!1),throwErrorWhenAborted:this.$1.getBool("pausable_stream_throws_error_when_aborted",!1)})};c.$6=function(a,b,c,d,e){__p&&__p();e===void 0&&(e=[]);var f=this.$7(a,b,c,d);a=f.startStream();var i=this.$8(a);d&&g(i,d,"fetch_stream",function(){},function(a){h(a,b.getLastRequestUrl(),b.retrievedFromCache(),e,0,b.getLastResponse())});return{getStream:function(){return f.getStream()},cancel:function(){return f.pauseStream()},getStatusChangePromise:function(){return i}}};c.$8=function(a){var c=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!c.$1.getBool("enable_network_manager_error",!1))return"done";throw new(b("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})})})};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!b("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();e.exports=a}),null);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h){__p&&__p();var i;i=a.call(this)||this;i.$Mpd1=b;i.$Mpd4=f;i.$Mpd2=c;i.$Mpd3=d;i.$Mpd5=e;i.$Mpd6=g;i.$Mpd7=h;return i}var c=b.prototype;c.getLocation=function(){return this.$Mpd5};c.getMinimumUpdatePeriod=function(){return this.$Mpd4};c.getVideoRepresentations=function(){return this.$Mpd2};c.getAudioRepresentations=function(){return this.$Mpd3};c.getCustomField=function(a){var b=this.$Mpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$Mpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd7};c.updateWith=function(a){this.$Mpd1=a.$Mpd1,this.$Mpd8(this.$Mpd2,a.getVideoRepresentations()),this.$Mpd8(this.$Mpd3,a.getAudioRepresentations()),this.$Mpd7=a.isStaticMpd(),this.$Mpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd3.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd8=function(a,b){__p&&__p();for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}e.exports={lessThan:j,greaterThan:i,equalTo:h,lessThanOrEqual:a,greaterThanOrEqual:b}}),null);
__d("oz-player/utils/OzNumericalRangeUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.01;function h(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a.rangeStart-b)>g&&a.rangeStart>b}function i(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a===null||a===void 0)return!0;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function j(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function k(a,b){return a>b-g}a=function(){__p&&__p();function a(){}var b=a.prototype;b.mergeSortedRanges=function(a){__p&&__p();if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!i(e,c))continue;else h(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b};b.diffSortedRanges=function(a,b){return a.reduceRight(function(a,c){j(c.rangeStart,b)||j(b.rangeStart,c)?a.push(c):(b.rangeEnd!=null&&(c.rangeEnd==null||j(c.rangeEnd,b))&&a.push({rangeStart:b.rangeEnd,rangeEnd:c.rangeEnd}),k(b.rangeStart,c.rangeStart)&&a.push({rangeStart:c.rangeStart,rangeEnd:b.rangeStart}));return a},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()};b.findCurrentRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.rangeStart;if(k(a,e)&&!j(a,d))return c}return-1};b.findNextRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!k(a,d))return c}return-1};b.findDiffCoveredByRanges=function(a,b,c){__p&&__p();return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)};return a}();e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").equalTo,h=b("oz-player/utils/OzNumericalHelper").greaterThan,i=b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual,j=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual,k=1e-4;a=function(){__p&&__p();function a(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$7=a,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}var c=a.prototype;c.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d*(d.r+1),a,this.$8))break;b=d}if(b===null)return null;if(this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8))return null;d=Math.max(0,Math.floor((a-b.t+this.$8)/b.d));return this.$12(b,d)};c.getSegment=function(a){__p&&__p();var b=0;a=a;while(a>=0&&b<this.$3.length){var c=this.$3[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$3[b];return!c?null:this.$12(c,a)};c.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};c.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$3[this.$3.length-1],c=b.r;b=this.$12(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,646),this.$5=c.$5,this.$13(c.$3),this.$14(c.$3),this.$6.emit("segment_updated")};c.getTimeRanges=function(){return this.$9&&this.$7.getBool("live_block_time_range_on_the_fly",!1)?this.$15(this.$4,this.$9):this.$4};c.blockTimeRange=function(a){this.$9=a,this.$7.getBool("live_block_time_range_on_the_fly",!1)||(this.$4=this.$15(this.$4,a))};c.$15=function(a,c){return new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:c.startTime,rangeEnd:c.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};c.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};c.$16=function(a,b){if(a.d!==b.d)return!1;var c=a.t+a.d*a.r,d=b.t+b.d*b.r;return i(a.t,d,this.$8)||i(b.t,c,this.$8)?!1:Number.isInteger((a.t-b.t)/a.d)};c.$13=function(a){__p&&__p();var c=this.$3.length-1,d=a.length-1,e=c,f=d,i=this.$7.getBool("fix_templated_manifest_r_field_check",!1);while(c>=0&&d>=0){var j=this.$3[c],k=a[d];if(g(j.t,k.t,this.$8)){if(i){var l=c===e||d===f,m=l&&(c!==e&&k.r>j.r||d!==f&&j.r>k.r);l=!l&&j.r!==k.r||m}else l=!(c===e&&d===f)&&j.r!==k.r;if(l)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch. Old groups: '+JSON.stringify(this.$3)+", new groups: "+JSON.stringify(a)});if(this.$7.getBool("throw_on_non_zero_r_d_mismatch",!1)&&j.r>0&&j.d!==k.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Duration mismatch between non-zero repeat tag and new."});j.r=Math.max(j.r,k.r);if(this.$7.getBool("fix_template_duration_artifact_in_manifest",!1)){if(j.d>k.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new."});j.d=k.d}c--;d--}else if(h(k.t,j.t,this.$8))this.$3.splice(c+1,0,k),d--;else{if(this.$16(j,k))throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged"});c--}}if(d>=0){(m=this.$3).unshift.apply(m,a.slice(0,d+1))}};c.$14=function(a){__p&&__p();a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.$4.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));if(!this.$7.getBool("live_block_time_range_on_the_fly",!1)){var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}))}this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.$10=function(a){__p&&__p();var c=this;a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){var b=c.$12(a,0).getTimeRange().startTime;a=c.$12(a,a.r).getTimeRange().endTime;return{rangeStart:b,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};c.$12=function(a,c){__p&&__p();var d=this;c===void 0&&(c=0);var e=a.t,f=a.d,g=e+f*c,h=this.$7.getBool("use_sc_timebased_segments",!1),i=this.$7.getBool("touch_cb_key",!1);return{getURI:function(){var a=d.$1.replace("$Time$",g.toString());a=new(b("oz-player/shims/OzURI"))(a);h&&a.addQueryData("_nc_sc",1);var c=a.getQueryData().cb;i&&c&&a.addQueryData("cb",c+"_oz");return a},getTimeRange:function(){return{startTime:g/d.$2,endTime:(g+f)/d.$2}},getByteRange:function(){return null}}};c.getSegmentGroups=function(){return this.$3};return a}();e.exports=a}),null);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){__p&&__p();a=g(a);while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}a={joinRelativeUrlPaths:function(){__p&&__p();for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d},joinUrlPaths:function(a,b){return this._isAbsoluteUrl(b)?b:this.joinRelativeUrlPaths(a,b)},_isAbsoluteUrl:function(a){var b=/^https?:\/\//i;return b.test(a)}};e.exports=a}),null);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}a.parseSegments=function(a,b){var c=[];(!a.getBool("handle_missing_manifest_segment_timeline",!1)||b.SegmentTimeline[0].S)&&(c=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10)}}));return c};var c=a.prototype;c.parseSegmentsContainer=function(c,d,e,f){return new(b("oz-player/manifests/SegmentTemplateSegmentsContainer"))(c,b("oz-player/utils/OzUrlHelper").joinUrlPaths(d,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(c,f),e)};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}var b=a.prototype;b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return this.$2};b.getURI=function(){return this.$1};return a}();a=function(){__p&&__p();function a(a,c,d,e){var f=d.baseUrl;d=d.isStaticMpd;this.$1=c;this.$2=f;this.$3=d;this.$4=a;e?this.$5=e:this.$5=new(b("oz-player/parsers/OzDefaultSegmentTimelineParser"))()}var c=a.prototype;c.parseInitializationSegment=function(){var a=b("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2,this.$1.$.initialization);return new g(new(b("oz-player/shims/OzURI"))(a))};c.parseSegmentsContainer=function(){return this.$5.parseSegmentsContainer(this.$4,this.$2,this.$3,this.$1)};return a}();e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainerLegacy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").equalTo,h=b("oz-player/utils/OzNumericalHelper").greaterThan,i=b("oz-player/utils/OzNumericalHelper").lessThan,j=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual,k=1e-4;a=function(){__p&&__p();function a(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}var c=a.prototype;c.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;if(this.$7.getBool("live_segment_search_from_end",!1)){var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d,a,this.$8))break;b=d}if(b===null)return null;return this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8)?null:this.$12(b)}for(var d=0;d<this.$3.length;d++){c=this.$3[d];if((this.$7.getBool("live_find_next_segment_with_gap",!1)||j(c.t,a,this.$8))&&h(c.t+c.d,a,this.$8))return this.$12(c)}return null};c.getSegment=function(a){a=this.$3[a];return!a?null:this.$12(a)};c.getSegmentAfter=function(a){var b=this,c=this.$3.findIndex(function(c){return g(c.t,a.getTimeRange().startTime*b.$2,b.$8)&&g(c.t+c.d,a.getTimeRange().endTime*b.$2,b.$8)});return c>=0&&c+1<this.$3.length?this.$12(this.$3[c+1]):null};c.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$12(this.$3[this.$3.length-1]);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,646),this.$5=c.$5,this.$13(c.$3),this.$14(c.$3),this.$6.emit("segment_updated")};c.getTimeRanges=function(){return this.$4};c.blockTimeRange=function(a){this.$9=a,this.$4=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:a.startTime,rangeEnd:a.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};c.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};c.$13=function(a){var b=0,c=0;while(b<this.$3.length&&c<a.length){var d=this.$3[b],e=a[c];i(d.t,e.t,this.$8)?b++:h(d.t,e.t,this.$8)?(j(e.t+e.d,d.t,this.$8)&&this.$3.splice(b,0,e),c++):(b++,c++)}while(c<a.length)this.$3.push(a[c]),c++};c.$14=function(a){a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}));this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.$10=function(a){__p&&__p();var c=this;a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){a=c.$12(a).getTimeRange();var b=a.startTime;a=a.endTime;return{rangeStart:b,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};c.$12=function(a){var c=this,d=a.t,e=a.d;return{getURI:function(){var a=c.$1.replace("$Time$",d.toString());return new(b("oz-player/shims/OzURI"))(a)},getTimeRange:function(){return{startTime:d/c.$2,endTime:(d+e)/c.$2}},getByteRange:function(){return null}}};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParserLegacy",["oz-player/manifests/SegmentTemplateSegmentsContainerLegacy","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}var b=a.prototype;b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return this.$2};b.getURI=function(){return this.$1};return a}();a=function(){__p&&__p();function a(a,b,c,d){d=c.baseUrl;c=c.isStaticMpd;this.$1=b;this.$2=d;this.$3=c;this.$4=a}var c=a.prototype;c.parseInitializationSegment=function(){var a=b("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2,this.$1.$.initialization);return new g(new(b("oz-player/shims/OzURI"))(a))};c.parseSegmentsContainer=function(){var a=[];(!this.$4.getBool("handle_missing_manifest_segment_timeline",!1)||this.$1.SegmentTimeline[0].S)&&(a=this.$1.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10)}}));return new(b("oz-player/manifests/SegmentTemplateSegmentsContainerLegacy"))(this.$4,b("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2,this.$1.$.media),Number.parseInt(this.$1.$.timescale,10),a,this.$3)};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(c,d,e){var f=c.getBool("estimate_video_bandwidth_only",!1)?a==="video":!0;return d instanceof b("oz-player/networks/OzNetworkRequestStream")&&f?b("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(c,d,e):d}};e.exports=a}),null);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(){return this.$2.getUint16(this.skip(16/8))};b.readUint32=function(){return this.$2.getUint32(this.skip(32/8))};b.readUint64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*a+b};b.readInt64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(a|0)+b};b.readInt16=function(){return this.$2.getInt16(this.skip(16/8))};b.readInt32=function(){return this.$2.getInt32(this.skip(32/8))};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();e.exports=a}),null);
__d("oz-player/shims/OzDataViewReader",["DataViewReader"],(function(a,b,c,d,e,f){"use strict";e.exports=b("DataViewReader")}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/shims/OzDataViewReader","oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1936286840;a={parse:function(a,c,d){__p&&__p();var e=new(b("oz-player/shims/OzDataViewReader"))(new DataView(d.buffer));d=e.readUint32();var f=e.readUint32();if(f!==g)throw new Error('Invalid box type, expected "sidx".');d==1&&(d=e.readUint64());f=e.readUint8();e.skip(3);e.skip(4);var h=e.readUint32();if(!h)throw new Error("Invalid timescale.");var i;f==0?(f=e.readUint32(),i=e.readUint32()):(f=e.readUint64(),i=e.readUint64());e.skip(2);var j=e.readUint16(),k=f,l=c+d+i,m=0,n=[];f=function(c){__p&&__p();var d=e.readUint32(),f=(d&2147483648)>>>31;d=d&2147483647;var g=e.readUint32();e.readUint32();if(f==1)throw new Error("Heirarchical SIDXs are not supported.");var i=k/h,j=(k+g)/h;c===0&&(m=i);var o=l,p=o+d-1;n.push({getURI:function(){return new(b("oz-player/shims/OzURI"))(a)},getTimeRange:function(){return{startTime:i-m,endTime:j-m}},getByteRange:function(){return{startByte:o,endByte:p}}});k+=g;l+=d};for(var c=0;c<j;c++)f(c);return n}};e.exports=a}),null);
__d("oz-player/parsers/OzSidxSegmentsContainer",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw new Error("Not implemented: updatedWith")};b.addUpdateListener=function(a){this.$3&&(this.$3(),this.$3=null);return this.$2.addListener("segment_updated",a)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/OzURI","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=440786851,h=408125543,i=357149030,j=2807729,k=17545,l=475249515,m=187,n=179,o=183,p=241,q=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function r(a,b){__p&&__p();if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var s=function(){__p&&__p();function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new t(this.$1)};b.getUint=function(){__p&&__p();if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),t=function(){__p&&__p();function a(a){this.$1=a,this.$2=new(b("oz-player/shims/OzDataViewReader"))(this.$1)}var c=a.prototype;c.hasMoreData=function(){return this.$2.hasMoreData()};c.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new s(b,d)};c.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};c.$4=function(){__p&&__p();var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<q.length;b++)if(r(a,q[b]))return!0;return!1};return a}();function u(a){__p&&__p();a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==j?b=d.getUint():d.id==k&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function v(a,c,d,e,f){__p&&__p();var g=[];a=a.createParser();var h=-1,i=-1;while(a.hasMoreData()){var j=a.parseElement();if(j.id!=m)continue;j=w(j);if(!j)continue;var k=d*j.unscaledTime;j=c+j.relativeOffset;h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,k,i,j-1)));h=k;i=j}h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,e,i,null)));return g}function w(a){__p&&__p();a=a.createParser();var b=a.parseElement();if(b.id!=n)return null;b=b.getUint();a=a.parseElement();if(a.id!=o)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=p)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function x(a){__p&&__p();a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=i)continue;b=c;break}return!b?null:u(b)}function y(a){__p&&__p();a=new t(a);var b=a.parseElement();if(b.id!=g)return null;b=a.parseElement();if(b.id!=h)return null;a=b.getOffset();b=x(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=y(d);if(!d)return[];c=new t(c);c=c.parseElement();return c.id!=l?[]:v(c,d.segmentOffset,d.timecodeScale,d.duration,new(b("oz-player/shims/OzURI"))(a))}e.exports={parse:a}}),null);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return TextDecoder?new TextDecoder("utf-8").decode(new Uint8Array(a)):String.fromCharCode.apply(null,a)}function h(a){__p&&__p();var c=new ArrayBuffer(0),d=function d(){return a.read().then(function(a){var e=a.value;a=a.done;if(a)return null;if(!e)return null;c=b("oz-player/utils/ozConcatArrayBuffer")(c,e);return d()})};return d().then(function(){return new Uint8Array(c)})}function a(a){return h(a).then(function(a){return g(a)})}e.exports={pumpString:a,pumpAllData:h}}),null);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzReadableStreamUtils").pumpAllData;function i(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){__p&&__p();function a(a,c,d,e,f,g,h){this.$6=new(b("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(b("oz-player/shims/OzEventEmitter"))(),this.$1=c,this.$2=d,this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType("sidx"),this.$10=a}var c=a.prototype;c.onError=function(a){return this.$6.onError(a)};c.parseInitializationSegment=function(){var a=this,c=this.$1.Initialization[0].$.range,d=i(c);c={getURI:function(){return new(b("oz-player/shims/OzURI"))(a.$2)},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d}};return c};c.parseSegmentsContainer=function(){var a=this,c=function(){g(a.$11(),a.$8,"process_sidx")["catch"](a.$6.emitError)},d=this.$10.getBool("lazy_parse_sidx",!1);d||c();d=new(b("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9,d?c:null);return d};c.$12=function(a,c){a=new(b("oz-player/manifests/OzZeroTimeRangeSegment"))(new(b("oz-player/shims/OzURI"))(a),c.startByte,c.endByte);c=this.$10.getBool("exclude_sidx_from_bandwidth_estimates",!1)?this.$5+";sidx":this.$5;a=this.$4.request([a],[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(c)],this.$8);c=a.getStream().getReader();return h(c)};c.$11=function(){__p&&__p();var a=this,c=this.$1.$.indexRange,d=i(c);c=[this.$12(this.$2,d)];if(this.$3==="webm"){var e=i(this.$1.Initialization[0].$.range);c.push(this.$12(this.$2,e));e=b("oz-player/shims/OzMaybeNativePromise").all(c).then(function(c){var d=c[0];c=c[1];a.$7=b("oz-player/parsers/OzWebmSidxParser").parse(a.$2,d,c)})}else e=c[0].then(function(c){a.$7=b("oz-player/parsers/OzMp4SidxParser").parse(a.$2,d.startByte,c)});return e.then(function(){a.$9.emit("segment_updated")})};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}e.exports={parse:a}}),null);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}e.exports={getMimeType:a}}),null);
__d("oz-player/parsers/OzRepresentationParser",["oz-player/manifests/OzRepresentation","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSegmentTemplateParserLegacy","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzMimeUtil").getMimeType;a=function(){__p&&__p();function a(a,c,d,e,f,g){this.$2=new(b("oz-player/utils/OzErrorEmitter"))(),this.$1=c,this.$3=e,this.$4=f,this.$6=d,this.$7=a,this.$8=g}var c=a.prototype;c.$9=function(){__p&&__p();if(this.$5)return this.$5;if(this.$1.SegmentBase){var a=this.$1.SegmentBase[0],c=this.$1.BaseURL[0]._;this.$5=new(b("oz-player/parsers/OzSidxSegmentsParser"))(this.$7,a,c,b("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),g(this.$1.$.mimeType),this.$3,this.$4);this.$5.onError(this.$2.emitError)}else if(this.$1.SegmentTemplate){a=this.$6.mpdUrl;if(a===null||a===void 0){c=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest"});throw c}c=this.$1.SegmentTemplate[0];var d=this.$6.customSegmentTimelineParser,e=this.$7.getBool("use_new_template_segment_parser",!1)?b("oz-player/parsers/OzSegmentTemplateParser"):b("oz-player/parsers/OzSegmentTemplateParserLegacy");this.$5=new e(this.$7,c,{baseUrl:a,isStaticMpd:this.$8==="static"},d)}else{e=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type"});throw e}return this.$5};c.onError=function(a){return this.$2.onError(a)};c.parseInitSegment=function(){return this.$9().parseInitializationSegment()};c.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};c.parseMimeCodecs=function(){return this.$1.$.mimeType+'; codecs="'+this.$1.$.codecs+'"'};c.parseSegmentsContainer=function(){return this.$9().parseSegmentsContainer()};c.parseID=function(){return""+this.$1.$.id};c.parseCustomFieldFirstSegment=function(){var a=this.$6.customRepresentationParsers?this.$6.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};c.parse=function(){return new(b("oz-player/manifests/OzRepresentation"))(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$6.customRepresentationParsers)};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g){b=a.call(this,b,c,d,e,f,g)||this;b.$OzAudioRepresentationParser1=c;b.$OzAudioRepresentationParser2=d;return b}var d=c.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser2.customRepresentationParsers;return new(b("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return c}(b("oz-player/parsers/OzRepresentationParser"));e.exports=a}),null);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g){b=a.call(this,b,c,d,e,f,g)||this;b.$OzVideoRepresentationParser1=c;b.$OzVideoRepresentationParser2=d;return b}var d=c.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),c=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10),d=this.$OzVideoRepresentationParser2.customRepresentationParsers;return new(b("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,c,a)};return c}(b("oz-player/parsers/OzRepresentationParser"));e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("sax-1.2.4",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g};function i(){__p&&__p();(function(a){__p&&__p();a.parser=function(a,b){return new c(a,b)};a.SAXParser=c;a.MAX_BUFFER_LENGTH=64*1024;var b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(b,d){__p&&__p();if(!(this instanceof c))return new c(b,d);var f=this;e(f);f.q=f.c="";f.bufferCheckPosition=a.MAX_BUFFER_LENGTH;f.opt=d||{};f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags;f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase";f.tags=[];f.closed=f.closedRoot=f.sawRoot=!1;f.tag=f.error=null;f.strict=!!b;f.noscript=!!(b||f.opt.noscript);f.state=u.BEGIN;f.strictEntities=f.opt.strictEntities;f.ENTITIES=f.strictEntities?Object.create(a.XML_ENTITIES):Object.create(a.ENTITIES);f.attribList=[];f.opt.xmlns&&(f.ns=Object.create(k));f.trackPosition=f.opt.position!==!1;f.trackPosition&&(f.position=f.line=f.column=0);w(f,"onready")}Object.create||(Object.create=function(a){function b(){}b.prototype=a;a=new b();return a});Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});function d(c){__p&&__p();var d=Math.max(a.MAX_BUFFER_LENGTH,10),e=0;for(var f=0,g=b.length;f<g;f++){var h=c[b[f]].length;if(h>d)switch(b[f]){case"textNode":y(c);break;case"cdata":x(c,"oncdata",c.cdata);c.cdata="";break;case"script":x(c,"onscript",c.script);c.script="";break;default:A(c,"Max buffer length exceeded: "+b[f])}e=Math.max(e,h)}h=a.MAX_BUFFER_LENGTH-e;c.bufferCheckPosition=h+c.position}function e(a){for(var c=0,d=b.length;c<d;c++)a[b[c]]=""}function f(a){y(a),a.cdata!==""&&(x(a,"oncdata",a.cdata),a.cdata=""),a.script!==""&&(x(a,"onscript",a.script),a.script="")}c.prototype={end:function(){B(this)},write:L,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){f(this)}};var g="[CDATA[",h="DOCTYPE",i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:i,xmlns:j},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(a){return a===" "||a==="\n"||a==="\r"||a==="\t"}function q(a){return a==='"'||a==="'"}function r(a){return a===">"||p(a)}function s(a,b){return a.test(b)}function t(a,b){return!s(a,b)}var u=0;a.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++};a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b];c=typeof c==="number"?String.fromCharCode(c):c;a.ENTITIES[b]=c});for(var v in a.STATE)a.STATE[a.STATE[v]]=v;u=a.STATE;function w(a,b,c){a[b]&&a[b](c)}function x(a,b,c){a.textNode&&y(a),w(a,b,c)}function y(a){a.textNode=z(a.opt,a.textNode),a.textNode&&w(a,"ontext",a.textNode),a.textNode=""}function z(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function A(a,b){y(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=new Error(b);a.error=b;w(a,"onerror",b);return a}function B(a){a.sawRoot&&!a.closedRoot&&C(a,"Unclosed root tag");a.state!==u.BEGIN&&a.state!==u.BEGIN_WHITESPACE&&a.state!==u.TEXT&&A(a,"Unexpected end");y(a);a.c="";a.closed=!0;w(a,"onend");c.call(a,a.strict,a.opt);return a}function C(a,b){if(typeof a!=="object"||!(a instanceof c))throw new Error("bad call to strictFail");a.strict&&A(a,b)}function D(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns);a.attribList.length=0;x(a,"onopentagstart",c)}function E(a,b){var c=a.indexOf(":");c=c<0?["",a]:a.split(":");var d=c[0];c=c[1];b&&a==="xmlns"&&(d="xmlns",c="");return{prefix:d,local:c}}function F(a){__p&&__p();a.strict||(a.attribName=a.attribName[a.looseCase]());if(a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName)){a.attribName=a.attribValue="";return}if(a.opt.xmlns){var b=E(a.attribName,!0),c=b.prefix;b=b.local;if(c==="xmlns")if(b==="xml"&&a.attribValue!==i)C(a,"xml: prefix must be bound to "+i+"\nActual: "+a.attribValue);else if(b==="xmlns"&&a.attribValue!==j)C(a,"xmlns: prefix must be bound to "+j+"\nActual: "+a.attribValue);else{c=a.tag;var d=a.tags[a.tags.length-1]||a;c.ns===d.ns&&(c.ns=Object.create(d.ns));c.ns[b]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,x(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function G(a,b){__p&&__p();if(a.opt.xmlns){var c=a.tag,d=E(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(C(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){x(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var d=0,e=a.attribList.length;d<e;d++){var f=a.attribList[d],g=f[0];f=f[1];var h=E(g,!0),i=h.prefix;h=h.local;var j=i===""?"":c.ns[i]||"";f={name:g,value:f,prefix:i,local:h,uri:j};i&&i!=="xmlns"&&!j&&(C(a,"Unbound namespace prefix: "+JSON.stringify(i)),f.uri=i);a.tag.attributes[g]=f;x(a,"onattribute",f)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);x(a,"onopentag",a.tag);b||(!a.noscript&&a.tagName.toLowerCase()==="script"?a.state=u.SCRIPT:a.state=u.TEXT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function H(a){__p&&__p();if(!a.tagName){C(a,"Weird empty close tag.");a.textNode+="</>";a.state=u.TEXT;return}if(a.script){if(a.tagName!=="script"){a.script+="</"+a.tagName+">";a.tagName="";a.state=u.SCRIPT;return}x(a,"onscript",a.script);a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());var d=c;while(b--){var e=a.tags[b];if(e.name!==d)C(a,"Unexpected close tag");else break}if(b<0){C(a,"Unmatched closing tag: "+a.tagName);a.textNode+="</"+a.tagName+">";a.state=u.TEXT;return}a.tagName=c;e=a.tags.length;while(e-->b){var f=a.tag=a.tags.pop();a.tagName=a.tag.name;x(a,"onclosetag",a.tagName);d={};for(var g in f.ns)d[g]=f.ns[g];c=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==c.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];x(a,"onclosenamespace",{prefix:b,uri:c})})}b===0&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0;a.state=u.TEXT}function I(a){__p&&__p();var b=a.entity,c=b.toLowerCase(),d,e="";if(a.ENTITIES[b])return a.ENTITIES[b];if(a.ENTITIES[c])return a.ENTITIES[c];b=c;b.charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),d=parseInt(b,16),e=d.toString(16)):(b=b.slice(1),d=parseInt(b,10),e=d.toString(10)));b=b.replace(/^0+/,"");if(isNaN(d)||e.toLowerCase()!==b){C(a,"Invalid character entity");return"&"+a.entity+";"}return String.fromCodePoint(d)}function J(a,b){b==="<"?(a.state=u.OPEN_WAKA,a.startTagPosition=a.position):p(b)||(C(a,"Non-whitespace before first tag."),a.textNode=b,a.state=u.TEXT)}function K(a,b){var c="";b<a.length&&(c=a.charAt(b));return c}function L(a){__p&&__p();var b=this;if(this.error)throw this.error;if(b.closed)return A(b,"Cannot write after close. Assign an onready handler.");if(a===null)return B(b);typeof a==="object"&&(a=a.toString());var c=0,e="";while(!0){e=K(a,c++);b.c=e;if(!e)break;b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);switch(b.state){case u.BEGIN:b.state=u.BEGIN_WHITESPACE;if(e==="\ufeff")continue;J(b,e);continue;case u.BEGIN_WHITESPACE:J(b,e);continue;case u.TEXT:if(b.sawRoot&&!b.closedRoot){var f=c-1;while(e&&e!=="<"&&e!=="&")e=K(a,c++),e&&b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}e==="<"&&!(b.sawRoot&&b.closedRoot&&!b.strict)?(b.state=u.OPEN_WAKA,b.startTagPosition=b.position):(!p(e)&&(!b.sawRoot||b.closedRoot)&&C(b,"Text data outside of root node."),e==="&"?b.state=u.TEXT_ENTITY:b.textNode+=e);continue;case u.SCRIPT:e==="<"?b.state=u.SCRIPT_ENDING:b.script+=e;continue;case u.SCRIPT_ENDING:e==="/"?b.state=u.CLOSE_TAG:(b.script+="<"+e,b.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(e==="!")b.state=u.SGML_DECL,b.sgmlDecl="";else if(!p(e))if(s(l,e))b.state=u.OPEN_TAG,b.tagName=e;else if(e==="/")b.state=u.CLOSE_TAG,b.tagName="";else if(e==="?")b.state=u.PROC_INST,b.procInstName=b.procInstBody="";else{C(b,"Unencoded <");if(b.startTagPosition+1<b.position){f=b.position-b.startTagPosition;e=new Array(f).join(" ")+e}b.textNode+="<"+e;b.state=u.TEXT}continue;case u.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===g?(x(b,"onopencdata"),b.state=u.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=u.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===h?(b.state=u.DOCTYPE,(b.doctype||b.sawRoot)&&C(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):e===">"?(x(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=u.TEXT):q(e)?(b.state=u.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case u.SGML_DECL_QUOTED:e===b.q&&(b.state=u.SGML_DECL,b.q="");b.sgmlDecl+=e;continue;case u.DOCTYPE:e===">"?(b.state=u.TEXT,x(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,e==="["?b.state=u.DOCTYPE_DTD:q(e)&&(b.state=u.DOCTYPE_QUOTED,b.q=e));continue;case u.DOCTYPE_QUOTED:b.doctype+=e;e===b.q&&(b.q="",b.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:b.doctype+=e;e==="]"?b.state=u.DOCTYPE:q(e)&&(b.state=u.DOCTYPE_DTD_QUOTED,b.q=e);continue;case u.DOCTYPE_DTD_QUOTED:b.doctype+=e;e===b.q&&(b.state=u.DOCTYPE_DTD,b.q="");continue;case u.COMMENT:e==="-"?b.state=u.COMMENT_ENDING:b.comment+=e;continue;case u.COMMENT_ENDING:e==="-"?(b.state=u.COMMENT_ENDED,b.comment=z(b.opt,b.comment),b.comment&&x(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=u.COMMENT);continue;case u.COMMENT_ENDED:e!==">"?(C(b,"Malformed comment"),b.comment+="--"+e,b.state=u.COMMENT):b.state=u.TEXT;continue;case u.CDATA:e==="]"?b.state=u.CDATA_ENDING:b.cdata+=e;continue;case u.CDATA_ENDING:e==="]"?b.state=u.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=u.CDATA);continue;case u.CDATA_ENDING_2:e===">"?(b.cdata&&x(b,"oncdata",b.cdata),x(b,"onclosecdata"),b.cdata="",b.state=u.TEXT):e==="]"?b.cdata+="]":(b.cdata+="]]"+e,b.state=u.CDATA);continue;case u.PROC_INST:e==="?"?b.state=u.PROC_INST_ENDING:p(e)?b.state=u.PROC_INST_BODY:b.procInstName+=e;continue;case u.PROC_INST_BODY:if(!b.procInstBody&&p(e))continue;else e==="?"?b.state=u.PROC_INST_ENDING:b.procInstBody+=e;continue;case u.PROC_INST_ENDING:e===">"?(x(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=u.TEXT):(b.procInstBody+="?"+e,b.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:s(m,e)?b.tagName+=e:(D(b),e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:(p(e)||C(b,"Invalid character in tag name"),b.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:e===">"?(G(b,!0),H(b)):(C(b,"Forward-slash in opening tag not followed by >"),b.state=u.ATTRIB);continue;case u.ATTRIB:if(p(e))continue;else e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME:e==="="?b.state=u.ATTRIB_VALUE:e===">"?(C(b,"Attribute without value"),b.attribValue=b.attribName,F(b),G(b)):p(e)?b.state=u.ATTRIB_NAME_SAW_WHITE:s(m,e)?b.attribName+=e:C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(e==="=")b.state=u.ATTRIB_VALUE;else if(p(e))continue;else C(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",x(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",e===">"?G(b):s(l,e)?(b.attribName=e,b.state=u.ATTRIB_NAME):(C(b,"Invalid attribute name"),b.state=u.ATTRIB);continue;case u.ATTRIB_VALUE:if(p(e))continue;else q(e)?(b.q=e,b.state=u.ATTRIB_VALUE_QUOTED):(C(b,"Unquoted attribute value"),b.state=u.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case u.ATTRIB_VALUE_QUOTED:if(e!==b.q){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}F(b);b.q="";b.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:p(e)?b.state=u.ATTRIB:e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(C(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!r(e)){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}F(b);e===">"?G(b):b.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(!b.tagName)if(p(e))continue;else t(l,e)?b.script?(b.script+="</"+e,b.state=u.SCRIPT):C(b,"Invalid tagname in closing tag."):b.tagName=e;else e===">"?H(b):s(m,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=u.SCRIPT):(p(e)||C(b,"Invalid tagname in closing tag"),b.state=u.CLOSE_TAG_SAW_WHITE);continue;case u.CLOSE_TAG_SAW_WHITE:if(p(e))continue;e===">"?H(b):C(b,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case u.TEXT_ENTITY:i=u.TEXT;j="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:i=u.ATTRIB_VALUE_QUOTED;j="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:i=u.ATTRIB_VALUE_UNQUOTED;j="attribValue";break}e===";"?(b[j]+=I(b),b.entity="",b.state=i):s(b.entity.length?o:n,e)?b.entity+=e:(C(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}b.position>=b.bufferCheckPosition&&d(b);return b}String.fromCodePoint||(function(){__p&&__p();var a=String.fromCharCode,b=Math.floor,c=function(){__p&&__p();var c=16384,d=[],e,f,g=-1,h=arguments.length;if(!h)return"";var i="";while(++g<h){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?d.push(j):(j-=65536,e=(j>>10)+55296,f=j%1024+56320,d.push(e,f));(g+1===h||d.length>c)&&(i+=a.apply(null,d),d.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c})()})(typeof g==="undefined"?this.sax={}:g)}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
__d("sax",["sax-1.2.4"],(function(a,b,c,d,e,f){e.exports=b("sax-1.2.4")()}),null);
__d("oz-player/shims/OzSax",["sax"],(function(a,b,c,d,e,f){e.exports=b("sax")}),null);
__d("oz-player/parsers/OzXmlParser",["oz-player/shims/OzSax","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){__p&&__p();function g(){return{$:{}}}a=function(){"use strict";__p&&__p();function a(){__p&&__p();var a=this;this.$4=[];this.$6=function(c){c=c.name;var d=g(),e=a.$3||a.$2;e||b("oz-player/shims/ozvariant")(0,219);Object.prototype.hasOwnProperty.call(e,c)||(e[c]=[]);e[c].push(d);a.$4.push(e);a.$3=d};this.$8=function(){var b=a.$4.pop();a.$3=b};this.$9=function(c){c=c.trim();if(!c)return;var d=a.$3;d||b("oz-player/shims/ozvariant")(0,220);d._&&b("oz-player/shims/ozvariant")(0,221);d._=c};this.$7=function(c){var d=c.name;c=c.value;var e=a.$3;e||b("oz-player/shims/ozvariant")(0,222);e.$[d]=c};var c=!0;c=this.$1=b("oz-player/shims/OzSax").parser(c);c.onerror=this.$5;c.onopentagstart=this.$6;c.onattribute=this.$7;c.onclosetag=this.$8;c.ontext=this.$9}var c=a.prototype;c.$5=function(a){throw a};c.parse=function(a){var b=g();this.$2=b;try{this.$1.write(a).close()}catch(a){throw a}this.$3=null;this.$2=null;this.$4=[];return b};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/shims/ozvariant","oz-player/utils/OzErrorEmitter","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/parsers/OzXmlParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f){this.$2=new(b("oz-player/utils/OzErrorEmitter"))(),this.$5=a,this.$1=d,this.$3=e,this.$4=c,this.$6=f}var c=a.prototype;c.onError=function(a){return this.$2.onError(a)};c.parse=function(a){__p&&__p();var c=null;a=new(b("oz-player/parsers/OzXmlParser"))().parse(a);c=a.MPD[0];c||b("oz-player/shims/ozvariant")(0,3628);c.Period.length>0||b("oz-player/shims/ozvariant")(0,3629);a=c.Period[0].AdaptationSet||[];var d=this.$7(c),e=this.$4.customSegmentTimelineParser,f=this.$8(a,"video"),g=this.$9(f,b("oz-player/parsers/OzVideoRepresentationParser"),d,e);g.sort(function(a,b){return a.getHeight()-b.getHeight()});a=this.$8(a,"audio");e=this.$9(a,b("oz-player/parsers/OzAudioRepresentationParser"),d,e);e.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var h=this.$4.mpdUrl;h=new(b("oz-player/manifests/Mpd"))(c,g,e,h,this.$10(c),this.$4.customParsers||new Map(),d==="static");if(this.$6){c=this.$6;c.startEME(f,g,a,e)}return h};c.$10=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};c.$7=function(a){return a.$.type||"static"};c.$8=function(a,b){return a.find(function(a){a=a.Representation;return a&&a.length&&a[0].$.mimeType.indexOf(b)!==-1})};c.$9=function(a,b,c,d){var e=this;return!a?[]:a.Representation.map(function(a){a=new b(e.$5,a,e.$4,e.$1,e.$3,c);a.onError(e.$2.emitError);return a.parse()})};return a}();e.exports=a}),null);
__d("oz-player/shims/ozClearTimeout",["clearTimeout"],(function(a,b,c,d,e,f){"use strict";e.exports=b("clearTimeout")}),null);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getTimeRanges();return a.length>0?a[a.length-1]:null}return null}e.exports={getMpdLastTimeRange:a}}),null);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker3=0;d.$OzStreamInterruptChecker4=null;d.$OzStreamInterruptChecker5=!1;d.$OzStreamInterruptChecker1=b;d.$OzStreamInterruptChecker2=c;return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=g(this.$OzStreamInterruptChecker1),b=a?a.endTime:null;b!==null&&b===this.$OzStreamInterruptChecker4?this.$OzStreamInterruptChecker3++:(this.$OzStreamInterruptChecker3=0,this.$OzStreamInterruptChecker5&&this.$OzStreamInterruptChecker4!==null&&this.$OzStreamInterruptChecker4!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker5=!1);a=this.$OzStreamInterruptChecker2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0);!this.$OzStreamInterruptChecker5&&a>0&&this.$OzStreamInterruptChecker3>=a&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker5=!0);this.$OzStreamInterruptChecker4=b};return b}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/shims/ozClearTimeout","oz-player/shims/OzEventEmitter","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker","oz-player/parsers/OzMpdParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange,h=b("oz-player/utils/OzReadableStreamUtils").pumpString;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,h,i,j){__p&&__p();var k;k=a.call(this)||this;k.$OzMpdUpdater7=new(b("oz-player/utils/OzErrorEmitter"))();k.$OzMpdUpdater9=new(b("oz-player/shims/OzSubscriptionsHandler"))();k.$OzMpdUpdater10=!1;k.$OzMpdUpdater14=function(){__p&&__p();var a=k.$OzMpdUpdater2.getLocation();if(!a)return;if(k.$OzMpdUpdater6.getBool("live_disable_mpd_updates_when_paused",!1)&&!k.$OzMpdUpdater11.isPlaying()){k.setupUpdateLoop();return}var c=k.$OzMpdUpdater5.getOperationLogger("update_manifest").start();k.$OzMpdUpdater15(a).then(function(d){__p&&__p();var e=Object.assign({},k.$OzMpdUpdater12,{mpdUrl:a});e=new(b("oz-player/parsers/OzMpdParser"))(k.$OzMpdUpdater6,e,k.$OzMpdUpdater1,k.$OzMpdUpdater5,k.$OzMpdUpdater13);e.onError(function(a){k.$OzMpdUpdater7.emitError(a),c.setError(a).log()});e=e.parse(d);k.$OzMpdUpdater2.updateWith(e);e.isStaticMpd()&&!k.$OzMpdUpdater2.isStaticMpd()&&k.emit("streamTransitionToStatic");d=g(k.$OzMpdUpdater2);e=d?d.endTime:null;c.setLiveheadPosition(e).setManifestType(k.$OzMpdUpdater2.isStaticMpd()?"static":"dynamic").log();k.$OzMpdUpdater8.notifyMpdUpdated();k.setupUpdateLoop()})["catch"](function(a){__p&&__p();c.setError(a).log();if(k.$OzMpdUpdater6.getBool("live_gracefully_handle_mpd_errors",!1)){var d;a instanceof b("oz-player/utils/OzError")&&(d=a.getExtra().code||"");var e=["503"];if(d&&e.indexOf(d)>-1)switch(d){case"410":k.$OzMpdUpdater10=!0,k.emit("streamGone");case"503":case"0":k.setupUpdateLoop();return}}k.$OzMpdUpdater7.emitError(a)})};var l=d.getMinimumUpdatePeriod();k.$OzMpdUpdater1=e;k.$OzMpdUpdater2=d;k.$OzMpdUpdater11=f;k.$OzMpdUpdater3=l;k.$OzMpdUpdater5=h.cloneContext().setType("manifest");k.$OzMpdUpdater6=c;k.$OzMpdUpdater12=i;k.$OzMpdUpdater13=j;k.$OzMpdUpdater8=new(b("oz-player/utils/OzStreamInterruptChecker"))(k.$OzMpdUpdater2,k.$OzMpdUpdater6);k.$OzMpdUpdater9.addSubscriptions(k.$OzMpdUpdater8.addListener("streamResumedAt",function(a){k.emit("streamResumedAt",a)}),k.$OzMpdUpdater8.addListener("streamInterruptAt",function(a){k.emit("streamInterruptAt",a)}));return k}var d=c.prototype;d.setupUpdateLoop=function(){var a=!this.$OzMpdUpdater10;a&&this.$OzMpdUpdater6.getBool("stop_manifest_update_when_static",!1)&&(a=!this.$OzMpdUpdater2.isStaticMpd(),this.$OzMpdUpdater3=this.$OzMpdUpdater2.getMinimumUpdatePeriod());a&&this.$OzMpdUpdater3&&this.$OzMpdUpdater2.getLocation()&&(this.$OzMpdUpdater4=b("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater14,this.$OzMpdUpdater3*1e3))};d.onError=function(a){return this.$OzMpdUpdater7.onError(a)};d.$OzMpdUpdater15=function(a){a=this.$OzMpdUpdater1.requestRawUrl(a,{credentials:"same-origin"},this.$OzMpdUpdater5);a=a.getStream().getReader();return h(a)};d.destroy=function(){this.$OzMpdUpdater4&&b("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater9.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime;a=function(){__p&&__p();function a(a,b,c){this.$3=null,this.$4=0,this.$5=0,this.$7=!0,this.$6=a,this.$1=b,this.$2=c}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$2.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$3!=null&&this.$3.remove();this.$3=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$8(d)})};b.$8=function(a){__p&&__p();if(!this.$7)return;if(this.$4===a)return;this.$4=a;if(this.$1.currentTime<=this.$5)return;a=this.$6.getNumber("livehead_fall_behind_block_threshold",0);var b=this.$6.getNumber("live_time_range_block_margin",0);if(b!==0&&a!==0&&this.$1.duration-this.$1.currentTime>a){a=[];for(var c=0;c<this.$1.buffered.length;c++)a.push({startTime:this.$1.buffered.start(c),endTime:this.$1.buffered.end(c)});c=g(this.$1.currentTime,a);this.$5=this.$1.currentTime+Math.min(c,b);a={startTime:this.$5,endTime:this.$1.duration-b};this.$2.blockTimeRange(a)}};b.destroy=function(){this.$3!=null&&(this.$3.remove(),this.$3=null)};return a}();e.exports=a}),null);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}e.exports={computeSeekAhead:a}}),null);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1.5;function a(a,c){c=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,c)===-1}function c(a,c){var d=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,d);if(d!==-1){c=c[d];return b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,c.endTime)&&c.endTime-a<g}return!1}e.exports={isNearGap:c,isInGap:a}}),null);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead,h=b("oz-player/utils/OzTimelineGapUtil").isInGap,i=b("oz-player/utils/OzTimelineGapUtil").isNearGap;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$OzPlayheadManager2=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager4=new Set();d.$OzPlayheadManager10=new Set();d.$OzPlayheadManager12=function(a){d.$OzPlayheadManager1.currentTime=a};d.$OzPlayheadManager14=!1;var e=c.video,f=c.mpd,g=c.playheadCatchup,h=c.playbackState,i=c.config,j=c.perfLoggerProvider,k=c.seekHandler;c=c.initialPlaybackPosition;d.$OzPlayheadManager1=e;d.$OzPlayheadManager6=i;d.$OzPlayheadManager7=h;d.$OzPlayheadManager8=f;d.$OzPlayheadManager9=g;d.$OzPlayheadManager11=j;k&&(d.$OzPlayheadManager12=k);d.$OzPlayheadManager13=c;d.$OzPlayheadManager2.addSubscriptions(b("oz-player/shims/OzEventListener").listen(d.$OzPlayheadManager1,"durationchange",function(){d.$OzPlayheadManager15(),d.$OzPlayheadManager16("durationchange")}),b("oz-player/shims/OzEventListener").listen(d.$OzPlayheadManager1,"pause",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"pause")),b("oz-player/shims/OzEventListener").listen(d.$OzPlayheadManager1,"play",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"play")),b("oz-player/shims/OzEventListener").listen(d.$OzPlayheadManager1,"playing",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"playing")),b("oz-player/shims/OzEventListener").listen(d.$OzPlayheadManager1,"waiting",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"waiting")));return d}var d=c.prototype;d.observeSourceBufferState=function(a,c){var d=this;this.$OzPlayheadManager4.has(a)&&b("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager4.add(a);this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){return d.$OzPlayheadManager17(a,c)}))};d.$OzPlayheadManager17=function(a,b){__p&&__p();var c=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update",!1)&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time",!1)?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=g(a,c);var d=this.$OzPlayheadManager6.getNumber("timeline_offset_threshold",0);a>0&&(d===0||a<d)&&this.$OzPlayheadManager18(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",b)};d.setTimeRangeProvider=function(a){this.$OzPlayheadManager3.release(),this.$OzPlayheadManager3.engage(),this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(this.$OzPlayheadManager16.bind(this,"time_range_updated"))),this.$OzPlayheadManager5=a,this.$OzPlayheadManager16("time_range_set")};d.$OzPlayheadManager15=function(){var a=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager14&&!isNaN(a)&&a!==Infinity){a=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:a+this.$OzPlayheadManager13;this.$OzPlayheadManager14=!0;this.$OzPlayheadManager18(a,"initial_playback_position","");this.emit("initialPlaybackPositionSet",a)}};d.$OzPlayheadManager16=function(a,c){__p&&__p();c===void 0&&(c=null);var d=this.$OzPlayheadManager9;if(d&&d.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){d=d.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof d==="number"){this.$OzPlayheadManager18(d,"live_catch_up_strategy",a,c);return}}d=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack",0);if(d===0)return;var e=this.$OzPlayheadManager5;if(!e)return;var f=this.$OzPlayheadManager7.getCurrentTime(),g=e.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),j=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(f,g);if((i(f,e.getTimeRanges())||h(f,e.getTimeRanges()))&&j!==-1){f=g[j];this.$OzPlayheadManager18(f.rangeStart+d,"jump_over_timeline_gap",a,c)}};d.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};d.$OzPlayheadManager18=function(a,b,c,d){var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon",0);if(f>0&&e<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(e*1e3)).setReason(b).setInitiator(c).setType(d).log();this.$OzPlayheadManager12(a)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c){this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$3=null,this.$1=c,this.$4=a,this.$2.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"timeupdate",this.$5.bind(this)),b("oz-player/shims/OzEventListener").listen(this.$1,"playing",this.$6.bind(this)),b("oz-player/shims/OzEventListener").listen(this.$1,"pause",this.$7.bind(this)))}var c=a.prototype;c.$5=function(){var a=this.$4.getNumber("playhead_nudge_slack",0);if(a===0)return;var b=this.$3;b!=null&&!this.$1.paused&&this.$1.readyState===4&&(this.$1.currentTime===b&&(this.$1.currentTime+=a),this.$3=null)};c.$6=function(){this.$3=this.$1.currentTime};c.$7=function(){this.$3=null};c.destroy=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("oz-player/shims/ozThrottle",["throttle"],(function(a,b,c,d,e,f){"use strict";e.exports=b("throttle")}),null);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,h=150;a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;c===void 0&&(c=new g([]));this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$6=function(a){d.$4.getOperationLogger("pause").setState("paused").log()};this.$7=function(a){d.$5(),d.$4.getOperationLogger("playing").setState("playing").log()};this.$5=function(a){d.$2=d.$1.currentTime};this.$1=a;this.$4=c;this.$2=this.$1.currentTime;this.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"seeked",this.$5),b("oz-player/shims/OzEventListener").listen(this.$1,"seeking",this.$5),b("oz-player/shims/OzEventListener").listen(this.$1,"timeupdate",b("oz-player/shims/ozThrottle")(this.$5,h)),b("oz-player/shims/OzEventListener").listen(this.$1,"pause",this.$6),b("oz-player/shims/OzEventListener").listen(this.$1,"playing",this.$7))}var c=a.prototype;c.isPlaying=function(){return!this.$1.paused};c.getCurrentTime=function(){return this.$2};c.forceUpdateCurrentTime=function(){this.$5()};c.getDuration=function(){return this.$1.duration};c.addEventListener=function(a,c){return b("oz-player/shims/OzEventListener").listen(this.$1,a,c)};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/states/OzPlayerDimensions",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.setDimensions(a)}var b=a.prototype;b.setDimensions=function(a){this.$1=a.width,this.$2=a.height};b.getDimensions=function(){return{width:this.$1,height:this.$2}};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.isActive=function(a){return!0};c.getSegmentsCount=function(a,c,d){var e=b("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1),f=b("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor",1);a=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g})?this.$1.getNumber("segments_to_stream_near_bandwidth_boundary",5):this.$1.getNumber("segments_to_stream",5);d=this.$3(c,e);return Math.min(a,d)};c.$3=function(a,b){__p&&__p();var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target",0);d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.8;function a(a,b,c,d,e,f,i,j){__p&&__p();c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}e.exports={getPlaybackConfidence:a,getEstimatedDownloadTimeBufferDeltaMs:h}}),null);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzPlaybackConfidenceUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;a=function(){__p&&__p();function a(a,c,d,e,f,g,h){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$11=null,this.$1=a,this.$5=c,this.$6=this.$14(c,d),this.$7=e,this.$8=f,this.$10=g,this.$12=h,this.$13=new(b("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(a,d)}var c=a.prototype;c.setSourceBuffer=function(a){this.$9=a};c.$14=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index",0),d=this.$1.getNumber("abr_restrict_to_index",0);if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};c.$15=function(a){a=g(this.$1,a,this.$10.getDimensions(),this.$12);a=j(this.$7,this.$10.getDimensions(),a);return a};c.getBestRepresentation=function(a){__p&&__p();a===void 0&&(a=null);var c=i(this.$9,this.$8),d=h(this.$1,this.$4,c,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(d!==null&&d!==void 0){this.$11=d;return this.$5}d=Date.now();this.$2=d;var e=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1),f=this.$15(this.$6),g=null;this.$1.getBool("abr_use_download_time",!1)&&a!=null?g=this.$16(f,e,a)||this.$17(f,e,c,a):g=this.$17(f,e,c,a);e=this.$1.getBool("fix_abr_default_representation",!1)?f[0]:this.$6[0];g=g||e;if(this.$18(c,g)){this.$11="high_buffer";return this.$5}this.$5!==g&&(this.$4=!0,this.$3=d,this.$5=g);this.$11="bandwidth";return g};c.$17=function(a,c,d,e){e===void 0&&(e=null);var f=null;for(var g=0;g<a.length;g++){var h=b("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],c,d,this.$1.getNumber("low_buffer_bandwidth_target_threshold",10),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor",0),e,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1),this.$1.getNumber("download_time_buffer_delta_penalty_factor",0));h>this.$1.getNumber("abr_confidence_threshold",.7)&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};c.$16=function(a,c,d){for(var e=a.length-1;e>=0;e--){var f=b("oz-player/strategies/OzPlaybackConfidenceUtils").getEstimatedDownloadTimeBufferDeltaMs(a[e],c,d,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1)||0);if(f!=null&&f+this.$1.getNumber("minimum_download_additional_buffer_ms",0)<0)return a[e]}return null};c.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold",0);return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};c.getStreamSegmentsCountStrategy=function(){return this.$13};c.getLastEvaluationReason=function(){return this.$11};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzAudioIBRManager",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.getInitialAudioRepresentation=function(a){__p&&__p();var c=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1);a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var d=this.$1.getNumber("live_audio_ibr_bandwidth_percentage",.1);d=c*d;for(var e=a.length-1;e>=0;e--)if(a[e].getBandwidth()<=d){this.$2.getOperationLogger("audio_ibr_success").setRepresentationID(a[e].getID()).setReason(c.toString()).log();return a[e]}this.$2.getOperationLogger("audio_ibr_no_op").setReason(c.toString()).log();return null};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime,h=6,i=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzBufferAheadPriorityStrategy3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzBufferAheadPriorityStrategy4=function(){d.emit("state_changed")};d.$OzBufferAheadPriorityStrategy1=c;d.$OzBufferAheadPriorityStrategy3.addSubscriptions(d.$OzBufferAheadPriorityStrategy1.addEventListener("progress",b("oz-player/shims/ozThrottle")(d.$OzBufferAheadPriorityStrategy4,i)),d.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",b("oz-player/shims/ozThrottle")(d.$OzBufferAheadPriorityStrategy4,i)));return d}var d=c.prototype;d.getName=function(){return"buffer_ahead"};d.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",b("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy4,i)))};d.isActive=function(){return!0};d.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();b=g(b,a);return b>=h?0:1};d.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target",10)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){__p&&__p();a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.computeBufferTarget=function(){__p&&__p();for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.isActive()){d=d.getBufferTarget();this.$1=d;return d}}return this.$1};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.isEnabled=function(a,b){return(!this.$1.getBool("live_catch_up_only_when_paused",!1)||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};b.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$1.getNumber("live_catch_up_fall_behind_threshold",20)?b-this.$1.getNumber("live_catch_up_live_head_delta",6):null};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count",0)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayheadAtInterruptionDetector2=null;d.$OzPlayheadAtInterruptionDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadAtInterruptionDetector1=c;d.$OzPlayheadAtInterruptionDetector3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(d.$OzPlayheadAtInterruptionDetector1,"waiting",d.$OzPlayheadAtInterruptionDetector4.bind(babelHelpers.assertThisInitialized(d))));return d}var d=c.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector4()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};d.$OzPlayheadAtInterruptionDetector4=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<g&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy1=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy2=c;d.$OzPlayingStatePriorityStrategy1.addSubscriptions(d.$OzPlayingStatePriorityStrategy2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("play",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy3));return d}var d=c.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPriorityCalculator2=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator1=c;(c=d.$OzPriorityCalculator2).addSubscriptions.apply(c,d.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(b){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=c.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){return this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0)};d.destroy=function(){this.$OzPriorityCalculator2.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target",10)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,c){return this.$1.getNumber("segments_to_stream",5)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){__p&&__p();var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();e.exports=a}),null);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$OzEndOfStreamWatcher1=new Map();e.$OzEndOfStreamWatcher2=new(b("oz-player/shims/OzSubscriptionsHandler"))();e.$OzEndOfStreamWatcher3=c;e.$OzEndOfStreamWatcher4=d;return e}var d=c.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&b("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher5()};d.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher5()};d.$OzEndOfStreamWatcher5=function(){var a=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool("allow_queueing_end_of_stream_when_update",!1)||a.readyState==="open")&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher3.notifyEndOfStream(),this.emit("streamEnd"))};d.$OzEndOfStreamWatcher6=function(){__p&&__p();if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};d.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$4=null;this.$5=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3=d;this.$6=e;f.then(function(a){g.$4=a});this.$5.addSubscriptions(e.addListener("switchRepresentation",this.$7.bind(this)))}var c=a.prototype;c.cleanup=function(){this.$5.release(),this.$5.engage()};c.$7=function(a,b){__p&&__p();if(!this.$1.getBool("clear_buffer_on_user_quality_upgrade",!1)||a!=="user")return;a=this.$6.getRepresentationIDAtTime(this.$2.getCurrentTime());var c;if(this.$4){for(var d=0;d<this.$3.length;d++)this.$3[d].getID()===a&&(c=this.$3[d]);if(c&&b&&c.getBandwidth()<b.getBandwidth()){a=c.getSegmentByTime(this.$2.getCurrentTime());a&&(this.$4&&this.$4.clearRange(this.$2.getCurrentTime(),this.$2.getDuration()))}}};return a}();e.exports=a}),null);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/utils/ozConcatArrayBuffer","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=new ArrayBuffer(0);c.$OzReadableStreamDataReader2=b;return c}var d=c.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader1=b("oz-player/utils/ozConcatArrayBuffer")(this.$OzReadableStreamDataReader1,a.buffer)};d.onClose=function(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)};return c}(b("oz-player/networks/OzTransformStream"));e.exports=a}),null);
__d("oz-player/shims/ozPerformanceNow",["performanceNow"],(function(a,b,c,d,e,f){"use strict";e.exports=b("performanceNow")}),null);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozPerformanceNow","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;a=function(){__p&&__p();function a(a,c){this.$3=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$1=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$6=this.$3.getPromise(),this.$7=b("oz-player/shims/ozPerformanceNow")(),this.$8=c,this.$9=a}var c=a.prototype;c.run=function(){var a=this.$8;if(a){var c=b("oz-player/shims/ozPerformanceNow")()-this.$7;g(this.$6,a,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(c))})}this.$2.resolve();return this.$6};c.cancel=function(){this.$3.reject(new(b("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled"})),this.$5=!0};c.finish=function(){this.$3.resolve()};c.isCancelled=function(){return this.$5};c.addStream=function(a,c,d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStreamPromise:b("Promise").resolve({pausableStream:a,loggingPayloads:d}),changeStatusDeferred:e,createStreamDeferred:new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),loggerProviderWithStreamContext:c,loggingPayloads:d});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return e.getPromise()}}};c.addStreamDeferred=function(a,c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStreamPromise:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:c});var f=function(){return e.getPromise()};return{genStream:f,cancel:function(){f().then(function(a){return a.pauseStream()})},getStatusChangePromise:function(){return d.getPromise()}}};c.$10=function(a){__p&&__p();var c=this,d=a.pausableStreamPromise,e=a.changeStatusDeferred,f=a.createStreamDeferred,i=a.loggerProviderWithStreamContext,j=a.loggingPayloads;a=this.$1.getPromise();var k=b("oz-player/shims/ozPerformanceNow")(),l=this.$1=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return d}).then(function(a){__p&&__p();if(a){var d=a.pausableStream;a.loggingPayloads&&(j=a.loggingPayloads);f.resolve(d.getStream());c.$4=d;var e=b("oz-player/shims/ozPerformanceNow")();a=c.$11(d.startStream());i&&g(a,i,"fetch_stream",function(){},function(a){j&&h(a,j.getRequestUrl(),j.isPrefetch(),j.segments,e-k,j.getResponse())});return a}return null}).then(function(a){c.$4=null,l.resolve(),e.resolve(a||"cancelled")})["catch"](function(a){c.$4=null,c.$3.reject(a),e.reject(a)})};c.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$5=a;this.$1=c;this.$6=b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=d;this.$8=e;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,b){f.$10(a,b),f.$2&&f.$6.updatePriority(f.$2,f.$4)}))}var c=a.prototype;c.startStream=function(a){__p&&__p();var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$11(a),e=this.$12();c=c.createPausableStream(b,e,a);b=c.pausableStream;e=c.loggingPayloads;this.$9=!0;c=d.addStream(b,a,e);d={getStream:c.getStream,cancel:c.cancel,getStatusChangePromise:this.$13(c.getStatusChangePromise)};return d};c.$12=function(){var a=[];a.push(b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};c.startStreamDeferred=function(a){__p&&__p();var c=a.segmentsPromise,d=a.networkManager,e=a.segmentsLoggerProvider;a=this.$11(e);var f=this.$12(),g=new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c.then(function(b){b.length>0?a(d.createPausableStream(b,f,e)):a(null)})["catch"](function(a){return b(a)})});this.$9=!0;a=a.addStreamDeferred(g,e);g={genStream:a.genStream,cancel:a.cancel,getStatusChangePromise:this.$13(a.getStatusChangePromise)};return g};c.$11=function(a){a=this.$2;this.$10(this.$1.compute(),"start_stream");!a||a.isCancelled()?(a=this.$2=new(b("oz-player/networks/OzStreamingTask"))(this.$8,this.$7),this.$6.enqueue(a,this.$4)):this.$6.updatePriority(a,this.$4);return a};c.$13=function(a){var c=this;return function(){return a().then(function(a){c.$14();return a})["catch"](function(a){c.$14();return b("Promise").reject(a)})}};c.finishTaskIfNoOngoingStream=function(){this.$9||this.$15()};c.destroy=function(){this.$3.release()};c.$14=function(){this.$9=!1,this.$10(this.$1.compute(),"end_stream"),this.$4<b("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$15()};c.$15=function(){this.$2&&(this.$2.finish(),this.$2=null)};c.$10=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getStreamingSegments:function(a,b,c,d,e){__p&&__p();var f=a.getNumber("segments_to_stream_under_playhead_threshold",0);a=a.getNumber("low_segment_stream_playhead_threshold",0);f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}};e.exports=a}),null);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$2=null;this.$3=!1;this.$4=function(){__p&&__p();c.$5();if(c.$3)return;var a=c.$1.execute(),d=c.$1.getLoopInterval();d&&(c.$2=b("oz-player/shims/ozSetTimeout")(function(){c.$4()},d));a&&a.then(c.$4)["catch"](function(a){c.$5();a=c.$1.handleError(a);a?c.$2=b("oz-player/shims/ozSetTimeout")(c.$4,a):c.$3=!0})};this.$1=a}var c=a.prototype;c.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$4()};c.stop=function(){this.$5(),this.$3=!0};c.$5=function(){this.$2&&(b("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();e.exports=a}),null);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";a={getRangeForTime:function(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}};e.exports=a}),null);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzRangeUtils").getRangeForTime;a={getSegment:function(a,c,d,e,f,h,i,j){__p&&__p();var k=c.getCurrentTime();k=e?g(k,e.getBufferedRanges()):null;e=h?h.getTimeRange().endTime:0;if(i.getBool("use_stream_end_time_in_segment_locator",!1)&&k&&k.endTime===j)return null;h=c.getCurrentTime()||0;e?h=e:k&&(h=k.endTime);j=h-c.getCurrentTime();if(i.getBool("compute_buffer_ahead_with_timeline_gaps",!1)){e=f.getTimeRanges();j=new(b("oz-player/utils/OzNumericalRangeUtil"))().findDiffCoveredByRanges(c.getCurrentTime(),h,e.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}))}if(j>d)return null;k=a.getSegment(0);i.getNumber("auto_seek_playhead_slack",0)===0&&k&&k.getTimeRange().startTime>h&&(h=k.getTimeRange().startTime);f=a.getSegmentByTime(h);return f}};e.exports=a}),null);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("oz-player/streams/OzMediaStream",["oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeout","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/utils/OzTaggedTimeRanges","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzMimeUtil").getMimeType,h=b("oz-player/utils/OzRangeUtils").getRangeForTime,i=1e3,j=.2;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r;r=a.call(this)||this;r.$OzMediaStream8=null;r.$OzMediaStream10=!1;r.$OzMediaStream11=null;r.$OzMediaStream12=new(b("oz-player/shims/OzSubscriptionsHandler"))();r.$OzMediaStream14=[];r.$OzMediaStream18=0;r.$OzMediaStream25=!0;r.$OzMediaStream27=!1;r.$OzMediaStream28=null;r.$OzMediaStream29=new(b("oz-player/utils/OzErrorEmitter"))();r.$OzMediaStream1=c;r.$OzMediaStream2=d;r.$OzMediaStream2.then(function(a){r.$OzMediaStream3=a,r.$OzMediaStream11&&r.$OzMediaStream11.setSourceBuffer(a),r.$OzMediaStream23.setSourceBufferState(a.getSourceBufferState()),r.$OzMediaStream31()});r.$OzMediaStream16=e;r.$OzMediaStream7=f;r.$OzMediaStream4=h;r.$OzMediaStream9=i;r.$OzMediaStream9.registerMediaStream(babelHelpers.assertThisInitialized(r));r.$OzMediaStream22=j;r.$OzMediaStream23=k;r.$OzMediaStream24=l;r.$OzMediaStream11=m;r.$OzMediaStream13=p.cloneContext();r.$OzMediaStream21=new(b("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});r.$OzMediaStream12.addSubscriptions(r.$OzMediaStream4.addEventListener("seeking",function(){r.$OzMediaStream1.getBool("fix_seek_performance",!1)?r.$OzMediaStream32():((!r.$OzMediaStream1.getBool("keep_anchor_when_seeking_into_same_buffer",!1)||!r.$OzMediaStream33())&&(r.$OzMediaStream6=null),r.$OzMediaStream27=!1,r.$OzMediaStream20&&r.$OzMediaStream20.resolve())}));r.$OzMediaStream17=g(o.getMimeCodecs());r.$OzMediaStream26=new(b("oz-player/networks/OzStreamingTaskStateManager"))(r.$OzMediaStream17,r.$OzMediaStream23,r.$OzMediaStream13,r.$OzMediaStream1);r.$OzMediaStream19=new(b("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(r));n===o.getID()?r.$OzMediaStream5=o:r.$OzMediaStream34(o);return r}var d=c.prototype;d.start=function(){this.$OzMediaStream19.start()};d.getCurrentRepresentation=function(){return this.$OzMediaStream5};d.switchRepresentation=function(a){this.$OzMediaStream34(a,"user")};d.onError=function(a){return this.$OzMediaStream29.onError(a)};d.updateRunTimeConfigs=function(a){a=a.videoStreamDataHandler;a!==void 0&&(this.$OzMediaStream30=a)};d.$OzMediaStream34=function(a,c){var d=this;c===void 0&&(c="internal");this.$OzMediaStream1.getBool("clear_buffer_on_user_quality_upgrade",!1)&&(this.$OzMediaStream6=null);var e=this.$OzMediaStream13.cloneContext().setType(this.$OzMediaStream17+";init"),f=this.$OzMediaStream7.request([a.getInitSegment()],[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream17)],e),g=e.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream5?this.$OzMediaStream5.getID():null).setRepresentationID(a.getID()).setReason(this.$OzMediaStream11&&this.$OzMediaStream11.getLastEvaluationReason()).start();this.$OzMediaStream5=a;this.emit("switchRepresentation",c,a);this.$OzMediaStream35(f.getStream(),function(){g.log(),d.emit("initAppended"),d.$OzMediaStream9.notifyRepresentationSwitched(d)},function(a){g.setError(a).log(),d.$OzMediaStream1.getBool("fallback_on_append_error",!1)&&a instanceof b("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&d.$OzMediaStream29.emitError(a)},e.cloneContext(),0)};d.getLoopInterval=function(){return this.$OzMediaStream18};d.execute=function(){var a=this.$OzMediaStream36();if(a){var c=this.$OzMediaStream20=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return c.resolve()})["catch"](function(a){return c.reject(a)});return c.getPromise()}return null};d.$OzMediaStream37=function(a){a===void 0&&(a=null);if(this.$OzMediaStream11&&this.$OzMediaStream25&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request",!1)||this.$OzMediaStream10||this.$OzMediaStream16>0)){a=this.$OzMediaStream11.getBestRepresentation(a);if(this.$OzMediaStream5!==a)return a}return null};d.$OzMediaStream38=function(a){var c=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null,d=this.$OzMediaStream16>0?this.$OzMediaStream5.getSegment(this.$OzMediaStream16-1):null,e=null;a&&(e=this.$OzMediaStream5.getCustomFieldFirstSegment());e||(e=b("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream5,this.$OzMediaStream4,this.$OzMediaStream22.computeBufferTarget(),c,this.$OzMediaStream5,this.$OzMediaStream6||d,this.$OzMediaStream1,this.$OzMediaStream28));return e};d.$OzMediaStream39=function(){return!this.$OzMediaStream10&&this.$OzMediaStream16===0};d.$OzMediaStream40=function(a,c){__p&&__p();var d=[];if(c)d=[a];else{c=this.$OzMediaStream24.computeMin(this.$OzMediaStream4,a,this.$OzMediaStream5);if(this.$OzMediaStream1.getBool("switch_when_getting_segments",!1)){var e=this.$OzMediaStream37(c);if(e){this.$OzMediaStream34(e);e=this.$OzMediaStream38(!1);if(e)return this.$OzMediaStream40(e,!1)}}d=b("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream1,c,this.$OzMediaStream5,this.$OzMediaStream4,a);d=b("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(d)}return d};d.$OzMediaStream41=function(){var a=this;return new(b("oz-player/shims/OzMaybeNativePromise"))(function(b,c){var d=a.getCurrentRepresentation().addUpdateListener(function(){b(),a.$OzMediaStream15=null,d.remove()});a.$OzMediaStream15=d})};d.$OzMediaStream42=function(a,c){var d=this;return new(b("oz-player/shims/OzMaybeNativePromise"))(function(b,c){c=d.$OzMediaStream38(a);c==null?b([]):b(d.$OzMediaStream40(c,a))})};d.$OzMediaStream36=function(){__p&&__p();var a=this,c=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null,d=this.$OzMediaStream39(),e=this.$OzMediaStream38(d);if(this.$OzMediaStream27&&this.$OzMediaStream1.getBool("no_new_loop_body_promise_when_stream_ongoing",!1)){this.$OzMediaStream18=i;return null}if(!e||this.$OzMediaStream27){this.$OzMediaStream18=i;this.$OzMediaStream27||this.$OzMediaStream26.finishTaskIfNoOngoingStream();return this.$OzMediaStream41()}this.$OzMediaStream18=0;var f=this.$OzMediaStream40(e,d);if(!this.$OzMediaStream1.getBool("switch_when_getting_segments",!1)){e=this.$OzMediaStream37(f.length);if(e){this.$OzMediaStream34(e);return b("oz-player/shims/OzMaybeNativePromise").resolve()}}this.$OzMediaStream10=!0;var g=f[f.length-1]||null;g&&(this.$OzMediaStream16=0);var h=!1;g&&(h=this.$OzMediaStream5.isEndingSegment(g));b("oz-player/shims/ozvariant")(f.length!==0,"There must be one or more segment");e=f[0];var j=e.getTimeRange().startTime,k=g.getTimeRange().endTime,l=this.$OzMediaStream13.cloneContext();l.setRepresentationID(this.$OzMediaStream5.getID()).setSegmentStartTime(j).setSegmentEndTime(k);var m,n,o=null,p=this.$OzMediaStream1.getBool("disable_audio_scheduler",!1)&&this.$OzMediaStream17.indexOf("audio")!==-1;this.$OzMediaStream1.getBool("use_scheduler",!1)&&!p&&!d?this.$OzMediaStream1.getBool("use_deferred_streaming_task",!1)?n=this.$OzMediaStream26.startStreamDeferred({segmentsPromise:this.$OzMediaStream42(d,f),networkManager:this.$OzMediaStream7,sourceBufferState:c,playbackState:this.$OzMediaStream4,segmentsLoggerProvider:l}):m=this.$OzMediaStream26.startStream({streamableSegments:f,networkManager:this.$OzMediaStream7,sourceBufferState:c,playbackState:this.$OzMediaStream4,segmentsLoggerProvider:l}):m=this.$OzMediaStream7.request(f,[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream17)],l);this.$OzMediaStream8=m;this.$OzMediaStream27=!0;var q=0,r=null;q=this.$OzMediaStream43(e,g,f.length);r={startTime:j,endTime:k,tag:{id:this.$OzMediaStream5.getID()}};var s=l.getOperationLogger("queued_append");s.start().setReason(this.$OzMediaStream11&&this.$OzMediaStream11.getLastEvaluationReason());var t=function(c){a.$OzMediaStream35(c,function(b){s.setAppendedBufferMs(Math.round(b*1e3)).log(),f.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream44(b))}),h&&a.endStream()},function(c){s.setError(c).log(),a.$OzMediaStream1.getBool("fallback_on_append_error",!1)&&c instanceof b("oz-player/utils/OzError")&&c.getType()!=="OZ_NETWORK"&&a.$OzMediaStream29.emitError(c)},l,q,r)},u;b("oz-player/shims/ozvariant")(!!n||!!m,"request tracker must exist");n?(n.genStream().then(function(a){return t(a)})["catch"](function(b){return a.$OzMediaStream29.emitError(b)}),u=n.getStatusChangePromise()):m&&(t(m.getStream()),u=m.getStatusChangePromise());return u.then(function(b){a.$OzMediaStream45(b,g);return a.$OzMediaStream46(o)})["catch"](function(b){return a.$OzMediaStream47(b,o)})};d.handleError=function(a){return 0};d.$OzMediaStream45=function(a,b){a!=="cancelled"&&(this.$OzMediaStream6=b)};d.$OzMediaStream46=function(a){this.$OzMediaStream27=!1,a&&a.finish()};d.$OzMediaStream47=function(a,c){__p&&__p();this.$OzMediaStream27=!1;var d,e;a instanceof b("oz-player/utils/OzError")?(d=a.getExtra().code||"",e=a):(d=a.status.toString(),e=new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:d,url:a.url}}));var f=JSON.parse(this.$OzMediaStream1.getString("network_retry_intervals_json","{}")),g=f[d];if(g){c&&c.finish();this.$OzMediaStream26.finishTaskIfNoOngoingStream();return this.$OzMediaStream1.getBool("retry_error_during_stream",!1)&&this.$OzMediaStream3?this.$OzMediaStream3.cancelOperationAndCleanQueue().then(function(){return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeout")(a,g)})}):new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeout")(a,g)})}this.$OzMediaStream29.emitError(e);return a instanceof b("oz-player/utils/OzError")&&a.getType()==="OZ_NETWORK"&&this.$OzMediaStream3?this.$OzMediaStream3.cancelOperationAndCleanQueue():b("oz-player/shims/OzMaybeNativePromise").resolve()};d.$OzMediaStream35=function(a,b,c,d,e,f){f===void 0&&(f=null),this.$OzMediaStream14.push({stream:a,dataAppendedCallback:b,dataAppendedErrorCallback:c,loggerProvider:d,appendTarget:e,timeRange:f}),this.$OzMediaStream3&&this.$OzMediaStream31()};d.$OzMediaStream31=function(){var a=this;this.$OzMediaStream14.forEach(function(c){var d=c.stream,e=c.dataAppendedCallback,f=c.dataAppendedErrorCallback,g=c.loggerProvider,h=c.appendTarget,i=c.timeRange;c=a.$OzMediaStream30==null?d:d.pipeThrough(new(b("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream30.bind(a,a.$OzMediaStream5)));a.$OzMediaStream3&&a.$OzMediaStream3.queueData(c,g,h).then(function(b){e(b),i&&a.$OzMediaStream21.add(i.startTime,i.endTime,i.tag)})["catch"](function(a){f(a)})});this.$OzMediaStream14=[]};d.$OzMediaStream43=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment",0);if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range",0));return d};d.getIsAdaptationEnabled=function(){return this.$OzMediaStream25};d.enableAdaptation=function(){this.$OzMediaStream25=!0};d.disableAdaptation=function(){this.$OzMediaStream25=!1};d.cleanup=function(){this.$OzMediaStream2.then(function(a){a.destroy()}),this.$OzMediaStream26.destroy(),this.$OzMediaStream12.release(),this.$OzMediaStream12.engage(),this.$OzMediaStream15&&this.$OzMediaStream15.remove(),this.$OzMediaStream19.stop()};d.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream21.get(a);if(!b){var c=this.$OzMediaStream5.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream4.getDuration()+d&&(b=this.$OzMediaStream21.get(c.endTime-d))}return b?b.id:null};d.endStream=function(){this.$OzMediaStream9.notifyMediaStreamEnded(this),this.$OzMediaStream48()};d.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream5.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream3){var b=this.$OzMediaStream3.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<j&&this.endStream())}}};d.$OzMediaStream44=function(a){return{type:this.$OzMediaStream17.charAt(0),segment:a,sourceBuffer:this.$OzMediaStream3?this.$OzMediaStream3.getDebug().SourceBuffer:null}};d.$OzMediaStream32=function(){(!this.$OzMediaStream1.getBool("keep_anchor_when_seeking_into_same_buffer",!1)||!this.$OzMediaStream33())&&(this.$OzMediaStream6=null),this.$OzMediaStream27=!1,this.$OzMediaStream8&&this.$OzMediaStream8.cancel(),this.$OzMediaStream18!==0&&this.$OzMediaStream20&&this.$OzMediaStream20.resolve()};d.$OzMediaStream33=function(){var a=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null;a=a?h(this.$OzMediaStream4.getCurrentTime(),a.getBufferedRanges()):null;return this.$OzMediaStream6&&a?a.endTime>this.$OzMediaStream6.getTimeRange().startTime:!1};d.$OzMediaStream48=function(){if(this.$OzMediaStream3){var a=this.$OzMediaStream3.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream28=a[a.length-1].endTime)}};d.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream3,MediaStreamAbrManager:this.$OzMediaStream11}};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f){"use strict";var g=new(b("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(g.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}e.exports=a}),null);
__d("oz-player/Player",["Promise","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzAudioRepresentation","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPlayerDimensions","oz-player/strategies/OzAbrManager","oz-player/strategies/OzAudioIBRManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/utils/getRepresentationInCache","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider,h=b("oz-player/loggings/OzLoggingUtils").executeOperationAndLog,i=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,j=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,k=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$Player3=new Map();d.$Player4=new Map();d.$Player9=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$Player10=new(b("oz-player/utils/OzErrorEmitter"))();d.$Player24=[];d.$Player31=null;d.$Player32=null;d.$Player36=function(a){};var e=c.videoNodeOrQuickStarter,f=c.config,g=c.rawMpdXml,h=c.dimensions,i=c.mpdUrl;i=i===void 0?null:i;var k=c.loggerConfig;k=k===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:k;var l=c.prefetchCache;l=l===void 0?null:l;var m=c.networkRequestStreamHandlers,n=c.getShouldIncludeCredentials;n=n===void 0?null:n;var o=c.initialRepresentationIDs;o=o===void 0?[]:o;var p=c.customParsers;p=p===void 0?new Map():p;var q=c.entityKey;q=q===void 0?"":q;var r=c.videoPlaybackRestrictions;r=r===void 0?[]:r;var s=c.customSegmentTimelineParser;s=s===void 0?null:s;var t=c.customRepresentationParsers;t=t===void 0?{}:t;var u=c.videoAbrManagerFactory;u=u===void 0?null:u;var v=c.seekHandler;v=v===void 0?null:v;var w=c.streamGoneHandler;w=w===void 0?null:w;var x=c.initialPlaybackPositionForDynamicMpd;x=x===void 0?0:x;var y=c.startTimeStamp;y=y===void 0?0:y;var z=c.disableAbr;z=z===void 0?!1:z;var A=c.drmManagerModule;A=A===void 0?null:A;c=c.drmProviders;c=c===void 0?null:c;var B=k.perfLoggerProviders,C=k.observedOperationLoggers;k=k.isOzDevConsoleEnabled;d.$Player15=k||!1;d.$Player14=new j(d.$Player45().concat(B));d.$Player2=f;d.$Player46();d.$Player21=new(b("oz-player/loggings/OzOperationLoggerObserver"))();d.$Player21.observe(C,d.$Player14);d.$Player23=l;k=l&&l.getCachedRepresentations(q);d.$Player24=k||o;d.$Player26=p;d.$Player30=r;d.$Player27=t;d.$Player28=s;d.$Player34=u;d.$Player35=v;w&&(d.$Player36=w);d.$Player37=y;d.$Player38=x;d.$Player42=A;d.$Player43=c;e instanceof HTMLVideoElement?(d.$Player1=e,d.$Player5=new(b("oz-player/media_source/MediaSourceManager"))(d.$Player1,d.$Player2,d.$Player14)):(d.$Player1=e.getVideoNode(),d.$Player5=e.getMediaSourceManager(),d.$Player6=e);d.$Player39=m;d.$Player40=n;d.$Player11=new(b("oz-player/networks/OzNetworkManager"))(d.$Player2,d.$Player23,d.$Player39,d.$Player40);d.$Player16=i;d.$Player7=g;d.$Player12=new(b("oz-player/states/OzObservedPlaybackState"))(d.$Player1,d.$Player14);d.$Player29=new(b("oz-player/states/OzPlayerDimensions"))(h);d.$Player13=new(b("oz-player/streams/OzEndOfStreamWatcher"))(d.$Player5,d.$Player2);d.$Player9.addSubscriptions(d.$Player13.addListener("streamEnd",d.emit.bind(babelHelpers.assertThisInitialized(d),"streamEnd")));d.$Player22=new(b("oz-player/media_source/OzMediaSeekableRangeManager"))(d.$Player5,d.$Player2);d.$Player25=d.$Player47();d.$Player41=z;return d}var d=c.prototype;d.setupPlayer=function(){__p&&__p();this.$Player48();this.$Player2.getBool("listen_for_quick_starter_errors",!1)&&this.$Player6&&this.$Player9.addSubscriptions(this.$Player6.onError(this.$Player10.emitError));try{this.$Player8=h(this.$Player14,"parse_manifest",this.$Player49.bind(this,this.$Player7));if(this.$Player16!==null&&this.$Player16!==void 0){var a=new(b("oz-player/parsers/OzMpdUpdater"))(this.$Player2,this.$Player8,this.$Player11,this.$Player12,this.$Player14,{customParsers:this.$Player26,customRepresentationParsers:this.$Player27,customSegmentTimelineParser:this.$Player28},this.$Player44);this.$Player50(a);this.$Player9.addSubscriptions(a.onError(this.$Player10.emitError),a.addListener("streamGone",this.$Player51.bind(this)),a.addListener("streamTransitionToStatic",this.$Player52.bind(this)));a.setupUpdateLoop();this.$Player20=a}this.$Player37=this.$Player8.isStaticMpd()?this.$Player37:this.$Player38;this.$Player17=new(b("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player1,mpd:this.$Player8,playheadCatchup:this.$Player33,playbackState:this.$Player12,config:this.$Player2,perfLoggerProvider:this.$Player14,seekHandler:this.$Player35,initialPlaybackPosition:this.$Player37});this.$Player18=new(b("oz-player/playback_controls/OzPlayheadNudger"))(this.$Player2,this.$Player1);this.$Player19=new(b("oz-player/playback_controls/OzPlaybackTimeRangeManager"))(this.$Player2,this.$Player1,this.$Player8);this.setupStreamsAndFireDebugEvent()}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player10.emitError(a);else throw a}};d.updatePlayerRunTimeConfig=function(a){a=a.videoStreamDataHandler;if(a!==void 0){var b=this.$Player3.get("video");b&&b.updateRunTimeConfigs({videoStreamDataHandler:a})}};d.$Player53=function(a,b){var c=this,d=a.getMimeCodecs(),e,f=0,g=null,h=this.$Player6;h&&(e=h.getSourceBufferManagerPromise(d),f=h.getPrependedSegmentsCount(d),this.$Player2.getBool("fix_quick_starter_overhead",!1)&&(g=h.getRepresentationId(d)));e||(e=this.$Player5.createSourceBufferManager(d,this.$Player2.getBool("set_source_buffer_append_window_end",!1)));this.$Player54(e,b,g,a,f);return i(e,this.$Player14,"source_attach",function(a){a.setType(b)}).then(function(a){return c.$Player17.observeSourceBufferState(a.getSourceBufferState(),b)})};d.isDrm=function(){var a=this.$Player44;if(a!==null&&a!==void 0){a=a.hasContentProtections();return a!=null?a:!1}return!1};d.$Player48=function(){if(this.$Player42){var a=this.$Player44=new this.$Player42(this.$Player14,this.$Player1);a.onError(this.$Player10.emitError);this.$Player43&&this.$Player43.forEach(a.addProvider,a);this.$Player27.drmProtections&&this.$Player10.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'}));this.$Player27.drmProtections=a.parseContentProtectionForRepresentation.bind(this.$Player44)}};d.$Player55=function(a){a=[this.$Player2,a,this.$Player8.getVideoRepresentations(),this.$Player30,this.$Player12,this.$Player29,window.devicePixelRatio||1];return this.$Player34?this.$Player34.apply(this,a):new(Function.prototype.bind.apply(b("oz-player/strategies/OzAbrManager"),[null].concat(a)))()};d.$Player54=function(a,c,d,e,f){var g=this,h=this.$Player4.get(c),i=new(b("oz-player/streams/OzMediaStream"))(this.$Player2,a,f,this.$Player11,this.$Player12,this.$Player13,this.$Player25,this.$Player56(),this.$Player57(h),h,d,e,this.$Player14.cloneContext().setType(c));this.$Player37===0?i.start():this.$Player9.addSubscriptions(this.$Player17.addListener("initialPlaybackPositionSet",function(){g.$Player12.forceUpdateCurrentTime(),i.start()}));this.$Player9.addSubscriptions(i.onError(this.$Player10.emitError),this.$Player22.listenToMediaStreamInitAppended(i));c==="video"&&(this.$Player32=new(b("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player2,this.$Player12,k(this.$Player30,this.$Player29.getDimensions(),this.$Player8.getVideoRepresentations()),i,a));this.$Player3.set(c,i);this.$Player9.addSubscriptions(i.addListener("switchRepresentation",function(){c==="video"&&g.emit("switchVideoRepresentation")}),i.addListener("SegmentAppended",function(a){g.$Player58("SegmentAppended",a)}))};d.$Player47=function(){return new(b("oz-player/strategies/OzBufferTargetCalculator"))([new(b("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player12,this.$Player2),new(b("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player2)])};d.$Player50=function(a){var c=this;if(this.$Player2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0){var d=new(b("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player1);this.$Player9.addSubscriptions(d.addListener("playheadAtInterruption",function(a){return c.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){return d.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){d.notifyStreamResumed(),c.emit("streamResumedAt",a)}));this.$Player31=d}};d.$Player56=function(){var a=[new(b("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player12),new(b("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player12)];return new(b("oz-player/strategies/OzPriorityCalculator"))(a)};d.$Player57=function(a){var c=[new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player2),new(b("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player25,this.$Player2)];this.$Player2.getNumber("paused_stream_segments_count",0)!==0&&c.push(new(b("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player12,this.$Player2));if(a){a=a.getStreamSegmentsCountStrategy();a&&c.push(a)}return new(b("oz-player/strategies/OzStreamSegmentsCountCalculator"))(c)};d.onError=function(a){return this.$Player10.onError(a)};d.getCurrentQuality=function(){var a=this.$Player3.get("video");a=a&&a.getCurrentRepresentation();return a instanceof b("oz-player/manifests/OzVideoRepresentation")?a.getQualityLabel():this.$Player8.getVideoRepresentations()[0].getQualityLabel()};d.getCurrentAudioQuality=function(){var a=this.$Player3.get("audio");a=a&&a.getCurrentRepresentation();return a instanceof b("oz-player/manifests/OzAudioRepresentation")?a.getQualityLabel():""};d.switchToVideoQuality=function(a){var b=this.$Player8.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player3.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};d.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player3.get("video");return a?a.getIsAdaptationEnabled():!1};d.enableVideoQualityAdaptation=function(){var a=this.$Player3.get("video");a&&a.enableAdaptation()};d.getVideoQualities=function(){return this.$Player8.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};d.setEnableLiveheadCatchup=function(a){this.$Player19&&(a?this.$Player14.getOperationLogger("live_catchup_enabled").log():this.$Player14.getOperationLogger("live_catchup_disabled").log(),this.$Player19.setTimelineBlockingEnabled(a))};d.setupStreamsAndFireDebugEvent=function(){var a=this,c=[this.setupVideoStream(),this.setupAudioStreamIfExist()],d=[];return b("Promise").all(c).then(function(){var b=a.$Player3.get("video"),c=a.$Player3.get("audio");b&&d.push(b.getCurrentRepresentation());c&&d.push(c.getCurrentRepresentation());d.forEach(function(b){a.$Player9.addSubscriptions(b.addUpdateListener(function(){a.$Player58("SegmentIndexesUpdated",d)}))});a.$Player58("InitialSegmentIndexes",d)})};d.setupVideoStream=function(){__p&&__p();var a=k(this.$Player30,this.$Player29.getDimensions(),this.$Player8.getVideoRepresentations());if(!a.length)return b("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player22.setTimeRangeProvider(a[0]);this.$Player17.setTimeRangeProvider(a[0]);this.$Player19!=null&&this.$Player19.setTimeRangeProvider(a[0]);var c=this.$Player59(a);if(!this.$Player41&&this.$Player2.getBool("enable_adaptation",!1)){var d=this.$Player55(c||a[0]);this.$Player4.set("video",d);this.$Player2.getBool("use_abr_for_missing_default_representation",!1)&&!c&&(c=d.getBestRepresentation())}return this.$Player53(c||a[0],"video")};d.setupAudioStreamIfExist=function(){var a=this.$Player8.getAudioRepresentations();return a.length?this.$Player53(this.$Player60(a)||a[0],"audio"):b("oz-player/shims/OzMaybeNativePromise").resolve()};d.getMpd=function(){return this.$Player8};d.destroy=function(){__p&&__p();var a=this.$Player14.getOperationLogger("unload").start();this.$Player3.forEach(function(a){a.cleanup()});this.$Player32&&this.$Player32.cleanup();this.$Player3=new Map();this.$Player9.release();this.$Player9.engage();this.$Player12.destroy();this.$Player17&&this.$Player17.destroy();this.$Player18&&(this.$Player18.destroy(),this.$Player18=null);this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);this.$Player44&&this.$Player44.destroy();this.$Player2.getBool("detach_media_source_manager",!1)&&this.$Player5&&this.$Player5.detach();var c=b("Promise").resolve();this.$Player2.getBool("cleanup_video_node_on_destroy",!1)&&(this.$Player1.pause(),this.$Player1.src="",this.$Player1.setMediaKeys&&"function"===typeof this.$Player1.setMediaKeys&&(c=this.$Player1.setMediaKeys(null)));this.$Player20&&this.$Player20.destroy();this.$Player31&&this.$Player31.destroy();this.$Player21.destroy();this.$Player22.destroy();a.log();this.emit("destroyed");a=[c];return b("Promise").all(a)};d.$Player59=function(a){__p&&__p();var c=this,d;d=a.find(function(a){return c.$Player24.indexOf(a.getID())!==-1});if(!d&&this.$Player6&&this.$Player2.getBool("fix_quick_starter_overhead",!1)){var e=this.$Player6.getRepresentationId("video");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(a,this.$Player23));return d||null};d.$Player60=function(a){__p&&__p();var c=this,d;d=a.find(function(a){return c.$Player24.indexOf(a.getID())!==-1});if(!d&&this.$Player6&&this.$Player2.getBool("fix_quick_starter_overhead",!1)){var e=this.$Player6.getRepresentationId("audio");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(a,this.$Player23));if(!d&&!this.$Player8.isStaticMpd()&&a.length>1&&this.$Player2.getBool("live_audio_ibr",!1)){var f=new(b("oz-player/strategies/OzAudioIBRManager"))(this.$Player2,this.$Player14);d=f.getInitialAudioRepresentation(a)}return d||null};d.$Player49=function(a){var c=new(b("oz-player/parsers/OzMpdParser"))(this.$Player2,{mpdUrl:this.$Player16,customParsers:this.$Player26,customRepresentationParsers:this.$Player27,customSegmentTimelineParser:this.$Player28},this.$Player11,this.$Player14,this.$Player44);this.$Player9.addSubscriptions(c.onError(this.$Player10.emitError));return c.parse(a)};d.$Player45=function(){var a=[];this.$Player15&&a.push(new g());return a};d.setDimensions=function(a){this.$Player29.setDimensions(a)};d.$Player61=function(a,b){b=this.$Player3.get(b);return b?b.getRepresentationIDAtTime(a):null};d.getAudioRepresentationIDAtTime=function(a){return this.$Player61(a,"audio")};d.getVideoRepresentationIDAtTime=function(a){return this.$Player61(a,"video")};d.getCurrentVideoRepresentation=function(){var a=this.$Player3.get("video");return a!=null?a.getCurrentRepresentation():null};d.getCurrentAudioRepresentation=function(){var a=this.$Player3.get("audio");return a!=null?a.getCurrentRepresentation():null};d.$Player51=function(){this.$Player36!=null&&this.$Player36(Array.from(this.$Player3.values()))};d.$Player52=function(){this.$Player2.getBool("end_buffered_streams_on_transition_to_static",!1)&&this.$Player3.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};d.getDebug=function(){var a=this,b=this.$Player3.get("video"),c=this.$Player3.get("audio"),d,e,f,g,h;b&&(d=b.getDebug().MediaStreamAbrManager,e=b.getDebug().SourceBufferManager,e&&(f=e.getDebug().SourceBuffer));c&&(g=c.getDebug().SourceBufferManager,g&&(h=g.getDebug().SourceBuffer));return{getManifest:function(){return a.$Player8},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:d,VideoBufferManager:e,VideoSourceBuffer:f,AudioSourceStream:c,AudioBufferManager:g,AudioSourceBuffer:h}};d.$Player58=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};d.$Player46=function(){this.$Player2.getBool("live_playhead_catch_up",!1)&&(this.$Player33=new(b("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player2))};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/Player")}),null);
__d("oz-player/manifests/PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){__p&&__p();h===void 0&&(h=!1);c=a.call(this,b,c,d,e,h)||this;h=b.getNumber("num_predictive_segments",0);c.$PredictedSegmentTemplateSegmentsContainer4=b.getBool("replace_tb_with_sb",!1);c.$PredictedSegmentTemplateSegmentsContainer6=d;c.$PredictedSegmentTemplateSegmentsContainer2=f;c.$PredictedSegmentTemplateSegmentsContainer3=g;c.$PredictedSegmentTemplateSegmentsContainer1=e[e.length-1].d;d=e[e.length-1].t+c.$PredictedSegmentTemplateSegmentsContainer1;f=d+h*c.$PredictedSegmentTemplateSegmentsContainer1;c.$PredictedSegmentTemplateSegmentsContainer5={startTime:d/c.$PredictedSegmentTemplateSegmentsContainer6,endTime:f/c.$PredictedSegmentTemplateSegmentsContainer6};c.$PredictedSegmentTemplateSegmentsContainer7=b.getNumber("live_numerical_error_epsilon",0);return c}var d=c.prototype;d.$PredictedSegmentTemplateSegmentsContainer8=function(a,c,d){return{getURI:function(){return new(b("oz-player/shims/OzURI"))(d)},getTimeRange:function(){return{startTime:a,endTime:c}},getByteRange:function(){return null}}};d.updateWith=function(d){d instanceof c||b("oz-player/shims/ozvariant")(0,646);if(this.$PredictedSegmentTemplateSegmentsContainer5==null)return;this.$PredictedSegmentTemplateSegmentsContainer5=d.$PredictedSegmentTemplateSegmentsContainer5;this.$PredictedSegmentTemplateSegmentsContainer3=d.$PredictedSegmentTemplateSegmentsContainer3;a.prototype.updateWith.call(this,d)};d.getSegmentByTime=function(b){if(b>=this.$PredictedSegmentTemplateSegmentsContainer5.startTime&&b<this.$PredictedSegmentTemplateSegmentsContainer5.endTime){var c=Math.floor(((b-this.$PredictedSegmentTemplateSegmentsContainer5.startTime)*this.$PredictedSegmentTemplateSegmentsContainer6+this.$PredictedSegmentTemplateSegmentsContainer7)/this.$PredictedSegmentTemplateSegmentsContainer1),d=this.$PredictedSegmentTemplateSegmentsContainer3+c+1;d=this.$PredictedSegmentTemplateSegmentsContainer2.replace("$Number$",d.toString());c=this.$PredictedSegmentTemplateSegmentsContainer5.startTime+c*this.$PredictedSegmentTemplateSegmentsContainer1/this.$PredictedSegmentTemplateSegmentsContainer6;return this.$PredictedSegmentTemplateSegmentsContainer8(c,c+this.$PredictedSegmentTemplateSegmentsContainer1/this.$PredictedSegmentTemplateSegmentsContainer6,d)}if(this.$PredictedSegmentTemplateSegmentsContainer4)return this.$PredictedSegmentTemplateSegmentsContainer9(b);else return a.prototype.getSegmentByTime.call(this,b)};d.getTimeRanges=function(){__p&&__p();if(this.$PredictedSegmentTemplateSegmentsContainer5==null)return a.prototype.getTimeRanges.call(this);var c=a.prototype.getTimeRanges.call(this).slice(0);c.push(this.$PredictedSegmentTemplateSegmentsContainer5);c=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));return c.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};d.$PredictedSegmentTemplateSegmentsContainer9=function(a){__p&&__p();var c=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer6;var d=0;for(var e=0;this.getSegmentGroups().length-1-e>=0;e++){var f=this.getSegmentGroups()[this.getSegmentGroups().length-1-e];f.r==0||b("oz-player/shims/ozvariant")(0,18769);if(g(f.t+f.d*(f.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer7))break;c=f;d=e}if(c===null)return null;else{f=this.$PredictedSegmentTemplateSegmentsContainer3-d;e=this.$PredictedSegmentTemplateSegmentsContainer2.replace("$Number$",f.toString());return this.$PredictedSegmentTemplateSegmentsContainer8(c.t/this.$PredictedSegmentTemplateSegmentsContainer6,(c.t+c.d)/this.$PredictedSegmentTemplateSegmentsContainer6,e)}};return c}(b("oz-player/manifests/SegmentTemplateSegmentsContainer"));e.exports=a}),null);
__d("oz-player/parsers/OzPredictedSegmentTimelineParser",["URI","oz-player/manifests/PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper","oz-player/parsers/OzDefaultSegmentTimelineParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.parseSegmentsContainer=function(a,c,d,e){__p&&__p();var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=b("oz-player/utils/OzUrlHelper").joinUrlPaths(c,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(b("URI"))(f);g=g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));g=b("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return f!=null&&h!=null?new(b("oz-player/manifests/PredictedSegmentTemplateSegmentsContainer"))(a,b("oz-player/utils/OzUrlHelper").joinUrlPaths(c,e.$.media),Number.parseInt(e.$.timescale,10),g,f,h,d):new(b("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,b("oz-player/utils/OzUrlHelper").joinUrlPaths(c,e.$.media),Number.parseInt(e.$.timescale,10),g,d)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD,h=b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD,i=b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer,j=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new k(this.$1);a=this.$2 instanceof l?this.$1.getNumber("in_play_buffer_overflow_target",g):this.$1.getNumber("start_buffer_underflow_target",g);return i(b,a,c,this.$1)?new l(this.$1):this};return a}(),k=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="play"||a.type==="playing"||!b.paused){a=this.$1.getNumber("start_buffer_underflow_target",h);return i(b,a,c,this.$1)?new l(this.$1):new j(this.$1,this)}return this};return a}(),l=function(){function a(a){this.$1=a}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new k(this.$1);var d=this.$1.getNumber("in_play_buffer_underflow_target",h);return this.$1.getBool("buffer_when_waiting",!1)&&a.type==="waiting"||!i(b,d,c,this.$1)?new j(this.$1,this):this};return a}();e.exports={OzVideoBufferingState:j,OzVideoPausedState:k,OzVideoPlayingState:l}}),null);
__d("oz-player/shims/ozKillEvent",["Event"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Event").kill}),null);
__d("oz-player/utils/OzDomEventCapturer",["oz-player/shims/OzEventListener","oz-player/shims/ozKillEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2=new Map(),this.$1=a}var c=a.prototype;c.capture=function(a,c){var d=this,e=this.$1.parentNode;return!e?{remove:function(){}}:b("oz-player/shims/OzEventListener").capture(e,a,function(a){if(a.target!==d.$1)return;var b=c(a);b&&d.$3(a)})};c.dispatchIfSuppressed=function(a){var b=this.$2.get(a);b&&this.$1.dispatchEvent(b);this.$2["delete"](a)};c.$3=function(a){b("oz-player/shims/ozKillEvent")(a),this.$2.set(a.type,a)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils","oz-player/utils/OzDomEventCapturer","oz-player/strategies/OzBufferingDetectorStates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD,h=b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer,i=b("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,j=b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState,k=b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState,l=150;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();var f;f=a.call(this)||this;f.$OzBufferingDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))();f.$OzBufferingDetector7=function(a){__p&&__p();a=f.$OzBufferingDetector1.handleEvent(a,f.$OzBufferingDetector2,f.$OzBufferingDetector6());var b=f.$OzBufferingDetector1;f.$OzBufferingDetector1=a;var c=a instanceof i,d=b instanceof i;if(a===b)return a;if(c){c=b instanceof k?"in_play":"start/unpause";f.emit("enter_buffering",c)}else d&&f.emit("leave_buffering");a instanceof k&&f.$OzBufferingDetector4.dispatchIfSuppressed("playing");return a};f.$OzBufferingDetector8=function(a){a=f.$OzBufferingDetector7(a)instanceof i;return f.$OzBufferingDetector5.getBool("suppress_playing_event_while_buffering",!1)?a:!1};f.$OzBufferingDetector2=c;f.$OzBufferingDetector5=d;f.$OzBufferingDetector6=e;f.$OzBufferingDetector2.paused?f.$OzBufferingDetector1=new j(f.$OzBufferingDetector5):f.$OzBufferingDetector1=h(f.$OzBufferingDetector2,f.$OzBufferingDetector5.getNumber("in_play_buffer_underflow_target",g),f.$OzBufferingDetector6(),f.$OzBufferingDetector5)?new k(f.$OzBufferingDetector5):new i(f.$OzBufferingDetector5,null);f.$OzBufferingDetector4=new(b("oz-player/utils/OzDomEventCapturer"))(f.$OzBufferingDetector2);f.$OzBufferingDetector3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"pause",f.$OzBufferingDetector7),b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"play",f.$OzBufferingDetector7),f.$OzBufferingDetector4.capture("playing",f.$OzBufferingDetector8),b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"progress",b("oz-player/shims/ozThrottle")(f.$OzBufferingDetector7,l)),b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"timeupdate",b("oz-player/shims/ozThrottle")(f.$OzBufferingDetector7,l)),b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"seeked",f.$OzBufferingDetector7),b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"seeking",f.$OzBufferingDetector7),b("oz-player/shims/OzEventListener").listen(f.$OzBufferingDetector2,"waiting",f.$OzBufferingDetector7));return f}var d=c.prototype;d.destroy=function(){this.$OzBufferingDetector3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("reportOzError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();return{error:a.getType(),message:a.getDescription(),httpStatus:c.code,url:c.url,stack:a.stack}}else return{error:"OZ_JAVASCRIPT_NATIVE",message:a.name+" "+a.message,httpStatus:null,url:null,stack:a.stack}}e.exports=a}),null);
__d("VideoPlayerHTML5Oz",["invariant","Promise","BanzaiODS","Deferred","EventEmitter","EventListener","MaybeNativePromise","OzActiveActiveFailoverNetworkRequestStreamHandler","OzDashPrefetchCache","OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","OzVideoLiveTraceNetworkRequestStreamHandler","RepomenAbrManager","SubscriptionsHandler","TimeRanges","URI","VideoPlayerConnectionQuality","VideoPlayerOzWWWConfig","VideoPlayerOzWWWGlobalConfig","VideoPlayerPlayLogger","VideoPlayerShakaPerformanceLogger","XHRRequest","getCrossOriginTransport","gkx","manifestHasUnsupportedCodecs","oz-player","oz-player/configs/OzGlobalConfig","oz-player/networks/OzBandwidthEstimator","oz-player/parsers/OzPredictedSegmentTimelineParser","oz-player/shims/OzReadableStream","oz-player/shims/OzURI","oz-player/shims/OzWritableStream","oz-player/strategies/OzBufferingDetector","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","parseHeaders","reportOzError","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setPerformanceLoggingAttributes;b("oz-player/configs/OzGlobalConfig").setGlobalConfig(b("VideoPlayerOzWWWGlobalConfig"));var i=720,j=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,k=function(a){return j.test(a.getDomain())};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.isSupported=function(a){var c;!a.hasDashManifest()&&!a.getLiveManifestUrl()?c="noDashManifest":!window.MediaSource?c="noMediaSourceSupport":!window.fetch?c="noFetch":!b("oz-player/shims/OzReadableStream")||!b("oz-player/shims/OzReadableStream").prototype.pipeTo||!b("oz-player/shims/OzReadableStream").prototype.pipeThrough?c="noReadableStream":!b("oz-player/shims/OzWritableStream")?c="noWritableStream":b("manifestHasUnsupportedCodecs")(a.getDashManifest())&&(c="codecNotSupported");if(c){b("BanzaiODS").bumpEntityKey(2966,"VideoPlayerHtml5Oz","fallback."+c);return!1}return!0};c.getEstimatedBandwidth=function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))};function c(c,d,e){__p&&__p();var f,g=e.config,h=e.manifest,i=e.manifestUrl,j=e.videoID,k=e.isLive,l=e.isServableViaFbms,m=e.accessToken,n=e.playerOrigin,o=e.playerSuborigin,p=e.playerInstanceKey,q=e.prefetchCache,r=e.width,s=e.height,t=e.minPlayQuality,u=e.startTimestamp,v=e.seekHandler,w=e.videoLiveTrace,x=e.disableAbr,y=e.OzDrmHelper,z=e.videoLicenseUriMap,A=e.graphApiVideoLicenseUri;e=e.widevineCert;f=a.call(this)||this;f.$VideoPlayerHTML5Oz5=1;f.$VideoPlayerHTML5Oz6=!1;f.$VideoPlayerHTML5Oz8=null;f.$VideoPlayerHTML5Oz22=!1;f.$VideoPlayerHTML5Oz23=!1;f.$VideoPlayerHTML5Oz24=null;f.$VideoPlayerHTML5Oz25=null;f.$VideoPlayerHTML5Oz26=0;f.$VideoPlayerHTML5Oz27=null;f.$VideoPlayerHTML5Oz28=!1;f.$VideoPlayerHTML5Oz31=!0;f.$VideoPlayerHTML5Oz32=!1;f.$VideoPlayerHTML5Oz33=!1;f.$VideoPlayerHTML5Oz1=c;f.$VideoPlayerHTML5Oz2=h;f.$VideoPlayerHTML5Oz3=new(b("VideoPlayerOzWWWConfig"))(g);f.$VideoPlayerHTML5Oz16=d;f.$VideoPlayerHTML5Oz14=i;f.$VideoPlayerHTML5Oz15=q;f.$VideoPlayerHTML5Oz17=j;f.$VideoPlayerHTML5Oz18=r;f.$VideoPlayerHTML5Oz19=s;f.$VideoPlayerHTML5Oz20=u;f.$VideoPlayerHTML5Oz29=v;f.$VideoPlayerHTML5Oz30=w;f.$VideoPlayerHTML5Oz33=!!x;f.$VideoPlayerHTML5Oz34=y;f.$VideoPlayerHTML5Oz35=m;f.$VideoPlayerHTML5Oz36=z;f.$VideoPlayerHTML5Oz37=A;f.$VideoPlayerHTML5Oz38=e;f.$VideoPlayerHTML5Oz9=b("VideoPlayerShakaPerformanceLogger").shouldInitialize()?new(b("VideoPlayerShakaPerformanceLogger"))({videoID:j,video:c,representationId:null,isLive:k,isServableViaFbms:l,accessToken:m,playerOrigin:n,playerSuborigin:o,playerVersion:f.getPlayerVersion(),uniqueID:p,getBandwidthEstimate:function(a){return b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(f.$VideoPlayerHTML5Oz3)},isDrm:f.isDrm()}):null;f.$VideoPlayerHTML5Oz9&&(f.$VideoPlayerHTML5Oz21=new(b("VideoPlayerPlayLogger"))(f.$VideoPlayerHTML5Oz1,f.$VideoPlayerHTML5Oz9));f.$VideoPlayerHTML5Oz13=t;(!f.$VideoPlayerHTML5Oz15||typeof f.$VideoPlayerHTML5Oz15.getCachedRepresentations!=="function")&&(f.$VideoPlayerHTML5Oz15=null);!f.$VideoPlayerHTML5Oz15&&f.$VideoPlayerHTML5Oz3.getBool("use_prefetch_cache",!1)&&(f.$VideoPlayerHTML5Oz15=new(b("OzDashPrefetchCache"))());f.$VideoPlayerHTML5Oz39();return f}var d=c.prototype;d.$VideoPlayerHTML5Oz39=function(){__p&&__p();var a=this;this.$VideoPlayerHTML5Oz12=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Oz40();var c=this.$VideoPlayerHTML5Oz3.getBool("fix_live_video_duration_buffering",!1);this.$VideoPlayerHTML5Oz7=new(b("oz-player/strategies/OzBufferingDetector"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz3,function(){return!c||a.$VideoPlayerHTML5Oz28?a.$VideoPlayerHTML5Oz1.duration:Infinity});this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)||(this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz41.bind(this)),this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz42.bind(this)));this.$VideoPlayerHTML5Oz12.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Oz1,"timeupdate",function(b){a.$VideoPlayerHTML5Oz43(b.target.currentTime)}));this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)&&this.$VideoPlayerHTML5Oz12.addSubscriptions(this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz41.bind(this)),this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz42.bind(this)))};d.setup=function(){var a=[];this.$VideoPlayerHTML5Oz9&&a.push(this.$VideoPlayerHTML5Oz9);var b=[];this.$VideoPlayerHTML5Oz3.getBool("force_initial_representation",!1)&&(b=this.$VideoPlayerHTML5Oz16);this.$VideoPlayerHTML5Oz2?this.$VideoPlayerHTML5Oz44({manifest:this.$VideoPlayerHTML5Oz2,manifestUrl:this.$VideoPlayerHTML5Oz14,loggerProviders:a,prefetchCache:this.$VideoPlayerHTML5Oz15,initialRepresentations:b,videoID:this.$VideoPlayerHTML5Oz17,width:this.$VideoPlayerHTML5Oz18,height:this.$VideoPlayerHTML5Oz19}):(!this.$VideoPlayerHTML5Oz14&&g(0,1106),this.$VideoPlayerHTML5Oz45(this.$VideoPlayerHTML5Oz14,a,b))};d.$VideoPlayerHTML5Oz45=function(a,c,d){__p&&__p();var e=this;this.$VideoPlayerHTML5Oz46(a).then(function(b){e.$VideoPlayerHTML5Oz44({manifest:b,manifestUrl:a,loggerProviders:c,prefetchCache:e.$VideoPlayerHTML5Oz15,initialRepresentations:d,videoID:e.$VideoPlayerHTML5Oz17,width:e.$VideoPlayerHTML5Oz18,height:e.$VideoPlayerHTML5Oz19})})["catch"](function(f){if(f instanceof b("oz-player/utils/OzError")&&e.$VideoPlayerHTML5Oz26<e.$VideoPlayerHTML5Oz3.getNumber("initial_manifest_request_retry_count",0)){var g=JSON.parse(e.$VideoPlayerHTML5Oz3.getString("network_retry_intervals_json","{}"));g=g[f.getExtra().code];typeof g==="number"&&g>0?(e.$VideoPlayerHTML5Oz26++,b("setTimeout")(function(){e.$VideoPlayerHTML5Oz45(a,c,d)},g)):e.$VideoPlayerHTML5Oz47(f)}else e.$VideoPlayerHTML5Oz47(f)})};d.$VideoPlayerHTML5Oz46=function(a){__p&&__p();var c=this,d=new(b("Deferred"))();this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz27=this.$VideoPlayerHTML5Oz9.getOperationLogger("request").setType("manifest").setResource(a).start());var e=new(b("URI"))(a),f=this.$VideoPlayerHTML5Oz3.getBool("use_oz_credentials_provider",!1)&&k(e);new(b("XHRRequest"))(e).setMethod("GET").setResponseType("text").setTransportBuilder(f?b("getCrossOriginTransport").withCredentials:b("getCrossOriginTransport")).setErrorHandler(function(e){__p&&__p();if(c.$VideoPlayerHTML5Oz3.getBool("enable_double_ingest",!1)&&e&&e.errorRawResponseHeaders){var f=b("parseHeaders")(e.errorRawResponseHeaders);f=f["x-fb-video-replica"];if(f!=null){c.emit("replicaSwitch",{replica:parseInt(f,10),url:a,status:e.rawTransportStatus,timestamp:new Date().valueOf()});return}}d.reject(e?new(b("oz-player/utils/OzError"))({type:e.errorCode,description:e.errorMsg,extra:{code:e.errorRawTransportStatus,url:a}}):e);c.$VideoPlayerHTML5Oz27&&(c.$VideoPlayerHTML5Oz27.setError(e).log(),c.$VideoPlayerHTML5Oz27=null)}).setResponseHandler(Object.assign(function(b){c.$VideoPlayerHTML5Oz27&&(h(c.$VideoPlayerHTML5Oz27,a),c.$VideoPlayerHTML5Oz27&&c.$VideoPlayerHTML5Oz27.log(),c.$VideoPlayerHTML5Oz27=null),d.resolve(b)},{includeHeaders:!0})).send();return d.getPromise()};d.$VideoPlayerHTML5Oz44=function(a){__p&&__p();var c=this,d=a.manifest,e=a.manifestUrl,f=a.loggerProviders,g=a.prefetchCache,h=a.initialRepresentations,i=a.videoID,j=a.width;a=a.height;var l=this.$VideoPlayerHTML5Oz48();d=this.$VideoPlayerHTML5Oz4=new(b("oz-player"))({videoNodeOrQuickStarter:this.$VideoPlayerHTML5Oz1,config:this.$VideoPlayerHTML5Oz3,rawMpdXml:d,dimensions:{width:j,height:a},mpdUrl:e,customSegmentTimelineParser:this.$VideoPlayerHTML5Oz3.getBool("enable_predictive_dash",!1)?new(b("oz-player/parsers/OzPredictedSegmentTimelineParser"))():void 0,loggerConfig:{perfLoggerProviders:f,observedOperationLoggers:[],isOzDevConsoleEnabled:b("gkx")("722076")},prefetchCache:g,networkRequestStreamHandlers:[new(b("OzActiveActiveFailoverNetworkRequestStreamHandler"))(),new(b("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b){c.$VideoPlayerHTML5Oz30&&c.$VideoPlayerHTML5Oz30.handleHeaders(a,b)})],getShouldIncludeCredentials:this.$VideoPlayerHTML5Oz3.getBool("use_oz_credentials_provider",!1)?k:null,initialRepresentationIDs:h||[],customParsers:this.$VideoPlayerHTML5Oz49(),entityKey:i,videoPlaybackRestrictions:this.$VideoPlayerHTML5Oz50(),customRepresentationParsers:this.$VideoPlayerHTML5Oz51(),videoAbrManagerFactory:this.$VideoPlayerHTML5Oz52(),seekHandler:this.$VideoPlayerHTML5Oz29,streamGoneHandler:this.$VideoPlayerHTML5Oz53(),initialPlaybackPositionForDynamicMpd:this.$VideoPlayerHTML5Oz3.getNumber("live_initial_playback_position",0),startTimeStamp:this.$VideoPlayerHTML5Oz3.getBool("fix_start_timestamp",!1)?this.$VideoPlayerHTML5Oz20||0:0,drmManagerModule:this.$VideoPlayerHTML5Oz34?this.$VideoPlayerHTML5Oz34.OzDrmManagerModule:null,drmProviders:l});!this.$VideoPlayerHTML5Oz3.getBool("cleanup_all_ozplayer_subscriptions",!1)?(d.onError(this.$VideoPlayerHTML5Oz47.bind(this)),d.addListener("destroyed",this.$VideoPlayerHTML5Oz54.bind(this)),d.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz55.bind(this)),d.addListener("streamEnd",this.$VideoPlayerHTML5Oz56.bind(this))):this.$VideoPlayerHTML5Oz12.addSubscriptions(d.onError(this.$VideoPlayerHTML5Oz47.bind(this)),d.addListener("destroyed",this.$VideoPlayerHTML5Oz54.bind(this)),d.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz55.bind(this)),d.addListener("streamEnd",this.$VideoPlayerHTML5Oz56.bind(this)));d.setupPlayer();this.$VideoPlayerHTML5Oz57(d);this.$VideoPlayerHTML5Oz3.getBool("emit_cea_608_availability",!1)&&this.$VideoPlayerHTML5Oz58(d);this.$VideoPlayerHTML5Oz30&&this.$VideoPlayerHTML5Oz59(d);this.$VideoPlayerHTML5Oz3.getBool("update_seekable_range",!1)&&this.$VideoPlayerHTML5Oz60(d)};d.$VideoPlayerHTML5Oz60=function(a){var b=this;a=a.getMpd();this.$VideoPlayerHTML5Oz12.addSubscriptions(a.addListener("updated",function(){b.emit("seekRangeChanged")}))};d.$VideoPlayerHTML5Oz48=function(){var a=[];this.$VideoPlayerHTML5Oz34&&a.push(new this.$VideoPlayerHTML5Oz34.OzWidevineDrmProviderModule(this.$VideoPlayerHTML5Oz17,this.$VideoPlayerHTML5Oz37,this.$VideoPlayerHTML5Oz36,this.$VideoPlayerHTML5Oz35,this.$VideoPlayerHTML5Oz38));return a};d.$VideoPlayerHTML5Oz61=function(){__p&&__p();var a=this;return this.$VideoPlayerHTML5Oz3.getBool("parse_cea_608",!1)?function(b,c){if(!a.$VideoPlayerHTML5Oz6||!a.$VideoPlayerHTML5Oz31)return;try{b=b.getCustomField("timescale")||0;if(!b||typeof b!=="number")return;a.emit("cea608CaptionsBytesReceived",{timescale:b,videoBytes:c})}catch(b){a.$VideoPlayerHTML5Oz47(b)}}:null};d.$VideoPlayerHTML5Oz50=function(){var a=[];this.$VideoPlayerHTML5Oz13==="hd"&&a.push(new(b("OzMinimumSmallestDimensionRestriction"))(i));var c=this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),d=this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0);c>d&&a.push(new(b("OzMosThresholdRestriction"))(c,d,this.$VideoPlayerHTML5Oz3.getBool("keep_lowest_mos_above_upper_thresold",!1)));return a};d.$VideoPlayerHTML5Oz43=function(a){__p&&__p();if(this.$VideoPlayerHTML5Oz3.getBool("fix_representation_ended_timing",!1)&&(this.$VideoPlayerHTML5Oz1.paused||this.$VideoPlayerHTML5Oz1.seeking))return;if(!this.$VideoPlayerHTML5Oz4)return;a=this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a);if(a!=null&&a!==this.$VideoPlayerHTML5Oz8){var b=this.$VideoPlayerHTML5Oz8;this.$VideoPlayerHTML5Oz8=a;b!=null&&this.emit("representation_ended",{representationID:b,nextRepresentationID:a})}};d.$VideoPlayerHTML5Oz40=function(){var a=this,d=this.$VideoPlayerHTML5Oz3.getNumber("connection_quality_context_throttle_frequency",0);if(d===0)return;var e=function(){a.$VideoPlayerHTML5Oz3.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(c.getEstimatedBandwidth))};this.$VideoPlayerHTML5Oz12.addSubscriptions(b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b("throttle")(e,d)));e()};d.$VideoPlayerHTML5Oz53=function(){return this.$VideoPlayerHTML5Oz3.getBool("end_all_streams_on_stream_gone",!1)?function(a){return a.forEach(function(a){return a.endStream()})}:null};d.$VideoPlayerHTML5Oz47=function(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();(c.code==="417"||c.code==="200")&&c.headers&&c.headers.has("x-fb-video-replica")&&this.$VideoPlayerHTML5Oz3.getBool("enable_double_ingest",!1)?this.emit("replicaSwitch",{replica:parseInt(c.headers.get("x-fb-video-replica"),10),url:c.url,status:c.code,timestamp:new Date().valueOf()}):(this.emit("error",b("reportOzError")(a)),this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.destroy())}else this.emit("error",b("reportOzError")(a))};d.$VideoPlayerHTML5Oz56=function(){this.$VideoPlayerHTML5Oz28=!0};d.$VideoPlayerHTML5Oz54=function(){this.$VideoPlayerHTML5Oz4=null};d.$VideoPlayerHTML5Oz55=function(a){this.emit("debug/dashPlayerEvent",a.detail)};d.$VideoPlayerHTML5Oz62=function(){var a=1;return this.$VideoPlayerHTML5Oz24!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz24)<a||this.$VideoPlayerHTML5Oz25!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz25)<a?!0:!1};d.$VideoPlayerHTML5Oz41=function(a){this.$VideoPlayerHTML5Oz62()||(this.$VideoPlayerHTML5Oz22=!0,this.emit("bufferingStart"),this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz10=this.$VideoPlayerHTML5Oz9.getOperationLogger("buffering").setType(a))),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz63()};d.$VideoPlayerHTML5Oz42=function(){(!this.$VideoPlayerHTML5Oz3.getBool("buffer_end_only_when_buffering",!1)||this.$VideoPlayerHTML5Oz22)&&(this.emit("bufferingEnd"),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null),this.$VideoPlayerHTML5Oz22=!1),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz64()};d.$VideoPlayerHTML5Oz63=function(){this.$VideoPlayerHTML5Oz5==null&&(this.$VideoPlayerHTML5Oz5=this.$VideoPlayerHTML5Oz1.playbackRate),this.$VideoPlayerHTML5Oz1.playbackRate=0};d.$VideoPlayerHTML5Oz64=function(){this.$VideoPlayerHTML5Oz5&&(this.$VideoPlayerHTML5Oz1.playbackRate=this.$VideoPlayerHTML5Oz5),this.$VideoPlayerHTML5Oz5=null};d.$VideoPlayerHTML5Oz59=function(a){var b=this,c=a.getMpd();a=function(){if(b.$VideoPlayerHTML5Oz30){var a=c.getCustomField("loapStreamType");typeof a==="number"&&b.$VideoPlayerHTML5Oz30&&b.$VideoPlayerHTML5Oz30.setStreamType(a)}};a();this.$VideoPlayerHTML5Oz12.addSubscriptions(c.addListener("updated",a))};d.$VideoPlayerHTML5Oz58=function(a){var b=this,c=a.getMpd();a=function(){b.$VideoPlayerHTML5Oz32=!!c.getCustomField("hasInbandCaptionsFromUsingASRCaptions"),b.$VideoPlayerHTML5Oz65(!!c.getCustomField("hasInbandCaptionsFromAccessibility")||b.$VideoPlayerHTML5Oz32)};a();this.$VideoPlayerHTML5Oz12.addSubscriptions(c.addListener("updated",a))};d.$VideoPlayerHTML5Oz65=function(a){if(this.$VideoPlayerHTML5Oz6===a)return;this.$VideoPlayerHTML5Oz6=a;this.$VideoPlayerHTML5Oz6&&this.$VideoPlayerHTML5Oz4!=null&&this.$VideoPlayerHTML5Oz4.updatePlayerRunTimeConfig({videoStreamDataHandler:this.$VideoPlayerHTML5Oz61()});this.emit("cea608AvailabilityChanged")};d.$VideoPlayerHTML5Oz57=function(a){var b=this;a=a;if(!a)return;this.$VideoPlayerHTML5Oz3.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0&&this.$VideoPlayerHTML5Oz12.addSubscriptions(a.addListener("streamInterruptAt",function(a){b.$VideoPlayerHTML5Oz24=a,b.$VideoPlayerHTML5Oz22&&(b.emit("bufferingEnd"),b.$VideoPlayerHTML5Oz10&&(b.$VideoPlayerHTML5Oz10.log(),b.$VideoPlayerHTML5Oz10=null)),b.$VideoPlayerHTML5Oz66()}),a.addListener("streamResumedAt",function(a){b.$VideoPlayerHTML5Oz25=a,b.$VideoPlayerHTML5Oz23&&b.$VideoPlayerHTML5Oz67()}))};d.$VideoPlayerHTML5Oz66=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Oz22=!1,this.$VideoPlayerHTML5Oz23=!0,this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz11=this.$VideoPlayerHTML5Oz9.getOperationLogger("stream_interrupted"))};d.$VideoPlayerHTML5Oz67=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null),this.$VideoPlayerHTML5Oz23=!1};d.$VideoPlayerHTML5Oz49=function(){__p&&__p();return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["isFBIsLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}]])};d.$VideoPlayerHTML5Oz51=function(){__p&&__p();var a=this,c={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}},d=this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),e=this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0);d>e&&(c.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}});c.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};this.$VideoPlayerHTML5Oz3.getBool("parse_first_segment",!1)&&(c.firstSegmentParser=function(c){if(a.$VideoPlayerHTML5Oz20!=null&&a.$VideoPlayerHTML5Oz20>0)return null;try{var d=c.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),e={startByte:d[0],endByte:d[1]},f=new(b("oz-player/shims/OzURI"))(c.BaseURL[0]._);return{getURI:function(){return f},getByteRange:function(){return e},getTimeRange:function(){return{startTime:0,endTime:2}}}}catch(a){return null}});return c};d.$VideoPlayerHTML5Oz52=function(){return this.$VideoPlayerHTML5Oz3.getBool("use_repomen_abr",!1)?function(a,c,d,e,f,g,h){return new(b("RepomenAbrManager"))(a,c,d,e,f,g,h)}:null};d.play=function(){this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.playStarted();return this.$VideoPlayerHTML5Oz1.play()};d.pause=function(){this.$VideoPlayerHTML5Oz1.pause()};d.reload=function(){if(this.$VideoPlayerHTML5Oz3.getBool("enable_abortload_and_reload",!1)){this.$VideoPlayerHTML5Oz39();this.setup();return b("MaybeNativePromise").resolve()}return b("Promise").reject()};d.unload=function(){this.$VideoPlayerHTML5Oz12.release();this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null);this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null);this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.unload();this.$VideoPlayerHTML5Oz26=0;var a=b("Promise").resolve();this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)&&this.$VideoPlayerHTML5Oz7&&this.$VideoPlayerHTML5Oz7.destroy();this.$VideoPlayerHTML5Oz3.getBool("enable_abortload_and_reload",!1)&&(this.$VideoPlayerHTML5Oz42(),this.$VideoPlayerHTML5Oz4&&(a=this.$VideoPlayerHTML5Oz4.destroy(),this.$VideoPlayerHTML5Oz4=null));return a};d.getVideoStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a)};d.getAudioStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getAudioRepresentationIDAtTime(a)};d.getDashAudioConfiguration=function(){return""};d.getLocalEstimator=function(){return null};d.setDimensions=function(a,b){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setDimensions({width:a,height:b})};d.getLongestInitResponseTime=function(){return 0};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Oz5=a,this.$VideoPlayerHTML5Oz1.playbackRate=a};d.areInbandCaptionsExpected=function(){return this.$VideoPlayerHTML5Oz6};d.areInbandCaptionsAutogenerated=function(){return this.$VideoPlayerHTML5Oz32};d.setEnableInbandCaptionsParsing=function(a){this.$VideoPlayerHTML5Oz31=a};d.setPreferredVideoQuality=function(a){if(!this.$VideoPlayerHTML5Oz4)return;this.$VideoPlayerHTML5Oz4.switchToVideoQuality(a)};d.setVideoStreamOffset=function(a){};d.getSelectedVideoQuality=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getCurrentQuality()};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.enableVideoQualityAdaptation()};d.getAvailableVideoQualities=function(){return!this.$VideoPlayerHTML5Oz4?[]:this.$VideoPlayerHTML5Oz4.getVideoQualities()};d.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Oz3.getBool("enable_adaptation",!1)&&!this.$VideoPlayerHTML5Oz33};d.canAutoSelectVideoQuality=function(){return!0};d.isDrm=function(){var a;this.$VideoPlayerHTML5Oz4&&(a=this.$VideoPlayerHTML5Oz4.isDrm());(a===void 0||a===null)&&this.$VideoPlayerHTML5Oz2&&(a=this.$VideoPlayerHTML5Oz2.indexOf("<ContentProtection")>=0);return a};d.setPreloadDisabled=function(a){};d.restoreStreamBufferSize=function(){};d.getDebug=function(){return{manifest:this.$VideoPlayerHTML5Oz2,DashPlayer:this.$VideoPlayerHTML5Oz4,AbrManager:this.$VideoPlayerHTML5Oz4?this.$VideoPlayerHTML5Oz4.getDebug().VideoAbrManager:null,BandwidthEstimator:b("oz-player/networks/OzBandwidthEstimator")}};d.setSmartBufferAdjustmentEnabled=function(a){};d.getVideoProjection=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("fbProjection")};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){return!1};d.clearBufferAfterSeekingIfLowerQuality=function(a){};d.isFBIsLiveTemplated=function(){if(this.$VideoPlayerHTML5Oz4){var a=this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("isFBIsLiveTemplated");return!!a}return!1};d.isFBMS=function(){return!1};d.isLiveheadCatchupEnabled=function(){return!1};d.getSeekableRanges=function(){__p&&__p();if(this.$VideoPlayerHTML5Oz4){var a=this.$VideoPlayerHTML5Oz4.getMpd();a=a.getVideoRepresentations();if(a.length){a=a[0];a=a.getTimeRanges();if(a.length){var c=a[0].startTime;a=Math.max(a[a.length-1].endTime-this.$VideoPlayerHTML5Oz3.getNumber("live_rewind_seek_to_live_delta",8),c);return new(b("TimeRanges"))([{startTime:c,endTime:a}])}}}return null};d.refreshDashManifest=function(){return b("Promise").reject()};d.switchReplicaSet=function(a){var c=new(b("URI"))(this.$VideoPlayerHTML5Oz14);c.addQueryData("replica",a);this.$VideoPlayerHTML5Oz14=c.toString()};d.getPlaybackRate=function(){return 1};d.getPlayerVersion=function(){return"oz"};d.getManifestUrl=function(){return this.$VideoPlayerHTML5Oz14};d.disableP2PPlayback=function(){};d.getBandwidthEstimate=function(){return c.getEstimatedBandwidth()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=function(){},this.$2=0}var b=a.prototype;b.setOnPriorityChanged=function(a){this.$1=a};b.getPriorityAdjustment=function(){return this.$2};b.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};b.cleanup=function(){this.$1=function(){}};return a}();e.exports=a}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoControllerPlayingStateEmitter2=null;c.$VideoControllerPlayingStateEmitter3=b;return c}var d=c.prototype;d.enable=function(){var a=this;this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var b=a.$VideoControllerPlayingStateEmitter2;a.$VideoControllerPlayingStateEmitter2=a.$VideoControllerPlayingStateEmitter3.getState();if(a.$VideoControllerPlayingStateEmitter2===b)return;a.$VideoControllerPlayingStateEmitter5(a.$VideoControllerPlayingStateEmitter2)}));this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};d.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};d.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};d.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};d.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};d.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};return c}(b("EventEmitter"));e.exports=a}),null);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("live_trace_www_video_player");e.exports=a}),null);
__d("VideoLiveTrace",["LiveTraceWwwVideoPlayerFalcoEvent","VideosInfraLoapTypedLogger","gkx","guid","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g="x-fb-video-livetrace-ids",h="x-fb-video-livetrace-parentsource",i="x-fb-video-livetrace-streamtype",j="x-fb-origin-hit",k="x-fb-edge-hit",l="PLY:WWW:",m=l+"DL:",n=l+"DIS:",o=1e3,p=/[\r\n]+/;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+c.substring(0,5);this.$3=l+a;this.$4=m+a;this.$5=n+a;this.$7=b("throttle")(function(a){return e.$8(a)},o)}var c=a.prototype;c.setStreamType=function(a){this.$2=a};c.$9=function(a,c,d,e,f,g){__p&&__p();var h=Date.now();if(b("gkx")("953176")){var i=Number(this.$1),j=Number(this.$2||0);b("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i,stream_type:j,event_name:c,event_severity:f,event_creation_time:h,source:a,trace_id:d,parent_source:e,metadata:g}})}else{var k=b("guid")();k=new(b("VideosInfraLoapTypedLogger"))().setStreamID(this.$1).setEventID(k).setStreamType(this.$2||0).setEventName(c).setEventSeverity(f).setEventCreationTime(h).setSource(a).setTraceID(d).setParentSource(e).setMetadata(g);k.log()}};c.onUpdateStatus=function(a){this.$7(a)};c.$8=function(a){a=a.position*1e3;var b=this.$6;while(b.length&&b[b.length-1].presentationTimestamp<=a){var c=b.pop();this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};c.handleHeadersString=function(a,b){a=a.trim().split(p);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};c.handleHeaders=function(a,b){__p&&__p();var c=[];for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(f)}this.$10(c,b)};c.$10=function(a,c){__p&&__p();var d=this;if(!b("gkx")("678910"))return;var e="null",f=[],l=[],m="";a.forEach(function(a){__p&&__p();var b=a[0].toLowerCase();a=a[1];if(b===g&&a){var c=a.split(",");c.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.push(b);l.unshift({traceId:b,presentationTimestamp:a})})}b===h&&(m=a);d.$2===null&&b===i&&(d.$2=parseInt(a,10));(b===j||b===k)&&parseInt(a,10)&&(e=b===j?"origin":"edge")});var n=c||{};n.hit=e;l.length&&m!==""&&(this.$6=l.concat(this.$6));if(f.length&&m!==""){var o=m;f.forEach(function(a){return d.$9(d.$4,"SEGMENT",a,o,"SUCCESS",n)})}};c.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};c.getLiveTraceContext=function(){return{streamId:this.$1,streamType:this.$2||0,sourceId:this.$3}};return a}();e.exports=a}),null);
__d("VideoPlayerABRQualityTracker",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=null}var b=a.prototype;b.setLastQualitySwitchReason=function(a){this.$2=a};b.getABREvaluation=function(){__p&&__p();var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var b=0,c=0,d=0,e=0,f=this.$2;for(var g=0;g<a.length;g++)switch(a[g]){case"ideal":b++;break;case"conservative":c++;break;case"aggressive":d++;break;case"conservative_resolution_constrained":e++;break}return{idealSamples:b,conservativeSamples:c,aggressiveSamples:d,conservativeResolutionConstrainedSamples:e,lastQualitySwitchReason:f}};return a}();e.exports=a}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","VideoPlayerShakaGlobalConfig","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1;a=function(){"use strict";__p&&__p();function a(){var a=this,c=new(b("CacheStorage"))("localstorage","_video_"),d=c.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return d},getFastMovingBandwidth:function(){return d}};g&&(this.$1=new g(b("VideoPlayerShakaGlobalConfig").getNumber("cache_delay",30),b("VideoPlayerShakaGlobalConfig").getNumber("cache_bandwidth",2e6),function(){b("VideoPlayerShakaGlobalConfig").getBool("shaka_update_bandwidth_cache_on_sample",!1)&&c.set("bandwidthEstimate",a.$1.getBandwidth())},d),this.$1.isMockObject=!1);b("Run").onUnload(function(){c.set("bandwidthEstimate",a.$1.getBandwidth())})}var c=a.prototype;c.getEstimator=function(){return this.$1};a.getInstance=function(){(h===null||h.getEstimator().isMockObject&&g)&&(h=new a());return h};a.getEstimator=function(){return a.getInstance().getEstimator()};a.getBandwidth=function(b){var c=a.getEstimator();return c.getBandwidth(b)};a.getBandwidthByVideoType=function(b){return a.getBandwidth(a.getBandwidthModel(b))};a.getBandwidthModel=function(a){return a?"aggressive":"conservative"};a.isAutoplayBandwidthRestrained=function(c){var d=a.getEstimator(),e;b("VideoPlayerShakaGlobalConfig").getBool("block_autoplay_use_fast_moving_average",!0)&&i?e=d.getFastMovingBandwidth():e=d.getBandwidth();d=c?b("VideoPlayerShakaGlobalConfig").getNumber("live_block_autoplay_bandwidth_threshold",25e4):b("VideoPlayerShakaGlobalConfig").getNumber("block_autoplay_bandwidth_threshold",123034);e===null||e>=d?i=!1:i=!0;return i};return a}();e.exports=a}),null);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};f=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};e.exports={ANALYTICS_SAMPLE_RATE:a,BUCKET_DELIMITER:b,CONTEXT_BUCKET_STRATEGY:c,CONFIG_TYPE:d,EMPTY_RESOLVED_CONTEXTS:f,EMPTY_RESOLVED_MONITORS:g,EMPTY_RESULT_PARAMS:h,ERROR:i,JSON_SUB_SAMPLE_RATE:j,LIST_DELIMITER:k,TYPE:l}}),null);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};e.exports={getBucketIndices:a,getBucketNames:b,getContextNames:c,getContextValues:d}}),null);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE,h=b("ContextualConfigConstants").LIST_DELIMITER,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigResolvedContextsUtils").getContextNames,k=b("ContextualConfigResolvedContextsUtils").getContextValues,l=["cfg_ver_timestamp","policy_id","version","sample_rate"],m=function(a){return a.join(h)},n=function(a,b){for(var c=0;c<l.length;c++){var d=l[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},o=function(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=m(d.map(function(a){return a.value}))||"INVALID";a.context=m(j(e));a.context_value=m(k(e));a.bucket_name=m(i(e));a.monitor=m(j(b));a.monitor_value=m(k(b))};a=function(a,b,c){var d={sample_rate:g};n(d,a);o(d,b);c&&(d.config_contents=JSON.stringify(a));return d};e.exports=a}),null);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d){this.$2=a,this.$4=b("Random").random()<1/a.sample_rate,this.$3=c,this.$1=d}var c=a.prototype;c.getData=function(){return this.$2};c.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};c.isSampled=function(){return this.$4};return a}();e.exports=a}),null);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){function a(a,b){this.$2=a,this.$1=b}var c=a.prototype;c.createEvent=function(a){var c=this.$1,d=this.$2;a=new(b("ContextualConfigExposureEvent"))(a,d,c);return a};return a}();a=function(a,b){return new g(a,b)};e.exports=a}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){};c=function(a){b("MarauderLogger").log("contextual_config_exposure","",a)};e.exports=b("ContextualConfigExposureLoggerFactory")(a,c)}),null);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(a===!1)throw new Error(b)};e.exports=a}),null);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").TYPE;a=function(a){return Array.isArray(a)};c=function(a){return typeof a==="boolean"};d=function(a){return a!=null};f=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};b=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case g.BOOL:case g.FLOAT:case g.INT:case g.STRING:return!0;default:return!1}};e.exports={isArray:a,isBoolean:c,isDefined:d,isKey:f,isInteger:b,isNonEmptyString:h,isNumber:i,isString:j,isType:k}}),null);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(g.BAD_BOOLEAN_FORMAT)}};e.exports=a}),null);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR;a=function(a,c){__p&&__p();var d;switch(c){case g.SAME:var e=b("ContextualConfigParseBoolean")(a);d=function(a){return a===e};break;case g.NULL:d=function(a){return a==null};break;case g.NNULL:d=function(a){return a!=null};break;case g.CATCH_ALL:d=function(a){return!0};break;default:throw new Error(h.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return d(a)}};e.exports=a}),null);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isNumber,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};a=function(a){b("ContextualConfigAssert")(j(a),g.BAD_NUMBER_FORMAT);a=parseFloat(a);b("ContextualConfigAssert")(h(a),g.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isNumber,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};a=function(a){b("ContextualConfigAssert")(j(a),g.BAD_NUMBER_FORMAT);a=parseInt(a,10);b("ContextualConfigAssert")(h(a),g.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){return b("ContextualConfigAssert")(a>0,g.MISMATCH_NUMBER_OF_VALUES)};c=function(a,c){return b("ContextualConfigAssert")(a===c,g.MISMATCH_NUMBER_OF_VALUES)};d=function(a,c){return b("ContextualConfigAssert")(a<c,g.BAD_VALUE_ORDER)};e.exports={assertHasValues:a,assertNumberOfValues:c,assertValueOrder:d}}),null);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertNumberOfValues,j=b("ContextualConfigPredAssertions").assertValueOrder,k=b("ContextualConfigValidators").isInteger;a=function(a,c,d,e){__p&&__p();var f=d.map(e?b("ContextualConfigParseInteger"):b("ContextualConfigParseFloat")),l;switch(c){case g.SAME:var m=e?b("ContextualConfigParseInteger")(a):b("ContextualConfigParseFloat")(a);l=function(a){return e&&!k(a)?!1:a===m};break;case g.NULL:l=function(a){return a==null};break;case g.NNULL:l=function(a){return a!=null};break;case g.CATCH_ALL:l=function(a){return!0};break;case g.COR:i(f.length,2);j(f[0],f[1]);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>=f[0]&&a<f[1]};break;case g.LT:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a<f[0]};break;case g.LTE:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a<=f[0]};break;case g.EQ:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a===f[0]};break;case g.NEQ:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a!==f[0]};break;case g.GT:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>f[0]};break;case g.GTE:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>=f[0]};break;default:throw new Error(h.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return l(a)}};e.exports=a}),null);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/^\/(.+)\/(.*)$/;a=b("ContextualConfigConstants").ERROR;c=function(b){try{var c=b.match(g);if(c!=null)return new RegExp(c[1],c[2]);else return new RegExp(b)}catch(b){throw new Error(a.REGEX_SYNTAX_ERROR)}};e.exports=c}),null);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertHasValues,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=function(a){if(typeof a!=="string")throw new Error(h.INVALID_VALUE_TYPE);return a},l=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(k(e))}return b};a=function(a,c,d){__p&&__p();var e=l(d),f;switch(c){case g.SAME:f=function(b){return typeof b!=="string"?!1:b===a};break;case g.NULL:f=function(a){return a==null};break;case g.NNULL:f=function(a){return a!=null};break;case g.CATCH_ALL:f=function(a){return!0};break;case g.IN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)!==-1};break;case g.NIN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)===-1};break;case g.CONTAINS:j(e.length,1);f=function(a){return typeof a!=="string"?!1:a.indexOf(e[0])!==-1};break;case g.REGEX:j(e.length,1);var k=b("ContextualConfigParseRegExp")(e[0]);f=function(a){return typeof a!=="string"?!1:k.test(a)};break;default:throw new Error(h.ILLEGAL_STRING_STRATEGY)}return function(a){return f(a)}};e.exports=a}),null);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY;var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigConstants").TYPE,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isDefined;c=b("ContextualConfigValidators").isKey;var k=b("ContextualConfigValidators").isNonEmptyString,l=b("ContextualConfigValidators").isString,m=function(a){return b("ContextualConfigAssert")(j(a),g.MISSING_BUCKETS)},n=function(a){return b("ContextualConfigAssert")(i(a),g.MISSING_BUCKETS)},o=c(a),p=function(a){return b("ContextualConfigAssert")(l(a)&&o(a.toUpperCase()),g.MISSING_BUCKET_STRATEGY)},q=function(a){return b("ContextualConfigAssert")(i(a),g.ILLEGAL_BUCKET_VALUES)},r=function(a){return b("ContextualConfigAssert")(k(a),g.MISSING_BUCKET_NAME)},s=function(a,c){__p&&__p();var d=c.name;r(d);var e=c.strategy;p(e);c=c.values||[];q(c);switch(a){case h.BOOL:return b("ContextualConfigParsePredBoolean")(d,e);case h.FLOAT:return b("ContextualConfigParsePredNumeric")(d,e,c,!1);case h.INT:return b("ContextualConfigParsePredNumeric")(d,e,c,!0);case h.STRING:return b("ContextualConfigParsePredString")(d,e,c);default:throw new Error(g.UNKNOWN_BUCKET_DEFINITION)}},t=function(a,b){m(b);var c=b.name;r(c);return{name:c,pred:s(a,b)}};d=function(a,b){n(b);return b.map(function(b){return t(a,b)})};e.exports=d}),null);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_IDENTIFIER)},m=function(a){return b("ContextualConfigAssert")(h(a)&&a.length>0,g.MISSING_CONTEXT_IN_CONFIG)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_IDENTIFIER)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_IDENTIFIER)},p=function(a){l(a);var c=a.name,d=a.type;a=a.buckets;n(c);o(d);return{name:c,type:d,buckets:b("ContextualConfigParseContextBuckets")(d,a)}};a=function(a){m(a);return a.map(p)};e.exports=a}),null);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0};e.exports=a}),null);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigConstants").TYPE,i=b("ContextualConfigValidators").isString,j=function(a){return b("ContextualConfigAssert")(i(a),g.INVALID_STRING)};a=function(a,c){j(c);switch(a){case h.BOOL:return b("ContextualConfigParseBoolean")(c);case h.FLOAT:return b("ContextualConfigParseFloat")(c);case h.INT:return b("ContextualConfigParseInteger")(c);case h.STRING:return c;default:throw new Error(g.INVALID_VALUE_TYPE)}};e.exports=a}),null);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_RESULTS)},m=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_VALUE)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_VALUE)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_VALUE)},p=function(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.name===b)return e.type}throw new Error(g.UNDECLARED_OUTPUT_PARAM)},q=function(a){return function(c){m(c);var d=c.name;n(d);var e=p(a,d);o(e);c=b("ContextualConfigParseResultParamValue")(e,c.value);return{name:d,type:e,value:c}}};a=function(a,b){l(b);return b.map(q(a))};e.exports=a}),null);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,c){return b("ContextualConfigAssert")(b("ContextualConfigIsEqualParams")(a,c),g.RESULTS_VECTOR_SIZE_MISMATCH)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c.map(function(b,c){return{name:a[c].name,value:b}}));h(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f){"use strict";a=b("ContextualConfigConstants").ERROR;c=function(c,d){try{return b("ContextualConfigParseDenseResultParams")(c,d)}catch(b){throw new Error(a.MISSING_DEFAULT_VALUE)}};e.exports=c}),null);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_IDENTIFIER)},m=function(a){return b("ContextualConfigAssert")(h(a),g.BAD_MONITORED_CONTEXTS)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_IDENTIFIER)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_IDENTIFIER)},p=function(a){l(a);var b=a.name;a=a.type;n(b);o(a);return{name:b,type:a}};a=function(a){m(a);return a.map(p)};e.exports=a}),null);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isNonEmptyString,j=b("ContextualConfigValidators").isType,k=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_OUTPUTS_DEFINITION)},l=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_OUTPUT_TYPE)},m=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_OUTPUT_NAME)},n=function(a){return b("ContextualConfigAssert")(o(a),g.DUPLICATE_OUTPUT_NAME)},o=function(a){__p&&__p();var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},p=function(a){m(a.name);l(a.type);return a};a=function(a){k(a);a=a.map(p);n(a);return a};e.exports=a}),null);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_VECTOR)},j=function(a,c){return b("ContextualConfigAssert")(a===c,g.RESULTS_VECTOR_SIZE_MISMATCH)},k=function(a,c){j(a.length,c.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=c[d];b("ContextualConfigParseResultParamValue")(e,f)}},l=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};a=function(a,b,c){i(c);b=l(b);var d=a.length;j(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;k(a,c.slice(f,f+d))}return c};e.exports=a}),null);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};a=function(a,b,c){__p&&__p();var d=null;a=a.map(function(a){__p&&__p();var e=a.name,f={name:e};if(d!=null)return f;var i;c[e]!=null?i=c[e]:b[e]!=null?i=b[e]():i=null;f.value=i;if(a.buckets!=null){e=h(a.buckets,i);if(e==null){d=new Error(g.MISSING_BUCKET_MATCH);return f}a=e[0];i=e[1];f.bucketName=a;f.bucketIndex=i}return f});return[d,a]};e.exports=a}),null);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;var g=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigResolvedContextsUtils").getBucketIndices,j=b("ContextualConfigValidators").isDefined,k=function(a){return b("ContextualConfigAssert")(j(a),h.BAD_CONFIG)},l=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},m=function(a,c,d,e){try{c=c.slice(d,d+a.length);return[null,b("ContextualConfigParseDenseResultParams")(a,c)]}catch(a){return[a,e]}},n=function(a,c,d){try{d=d.reduce(function(c,d,e){b("ContextualConfigAssert")(e<a.length,"Auxillery index out of range.");return c+a[e]*d},0);return[null,d*c]}catch(a){return[a,-1]}};c=function(){__p&&__p();function c(a,c){__p&&__p();k(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);var d=b("ContextualConfigParseContexts")(a.contexts);this.aux=l(d);this.contexts=d;this.defaults=b("ContextualConfigParseDenseDefaults")(c,a.vectorDefaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=c;this.vector=b("ContextualConfigParseVector")(c,d,a.vector)}var d=c.prototype;d.resolve=function(b){try{return this.unsafeResolve(b)}catch(b){return[b,this.defaults,a,g]}};d.unsafeResolve=function(a){__p&&__p();var c=this.aux,d=this.globalContextProviders,e=this.contexts,f=this.defaults,h=this.monitors,j=this.outputs,k=this.vector;e=b("ContextualConfigResolveContexts")(e,d,a);var l=e[0];e=e[1];if(l!=null)return[l,f,e,g];l=n(c,j.length,i(e));c=l[0];l=l[1];if(c!=null)return[c,f,e,g];c=m(j,k,l,f);j=c[0];k=c[1];if(j!=null)return[j,k,e,g];l=b("ContextualConfigResolveContexts")(h,d,a);f=l[0];c=l[1];return f!=null?[f,k,e,g]:[null,k,e,c]};return c}();e.exports=c}),null);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isDefined,k=function(a){return b("ContextualConfigAssert")(j(a),i.BAD_CONFIG)};a=function(){__p&&__p();function a(a,c){k(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.values=b("ContextualConfigParseResultParams")(c,a.values)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,g,h]}};c.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.monitors,e=this.values;d=b("ContextualConfigResolveContexts")(d,c,a);c=d[0];a=d[1];return c!=null?[c,e,g,h]:[null,e,g,a]};return a}();e.exports=a}),null);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){__p&&__p();var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(var e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f};e.exports=a}),null);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,c){return b("ContextualConfigAssert")(b("ContextualConfigIsEqualParams")(a,c),g.MISSING_DEFAULT_VALUE)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c);h(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigParseResultParams","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_TABLE)},l=function(a){return b("ContextualConfigAssert")(i(a),g.MISSING_TABLE)},m=function(a){return b("ContextualConfigAssert")(j(a),g.MISSING_TABLE_ITEM_BUCKET)},n=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_TABLE_ITEM_VALUES)},o=function(a,c){l(c);var d=c.bucket;c=c.values;m(d);n(c);return{bucket:d,values:b("ContextualConfigParseResultParams")(a,c)}};a=function(a,b){k(b);return b.reduce(function(b,c){c=o(a,c);b[c.bucket]=c.values;return b},{})};e.exports=a}),null);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").BUCKET_DELIMITER;a=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;c=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS;var h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigValidators").isDefined,k=[],l=function(a){return b("ContextualConfigAssert")(j(a),h.BAD_CONFIG)};d=function(){__p&&__p();function d(a,c){l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.contexts=b("ContextualConfigParseContexts")(a.contexts);this.defaults=b("ContextualConfigParseDefaults")(c,a.defaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.table=b("ContextualConfigParseTable")(c,a.table)}var e=d.prototype;e.resolve=function(b){try{return this.unsafeResolve(b)}catch(b){return[b,this.defaults,a,c]}};e.unsafeResolve=function(a){__p&&__p();var c=this.globalContextProviders,d=this.contexts,e=this.defaults,f=this.monitors,h=this.table;d=b("ContextualConfigResolveContexts")(d,c,a);var j=d[0];d=d[1];if(j!=null)return[j,e,d,[]];j=i(d).join(g);h=h[j]||k;j=b("ContextualConfigMergePartialResultParams")(e,h);e=b("ContextualConfigResolveContexts")(f,c,a);h=e[0];f=e[1];return h!=null?[h,j,d,[]]:[null,j,d,f]};return d}();e.exports=d}),null);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONFIG_TYPE,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isDefined,j=[1],k=function(a){return b("ContextualConfigAssert")(i(a)&&i(a.version),h.BAD_CONFIG)},l=function(a){return b("ContextualConfigAssert")(j.indexOf(a)!==-1,h.UNSUPPORTED_CONFIG_VERSION)};a=function(a,c){k(a);l(a.version);switch(a.cctype){case g.DENSE:return new(b("DenseContextualConfig"))(a,c);case g.MULTI_OUTPUT_RESOLVED:return new(b("MultiOutputResolvedContextualConfig"))(a,c);case g.TABLE:return new(b("TableContextualConfig"))(a,c);default:throw new Error(h.UNKNOWN_CONFIG_TYPE)}};e.exports=a}),null);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";a=function(a){};e.exports=a}),null);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR;a=function(){__p&&__p();function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var c=a.prototype;c.get=function(a,c){try{a=this.$1[a];if(typeof a!==typeof c){b("ContextualConfigWarn")(g.REQUESTED_PARAM_NOT_FOUND);return c}return a}catch(a){b("ContextualConfigWarn")(a.message);return c}};c.getParams=function(){return this.$2};return a}();e.exports=a}),null);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").EMPTY_RESULT_PARAMS;a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,i,g,h]};return a}();e.exports=a}),null);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE;var g=1/a,h=1;c=function(){__p&&__p();function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var c=a.prototype;c.$5=function(){if(this.$1)return this.$1;var a=this.$2,c=this.$4;try{c=b("ContextualConfigParseConfig")(c,a)}catch(a){c=new(b("ErrorContextualConfig"))(a)}this.$1=c;return c};c.$6=function(a){var c=this.isDebugLoggingEnabled,d=this.$4,e=this.$3;e=!e&&b("Random").random()<g;e&&(this.$3=!0);d=b("ContextualConfigCollateExposureData")(d,a,e);a=b("ContextualConfigExposureLogger").createEvent(d);a.log(c)};c.resolve=function(a){a===void 0&&(a={});var c=this.$1||this.$5();c=c.resolve(a);this.$6(c);return new(b("ContextualConfigResult"))(c[h])};return a}();e.exports=c}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaConfig",["ContextualConfig","VideoPlayerShakaConfigContextProvider","VideoPlayerShakaExperimentsConfig","VideoPlayerShakaExposureLogger","VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaSessionConfigOverride"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerShakaParsedContextualConfig").getStaticConfig()||null,h;a=function(){var a=b("VideoPlayerShakaParsedContextualConfig").getRawContextualConfig();h=a?new(b("ContextualConfig"))(a):null};b("VideoPlayerShakaParsedContextualConfig").addListener("configChange",a);a();c=function(){"use strict";__p&&__p();function a(a,c){this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=null,a&&this.$1.setAllContexts(a),h!==null&&(this.$3=h.resolve(a||{}))}var c=a.prototype;c.setContext=function(a,b){if(h===null)return null;var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&(this.$3=h.resolve(a))};c.setOverrideConfig=function(a){this.$2=a};c.getBool=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="boolean"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getNumber=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="number"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getString=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="string"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.$4=function(a,c){if(!!this.$2&&typeof this.$2[a]===typeof c)return this.$2[a];if(b("VideoPlayerShakaSessionConfigOverride")&&typeof b("VideoPlayerShakaSessionConfigOverride")[a]===typeof c)return b("VideoPlayerShakaSessionConfigOverride")[a];if(g!==null&&typeof g[a]===typeof c)return g[a];return this.$3?this.$3.get(a,c):null};return a}();e.exports=c}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getRootNode=function(){return this.$MediaController1};d.setDimensions=function(a,c){var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};d.getMediaID=function(){return this.$MediaController2};d.isLiveVideo=function(){return!1};d.isVideo=function(){return!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();var g=42;a=function(){"use strict";__p&&__p();function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.feedViewabilityPercentage=function(){var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};c.viewabilityPercentage=function(){return this.$5(!1)};c.isTopElement=function(a,b,c){b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};c.$5=function(a){__p&&__p();var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};return a}();e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerExperiments").viewabilityPollingRate,h=new Map([[0,0],[25,25],[50,50],[75,75],[100,100]]);a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$12=function(a){if(!f.$14())return;a=b("performanceNow")();a-f.$1>g&&(f.$10(),f.$1=a);f.$2=window.requestAnimationFrame(f.$12)};this.$9=function(){f.$13()};this.$8=function(){f.setLastLoggedViewability(f.getViewability()),f.$11()};this.$1=0;this.$4=a;this.$5=new(b("ViewabilityVideoElement"))(c,d,e,this.$4.isSpherical());this.$6()}var c=a.prototype;c.getViewability=function(){var a;this.$4.isInline()?a=this.$5.feedViewabilityPercentage():a=this.$5.viewabilityPercentage();return this.$7(a)};c.setLastLoggedViewability=function(a){this.$3=a};c.$6=function(){this.$4.addListener("beginPlayback",this.$8),this.$4.addListener("pausePlayback",this.$9)};c.$10=function(){var a=this.getViewability();a!=this.$3&&(this.$4.logEvent("viewability_changed",{current_viewability_percentage:a,last_viewability_percentage:this.$3}),this.$3=a)};c.$11=function(){this.$2=window.requestAnimationFrame(this.$12)};c.$13=function(){window.cancelAnimationFrame(this.$2)};c.$14=function(){return this.$4.getVideoAPI().isPaused()!==void 0?!this.$4.getVideoAPI().isPaused():this.$4.getState()==="playing"};c.$7=function(a){__p&&__p();var b=-2;if(a<=0)return b;for(var c=h,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];a>=g&&(b=f)}return b};return a}();e.exports=a}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}e.exports=a}),null);
__d("forwardEvent",[],(function(a,b,c,d,e,f){function a(a,b,c){return a.addListener(c,function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.emit.apply(b,[c].concat(d))})}e.exports=a}),null);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"})}),null);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE_BEEPER:"live_beeper"})}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availability_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",REDISPLAYED:"redisplayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",VIDEO_LOGGING_SESSION_WAKEUP:"video_logging_session_wakeup",RETRY_ON_ERROR:"retry_on_error",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error",LIVE_P2P_PLAYBACK_RELOADING:"live_p2p_playback_reloading",LIVE_P2P_PLAYBACK_PLUGIN_LOADED:"live_p2p_playback_plugin_loaded",LIVE_P2P_PLAYBACK_PLUGIN_FAILED:"live_p2p_playback_plugin_failed"})}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",AYMT:"aymt",BALLOT:"ballot",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",DIM_SUM:"dim_sum",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",ENTRY_POINT:"entry_point",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VERSE_DESTINATION:"games_verse_destination",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_CLIPS_HOME:"games_video_clips_home",GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:"games_video_clips_home_immersive_player",GAMES_VIDEO_CLIPS_HOME_TOP_CLIPS:"games_video_clips_home_top_clips",GAMES_VIDEO_CLIPS_HOME_MY_CLIPS:"games_video_clips_home_my_clips",GAMES_VIDEO_COMMUNITY_FEED:"games_video_community_feed",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_HIGHLIGHTED_CLIPS_STREAMER_PAGE:"games_video_highlighted_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CRM_CALL_RECORDING:"intern_crm_call_recording",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_LINEAR:"live_linear",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_PYML:"live_pyml",LIVE_RHC:"live_rhc",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVE_MSITE:"live_msite",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",MOVIES_RECOMMENDED_MOVIES_QP:"movies_recommended_movies_qp",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGE_ROLES:"page_roles",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PEOPLE_PORTAL:"people_portal",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CATALOG:"video_home_catalog",TOPIC_SPORTS:"topic_sports",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_EXPLORE_TAB:"explore",VIDEO_HOME_CHANNEL:"video_home_channel",VIDEO_HOME_LIVE_TAB:"video_home_live_tab",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SHOWS_CATALOG:"shows_catalog",SOTTO_CATALOG:"sotto_catalog",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results",SERIES_CARD:"series_card",WATCH_HISTORY:"watch_history",WATCH:"watch",VIDEO_LIST:"video_list",WORK_CAPTIONS_REVIEW:"work_captions_review",MUSIC_VIDEOS_PLAYLISTS_CARD:"music_videos_playlists_card",MEDIA_MATCH_SERVICE:"media_match_service"})}),null);
__d("CVCv3SubscriptionHelper",["DateConsts","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DateConsts").MS_PER_SEC;a=function(){__p&&__p();function a(a,c,d){this.$1=a;this.$2=b("guid")();this.$3=((a=c)!=null?a:"null")+"::"+((c=d)!=null?c:"null");this.$4=null}var c=a.prototype;c.isValidSubscription=function(){return!!this.$1};c.makeCVCv3StateUpdate=function(a,b,c,d){var e=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(e={m:d,pf:Math.floor((b-a)*g),s:c,sa:Math.floor(a*g)});d={pps:this.$4,ps:e,si:this.$2,so:this.$3,vi:this.$1};this.$4=e;return d};c.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);return Object.assign({},a,e)};c.clearAnyPreviousContext=function(){this.$4=null};return a}();e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){var g=b("guid")().slice(-8);function a(){return g}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState","getVideoBrowserTabId"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();var i=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var j=this.getVideoElement();if(h){var k=j.pause;j.pause=function(){i._recentPausedTime=j.currentTime;return k.apply(j)}}d&&(this._overwriteVideoCurrentTimeProperty(j),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(j);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=j.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;j.readyState>=j.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(j,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(j,"ended",this.onEnded.bind(this)),b("EventListener").listen(j,"pause",this.onPause.bind(this)),b("EventListener").listen(j,"playing",this.onPlaying.bind(this)),b("EventListener").listen(j,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(j,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(j,"play",this.onPlay.bind(this)),b("EventListener").listen(j,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(j,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(j,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,c){__p&&__p();this._loggedEvents[a]=!0;c=c?c:{};c.video_id=this.getVideoID();c.browser_tab_id=b("getVideoBrowserTabId")();c.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(c,"video_time_position")||(c.video_time_position=this._getVideoCurrentTime());c.time_ms||(c.time_ms=Date.now());c.time=Math.round(c.time_ms/1e3);if(this.getAdClientToken){var d=this.getAdClientToken();d&&(c.ad_client_token=d)}this.getPlayerFormat&&(c.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(c.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(c.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,c)},_logReadyToPlay:function(){this._logOnce(b("VideoPlayerLoggerEvent").READY_TO_PLAY)},__setPendingPlayRequest:function(a){this._pendingPlayRequest=a},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===g&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("VideoChannelViewChainLengthManager",["guid"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";__p&&__p();function a(a){this.$1=b("guid")(),this.$2=0,this.$3=a,this.$4={},this.$4[a]=0,this.$5=a}var c=a.prototype;c.registerVideoID=function(a){this.$4[a]===void 0&&(this.$2++,this.$4[a]=this.$2),this.$5=a};c.getSessionID=function(){return this.$1};c.getCurrentChainLength=function(){return this.$4[this.$5]!==void 0?this.$4[this.$5]:null};return a}(),h={};a={_ensureSessionID:function(a){a=a.toString(),h[a]||(h[a]=new g(a))},getLoggingData:function(a){a&&(a=a.toString());a=h&&h[a];return!a?{video_chaining_depth_level:null,video_chaining_session_id:null}:{video_chaining_depth_level:a.getCurrentChainLength(),video_chaining_session_id:a.getSessionID()}},registerChainingInfos:function(a,b){var c=a;if(b){b=b.decode();b.root_id&&(c=b.root_id)}c&&(c=c.toString());this.registerVideoID(c,a)},registerVideoID:function(a,b){a=a.toString(),this._ensureSessionID(a),h[a].registerVideoID(b)}};e.exports=a}),null);
__d("R2D2VideoMetadata",["getVideoBrowserTabId","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=10;a=function(){"use strict";__p&&__p();function a(a){this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*g,h),this.$5=b("uuid")()}var c=a.prototype;c.toJSON=function(){return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs(),browser_tab_id:b("getVideoBrowserTabId")()}};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return parseInt(this.$6,h)};c.setDurationMs=function(a){this.$6=a};return a}();e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=0,this.$1=new Map()}var b=a.prototype;b.addEvent=function(a){this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};b.getEvents=function(){return this.$1};b.getEventsCount=function(){return this.$2};b.toJSON=function(){var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};return a}();e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getStartTimeMs=function(){return this.$1};b.getEndTimeMs=function(){return this.$2};return a}();e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.reset()}var c=a.prototype;c.startPlaying=function(a){this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};c.stopPlaying=function(a){this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};c.addPlaySegmentHelper=function(a,c,d){__p&&__p();if(c>=d)return;d=new(b("R2D2VideoWatchTimeSegment"))(c,d);var e=!1;for(var f=0;f<a.length;f++)if(a[f].getStartTimeMs()>c){a.splice(f,0,d);e=!0;break}e||a.push(d)};c.addPlaySegment=function(a,b){this.addPlaySegmentHelper(this.$8,a,b)};c.addPlaySegmentWithSound=function(a,b){this.addPlaySegmentHelper(this.$9,a,b)};c.setFinishedPlaying=function(){this.$5=!0};c.getFinishedPlaying=function(){return this.$5};c.setMuted=function(a){this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};c.setUnmuted=function(a){this.$4&&(this.$4=!1,this.$7=a)};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return this.$2};c.setDurationMs=function(a){this.$2=a};c.getWatchedSegments=function(){return this.$8};c.getWatchedSegmentsWithSound=function(){return this.$9};c.reset=function(){this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};return a}();e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=90*60*1e3;a=function(){"use strict";__p&&__p();function a(a,c,d){this.$4=new(b("R2D2VideoState"))(a.getVideoId(),a.getDurationMs()),this.$5=c,this.$6=d,this.$7=a,this.$8=[],this.$3=!1,this.$9=new(b("R2D2VideoEventValidationSummary"))()}var c=a.prototype;c.addEvent=function(a,b){if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};c.$11=function(a){a=a.playback_duration*g;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};c.$12=function(a,b){var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};c.$10=function(a,b){if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};c.hasUpdates=function(){return this.$3};c.hasExpired=function(){return this.$2.getTime()<=Date.now()-h};c.recalculateDelta=function(){var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};c.getMetadata=function(){return this.$7};c.getDebugInfo=function(){return this.$8};c.getEventValidationSummary=function(){return this.$9};c.getStateVideoDurationMsForTesting=function(){return this.$4.getDurationMs()};return a}();e.exports=a}),null);
__d("R2D2VideoStateMachine",[],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.processEvent=function(a,b,c){__p&&__p();switch(a){case"started_playing":case"unpaused":c.startPlaying(b.video_time_position*g);break;case"finished_playing":c.stopPlaying(b.video_time_position*g);c.setFinishedPlaying();break;case"paused":c.stopPlaying(b.video_time_position*g);break;case"muted":c.setMuted(b.video_time_position*g);break;case"unmuted":c.setUnmuted(b.video_time_position*g);break}};return a}();e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="finish_count";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return a.getFinishedPlaying()?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="play_count";a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return a.getWatchedSegments().length>0&&c.compute(a)>0?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){__p&&__p();var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){__p&&__p();var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};b.computeDelta=function(a,b){var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=[],this.$1=new Map()}var b=a.prototype;b.getMetricValue=function(a){a=this.$1.get(a);return a===null||a===void 0?null:a};b.setMetricValue=function(a,b){b!==null&&this.$1.set(a,b)};b.toJSON=function(){var a=this,b={};this.$1.forEach(function(c,d){b[d]=a.$3(c)});if(this.$2.length>0){var c="debug_details";b[c]=JSON.stringify(this.$2)}return b};b.addDebugInfo=function(a){this.$2.push(a)};b.$3=function(a){return Array.isArray(a)?"["+a.toString()+"]":a};return a}();e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){__p&&__p();a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_";a=function(){"use strict";__p&&__p();function a(a){this.percentFactor=a}var c=a.prototype;c.compute=function(a){return b("R2D2MetricsHelper").isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g+this.percentFactor};return a}();e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=100;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="true_view_count",h=10*1e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=25;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=50;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=75;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=95;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="retention_graph",h=4,i=40,j=1e3,k=10;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.computeDelta=function(a,b){if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};c.getMetricName=function(){return g};c.compute=function(a){__p&&__p();var c=a.getDurationMs();if(!isFinite(c)||c<=0)return[];c=new(b("R2D2ViewCountMetric"))().compute(a);var d=a.getDurationMs(),e=parseInt(((d-1)/(j*h)+1)*h,k);e=Math.min(e,i);var f=new Array(e+1);f.fill(0);if(c==0)return f;c=a.getWatchedSegments();for(var a=0;a<c.length;a++){var g=c[a],l=parseInt(e*g.getStartTimeMs()/d,k);g=parseInt(e*g.getEndTimeMs()/d,k);if(l<=g&&l>=0&&g<=e)for(var l=l;l<=g;l++)f[l]=1}return f};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_with_sound_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_with_sound_on",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentWithSoundMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=[new(b("R2D2UniqueTimeSpentMetric"))(),new(b("R2D2PlayCountMetric"))(),new(b("R2D2ViewCountMetric"))(),new(b("R2D2VideoPlayRetention0to15s"))(),new(b("R2D2FinishCountMetric"))(),new(b("R2D2ViewCountRetentionGraphMetric"))(),new(b("R2D2ViewCount25Metric"))(),new(b("R2D2ViewCount50Metric"))(),new(b("R2D2ViewCount75Metric"))(),new(b("R2D2ViewCount95Metric"))(),new(b("R2D2ViewCount100Metric"))(),new(b("R2D2ViewCountWithSoundMetric"))(),new(b("R2D2ViewCount10Metric"))()]}var c=a.prototype;c.getVideoStateSummary=function(a){var c=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){return c.setMetricValue(b.getMetricName(),b.compute(a))});return c};c.calculateDelta=function(a,c){var d=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){var e=a.getMetricValue(b.getMetricName());if(c!==void 0){var f=c.getMetricValue(b.getMetricName());e=b.computeDelta(e,f)}d.setMetricValue(b.getMetricName(),e)});return d};return a}();e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=10*1e3,h="video_player",i="r2d2_summary",j="r2d2_event_validation";a=function(){"use strict";__p&&__p();function a(a){this.$4=a,this.$2=new(b("R2D2VideoStateSummaryCalculator"))(),this.$1=new Map()}var c=a.prototype;c.setScriptPath=function(a){this.$3=a};c.$5=function(a,b){return a+":"+b};c.addEvent=function(a,c){var d=this;if(this.shouldNotLogEvent(a))return;var e=this.$5(c.player_instance_key,c.video_id),f=this.$1.get(e);f==null&&(f=new(b("R2D2VideoSession"))(new(b("R2D2VideoMetadata"))(c),new(b("R2D2VideoStateMachine"))(),this.$2),this.$1.set(e,f));f.addEvent(a,c);setTimeout(function(){return d.$6()},g)};c.$6=function(){var a=this,c=[];this.$1.forEach(function(d,e){var f=null;d.hasUpdates()?f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.recalculateDelta(),i):d.hasExpired()&&(c.push(e),f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.getEventValidationSummary(),j));f!==null&&b("Banzai").post(h,f)});c.forEach(function(b){a.$1["delete"](b)})};c.createR2D2SummaryLoggingData=function(a,b,c){a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};c.shouldLogForR2D2=function(){return b("gkx")("676938")};c.shouldNotLogEvent=function(a){var c=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);return!c.has(a)};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLogger",["invariant","Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","getVideoBrowserTabId","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,i=b("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,j="video_player",k=5e3,l=function(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()};a=function(){__p&&__p();function a(a,c){this.$2=a,this.$3=null,this.$5={},this.$4=c,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$6=[],this.$19=0,this.$20=0,this.$11=0,this.$27=!1,this.$16=!1,this.$29(),this.$30(),this.$28=new(b("R2D2Logger"))(this.$2)}var c=a.prototype;c.updateSource=function(a){this.$2=a};c.getSource=function(){return this.$2};c.logEvent=function(a,c){__p&&__p();c=babelHelpers["extends"]({},c,this.$4);c.initial_event=!Object.prototype.hasOwnProperty.call(this.$5,a);Object.prototype.hasOwnProperty.call(c,"time_ms")||(c.time_ms=l());Object.prototype.hasOwnProperty.call(c,"browser_tab_id")||(c.browser_tab_id=b("getVideoBrowserTabId")());Object.prototype.hasOwnProperty.call(c,"time")||(c.time=Math.round(c.time_ms/1e3));c.is_stalling=this.$31();c.error_user_info=this.$32(c.error_user_info);this.$3&&Object.assign(c,this.$3);switch(a){case"paused":case"finished_playing":if(this.$24){var d=this.$24,e=d.getABREvaluation();c.ideal_samples=e.idealSamples;c.conservative_samples=e.conservativeSamples;c.aggressive_samples=e.aggressiveSamples;c.conservative_resolution_constrained_samples=e.conservativeResolutionConstrainedSamples;c.last_quality_switch_reason=e.lastQualitySwitchReason;c.reason&&d.setLastQualitySwitchReason(c.reason)}e=typeof this.$25==="function"&&this.$25();d=typeof this.$26==="function"&&this.$26();typeof d==="number"&&typeof e==="number"&&(c.dropped_frame_count=e,c.total_frame_count=d);break}switch(a){case"started_playing":case"unpaused":this.$27=!0;break;case"finished_playing":case"error":case"paused":this.$27=!1;break}switch(a){case"requested_playing":this.$29();this.$33();this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED;break;case"started_playing":case"unpaused":case"finished_playing":case"cancelled_requested_playing":case"error":case"paused":case"representation_ended":case"heart_beat":if(a==="error"&&b("VideoPlayerExperiments").disableStallLoggingForError)break;if(a=="representation_ended"&&!this.$5.started_playing)break;if(a==="heart_beat"&&(!this.$5.started_playing||!b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$31()))break;a==="heart_beat"&&(c.v2_heart_beat=!0);(a==="started_playing"||a==="unpaused")&&(this.$11=c.time_ms,this.$34());if(a==="error"&&c.state!==b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;a==="cancelled_requested_playing"&&(this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED);this.$35();this.$36();(a==="paused"||a==="finished_playing")&&(i&&a==="finished_playing"&&this.$34(),c.recent_stalls_count=this.$37());this.$38();this.$39(c);this.$40(c);this.$30();i&&this.$34();this.$29();break}e={logData:c,event:a,scriptPath:this.$1,source:this.$2};a||b("FBLogger")("video").warn("Missing event name");this.$5[a]=!0;if(this.$2==="animated_image_share")return null;c.ad_client_token||b("VideoPlayerHTML5Experiments").useVitalForEverything||h&&c.playback_is_live_streaming||b("VideoPlayerHTML5Experiments").useVitalForClosing&&(a==="paused"||a==="finished_playing"||a==="heart_beat")||b("VideoPlayerHTML5Experiments").useVitalForOpening&&(a==="unpaused"||a==="started_playing")?b("Banzai").post(j,e,b("Banzai").VITAL):b("Banzai").post(j,e);this.$28.shouldLogForR2D2()&&this.$28.addEvent(a,c);return e};c.setScriptPath=function(a){this.$1=a,this.$28.setScriptPath(a)};c.setFTData=function(a){this.$3=a};c.setABRQualityTracker=function(a){this.$24=a};c.setFrameCountGetters=function(a,b){this.$25=a,this.$26=b};c.startBuffering=function(a){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$33(a)};c.endBuffering=function(){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$36();this.$41();this.$35();this.$38()};c.startInterrupt=function(){this.$42()};c.endInterrupt=function(){this.$36(),this.$41()};c.$31=function(){return this.$15>0};c.$33=function(a){if(this.$31())return;this.$16=this.$27;this.$15=Date.now();a!==void 0&&this.$5.started_playing&&(this.$17=a)};c.$42=function(){if(this.$43())return;this.$21=Date.now()};c.$43=function(){return this.$21>0};c.$44=function(){return!this.$43()?0:Date.now()-this.$21};c.$45=function(){return this.$31()?Date.now()-this.$15:0};c.$36=function(){if(this.$43()){var a=this.$44();this.$22+=a;this.$20+=a;this.$23+=1;this.$19+=1}};c.$41=function(){this.$43()&&(this.$21=0)};c.$30=function(){this.$22=0,this.$23=0,this.$41()};c.$35=function(){__p&&__p();if(this.$31()){var a=this.$45();this.$17!==null&&(this.$18=a);this.$14+=a;this.$8+=a;this.$12++;a>200&&this.$13++;this.$7++;this.$16&&(this.$10+=a,this.$9++,this.$16=!1);i&&this.$6.push(l())}};c.$38=function(){this.$31()&&(this.$15=0)};c.$32=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};c.getCumulativeStallCount=function(){return this.$7};c.getCumulativeInPlayStallCount=function(){return this.$9};c.getStallCount=function(){return this.$12};c.getCumulativeStallTime=function(){return this.$8+this.$45()};c.getCumulativeInPlayStallTime=function(){return this.$10+(this.$16?this.$45():0)};c.getCumulativeInterruptCount=function(){return this.$19};c.getCumulativeInterruptTime=function(){return this.$20+this.$44()};c.$39=function(a){a.stall_time=Math.max(0,this.$14),a.stall_count=this.$12,a.stall_count_200_ms=this.$13,this.$18&&(a.first_stall_time=this.$18,a.first_stall_start_position=this.$17)};c.$40=function(a){a.interrupt_time=Math.max(0,this.$22),a.interrupt_count=this.$23};c.$37=function(){var a=l(),b=a-k;this.$6=this.$6.filter(function(a){return a>=b});i||this.$12>0&&this.$6.push(a);return this.$6.length};c.$29=function(){this.$14=0,this.$15=0,this.$12=0,this.$13=0,this.$17=null,this.$18=0};c.$34=function(){this.$6=[]};c.getFTdata=function(){return this.$3};return a}();a.Sources=b("VideoPlayerLoggerSource");a.Errors=b("VideoPlayerLoggerErrors");a.FallbackReasons=b("VideoPlayerLoggerFallbackReasons");a.ErrorStates=b("VideoPlayerLoggerErrorStates");a.PlayerStates=b("VideoPlayerLoggerPlayerStates");e.exports=a}),null);
__d("LiveVideoCopyrightActionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2145232792194057"};b.getQueryID=function(){return"2180375868916621"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2024168130980964",queryID:"292170761620173"})}),null);
__d("XVideoCVCController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/cvc/",{raw:{type:"Bool",defaultValue:!1}})}),null);
__d("XVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1}})}),null);
__d("XVideoUnifiedCVCController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/unified_cvc/",{})}),null);