if (self.CavalryLogger) { CavalryLogger.start_js(["ZPuVe"]); }

__d("CometErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){__p&&__p();c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.onError,e=c.project;c=c.description;var f="ErrorBoundary caught an Error";c!=null&&(f=f+" ("+c+")");b("FBLogger")(e==null?"CometErrorBoundary":e).catching(a).fatal(f);d!=null&&d(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(b("React").PureComponent);e.exports=a}),null);
__d("cometTestID",["gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("gkx")("1070695");function a(a){return g&&a!=null?{"data-testid":a}:void 0}e.exports=a}),null);
__d("mergeRefs",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return function(a){__p&&__p();c.forEach(function(c){__p&&__p();if(c==null)return;if(typeof c==="function"){c(a);return}if(typeof c==="object"){c.current=a;return}b("recoverableViolation")("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(c),"comet_ui")})}}}),null);
__d("BaseImage.react",["requireCond","CometErrorBoundary.react","cr:1106379","React","coerceImageishSprited","coerceImageishURL","cometTestID","gkx","joinClasses","mergeRefs","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useMemo,i=b("React").useRef;function j(a){return a!=null&&typeof a==="string"&&a!==""&&a!=="[object Object]"}function k(a){var c=a.errorMessage;a=a.projectName;throw b("unrecoverableViolation")(c,a)}function l(a){var c=a.errorMessage,d=a.projectName,e=a.fallback;return b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(){var a;return(a=e)!=null?a:null},children:b("React").jsx(k,{errorMessage:c,projectName:d})})}var m=b("cr:1106379")?b("cr:1106379").Image:"img";function a(a,c){__p&&__p();var d=a.alt,e=a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","testid"]);var f=a.onLoad,k=a.src,n=i(null),o=h(function(){return b("mergeRefs")(n,c)},[n,c]),p=b("coerceImageishSprited")(k),q=b("coerceImageishURL")(k);g(function(){var a;f!=null&&n.current instanceof HTMLImageElement&&((a=n.current)==null?void 0:a.complete)&&f()},[f,k]);if(q!=null&&q.uri!=null){return!j(q.uri)?b("React").jsx(l,{errorMessage:"Invalid src provided as imageish uri",projectName:"comet_ui"}):b("React").jsx(m,babelHelpers["extends"]({},a,b("cometTestID")(e),{alt:(k=d)!=null?k:"",height:a.height!=null?a.height:q.height,ref:o,src:q.uri,width:a.width!=null?a.width:q.width}))}else if(p!=null){k=p.spriteCssClass;q=p.spriteMapCssClass;p=p._spi;a.src;a.height;a.width;var r=babelHelpers.objectWithoutPropertiesLoose(a,["src","height","width"]);return b("cr:1106379")?b("React").jsx(b("cr:1106379").Sprite,babelHelpers["extends"]({},r,b("cometTestID")(e),{_spi:p,className:b("joinClasses")(a.className,q,k),ref:o})):b("React").jsx("i",babelHelpers["extends"]({},r,b("cometTestID")(e),{className:b("joinClasses")(a.className,q,k),ref:o}))}if(!j(a.src))return b("React").jsx(l,{errorMessage:"Invalid src provided to image",projectName:"comet_ui"});if(b("gkx")("1107484")){return b("React").jsx(m,babelHelpers["extends"]({},a,b("cometTestID")(e),{alt:(p=d)!=null?p:"",ref:o,src:void 0}))}return b("React").jsx(m,babelHelpers["extends"]({},a,b("cometTestID")(e),{alt:(r=d)!=null?r:"",ref:o}))}e.exports=b("React").forwardRef(a)}),null);
__d("getIntersectionMarginFromViewportMargin",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){var b=g.get(a);b==null&&(b={bottom:a.bottom*-1,left:a.left*-1,right:a.right*-1,top:a.top*-1},g.set(a,b));return b}e.exports=a}),null);
__d("useLayoutEffect_SAFE_FOR_SSR",["ExecutionEnvironment","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").useEffect;c=b("React").useLayoutEffect;d=b("ExecutionEnvironment").canUseDOM?c:a;e.exports=d}),null);
__d("useDynamicCallback",["React","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useCallback,h=b("React").useRef;function a(a){var c=h(a);b("useLayoutEffect_SAFE_FOR_SSR")(function(){c.current=a},[a]);return g(function(){return c.current.apply(c,arguments)},[])}e.exports=a}),null);
__d("useIntersectionObserver",["DOMRectReadOnly","ExecutionEnvironment","JSScheduler","React","observeIntersection","useDynamicCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useLayoutEffect,i=b("React").useRef,j={bottom:0,left:0,right:0,top:0},k=b("DOMRectReadOnly").fromRect(),l={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function m(a){__p&&__p();var b;if(a==null)b=j;else if(typeof a==="string")return a;else typeof a==="number"?b={bottom:a,left:a,right:a,top:a}:b=babelHelpers["extends"]({},j,a);a=b;b=a.bottom;var c=a.left,d=a.right;a=a.top;return a+"px "+d+"px "+b+"px "+c+"px"}function n(a,c,d,e){var f=c.root,g=c.rootMargin,h=c.threshold;f=f===null?null:f();var i=a==null||a.element!==d||a.onIntersect!==e||a.observedRoot!==f||a.rootMargin!==g||a.threshold!==h;if(i){a&&a.subscription.remove();i=b("observeIntersection")(d,e,{root:f,rootMargin:m(g),threshold:h});return babelHelpers["extends"]({},c,{element:d,observedRoot:f,onIntersect:e,subscription:i})}return a}function a(a,c){__p&&__p();var d=c.root,e=c.rootMargin,f=c.threshold,j=i(null),m=i(null),o=i(null),p=i(null),q=i(!1),r=b("useDynamicCallback")(a);c=g(function(a){__p&&__p();if(j.current===a)return;if(j.current!=null&&a==null){p.current!=null&&b("JSScheduler").cancelCallback(p.current);var c=j.current;b("JSScheduler").runWithPriority(b("JSScheduler").priorities.unstable_Immediate,function(){p.current=b("JSScheduler").defer(function(){j.current===null&&q.current===!1&&r({boundingClientRect:l,intersectionRatio:0,intersectionRect:l,isIntersecting:!1,isVisible:!1,rootBounds:k,target:c,time:Date.now()}),p.current=null})})}j.current=a;m.current!=null&&(m.current.subscription.remove(),m.current=null);b("JSScheduler").runWithPriority(b("JSScheduler").priorities.unstable_Immediate,function(){o.current!=null&&b("JSScheduler").cancelCallback(o.current),o.current=b("JSScheduler").defer(function(){j.current!=null&&(m.current=n(m.current,{root:d,rootMargin:e,threshold:f},j.current,r)),o.current=null})})},[r,d,e,f]);h(function(){b("JSScheduler").runWithPriority(b("JSScheduler").priorities.unstable_Immediate,function(){o.current!=null&&b("JSScheduler").cancelCallback(o.current),o.current=b("JSScheduler").defer(function(){j.current!=null&&(m.current=n(m.current,{root:d,rootMargin:e,threshold:f},j.current,r)),o.current=null})});return function(){m.current!=null&&(m.current.subscription.remove(),m.current=null),o.current!=null&&(b("JSScheduler").cancelCallback(o.current),o.current=null)}},[r,d,e,f]);h(function(){q.current=!1;return function(){q.current=!0}},[]);return c}function c(a,b,c){return function(a){}}e.exports=b("ExecutionEnvironment").canUseDOM?a:c}),null);
__d("useServerTime",["JSScheduler","React","ServerTime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useState,i=6e4,j=new Set(),k=null,l=!1;function m(){j.forEach(function(a){return a()}),l=!1}function n(a){j.add(a);k==null&&(k=window.setInterval(function(){l||(l=!0,b("JSScheduler").scheduleSpeculativeCallback(m))},i));return function(){j["delete"](a),j.size===0&&(window.clearInterval(k),k=null)}}function o(){return new Date(b("ServerTime").getMillis())}function a(){var a=h(function(){return o()}),b=a[0],c=a[1],d=function(){return c(o())};g(function(){return n(d)},[]);return b}e.exports=a}),null);
__d("CometImage.react",["BaseImage.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("BaseImage.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("CometSuspenseHUD.react",["requireCond","cr:1064332"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1064332")}),null);
__d("CometHeroInteractionContext",["React"],(function(a,b,c,d,e,f){"use strict";a=function(){};c={getRelayProfilerContext:function(){return{wrapPrepareQueryResource:function(a){return a()}}},hold:function(){return""},logCometHero:a,logMetadata:a,logPageletVC:a,pageletStack:["root"],registerPlaceholder:a,removePlaceholder:a,suspenseCallback:a,unhold:a};d=b("React").createContext(c);e.exports={Context:d,DEFAULT_CONTEXT_VALUE:c}}),null);
__d("CometHeroFallbackTracker.react",["CometHeroInteractionContext","React","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a){var c=a.uuid,d=g(b("CometHeroInteractionContext").Context);b("useLayoutEffect_SAFE_FOR_SSR")(function(){d.registerPlaceholder(c,d.pageletStack);return function(){d.removePlaceholder(c)}},[d,c]);return null}e.exports=a}),null);
__d("CometHeroLogging",["requireCond","PromiseAnnotate","cr:1018061","performanceNow","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={},i=0;function a(a){a=(a=a)!=null?a:b("uuid")();j(a,"Interaction Start");return a}function j(a,c){c=c+a;h[c]=(g||(g=b("performanceNow")))();b("cr:1018061")!==null&&b("cr:1018061").measureStart(c)}function c(a,b,c,d,e,f,g,i){f=f+b;f=h[f];f!=null&&k(a,b,c,d,e,f,i,g)}function k(a,c,d,e,f,h,i,j){i===void 0&&(i=(g||(g=b("performanceNow")))());a.addSubspan(f,"HeroTracing",h,(c=i)!=null?c:(g||(g=b("performanceNow")))(),babelHelpers["extends"]({},j,{pagelet:d[d.length-1],pageletStack:d,spanType:e}));b("cr:1018061")!==null&&b("cr:1018061").measureModern(f,{end:i,start:h})}function d(){return String(i++)}function f(a){if(a!=null&&a.size>0)return Array.from(a).map(function(a){a=b("PromiseAnnotate").getDisplayName(a);if(a!=null)return a;else return"Promise"}).join(",");else return null}e.exports={createThenableDescription:f,genCometHeroInteractionUUIDAndMarkStart:a,getSimpleUUID:d,markEnd:c,markStart:j,measure:k}}),null);
__d("CometCommonReactionIconResource",["FeedbackReactionTypeNames","ReactionIconLightFilepaths","stylex"],(function(a,b,c,d,e,f){"use strict";a={size14:{height:"i4qgphn6",width:"gab7stmx"},size16:{height:"gl3lb2sf",width:"hhz5lgdu"},size18:{height:"hm271qws",width:"ov9facns"}};e.exports={getReaction:function(a,c){a="size"+a;c=b("FeedbackReactionTypeNames")[c].toLowerCase();return b("ReactionIconLightFilepaths").pathsIX[a][c]},sizes:{14:a.size14,16:a.size16,18:a.size18}}}),null);
__d("CometUncommonReactionIconResource",["FeedbackReactionTypeNames","ReactionIconUnspritedFilepaths","stylex"],(function(a,b,c,d,e,f){"use strict";a={size14:{height:"i4qgphn6",width:"gab7stmx"},size16:{height:"gl3lb2sf",width:"hhz5lgdu"},size18:{height:"hm271qws",width:"ov9facns"},size20:{height:"jnigpg78",width:"odw8uiq3"},size48:{height:"m7zwrmfr",width:"tmrshh9y"}};e.exports={getReaction:function(a,c){a="size"+a;c=b("FeedbackReactionTypeNames")[c].toLowerCase();return b("ReactionIconUnspritedFilepaths").paths[a][c]},sizes:{14:a.size14,16:a.size16,18:a.size18,20:a.size20,48:a.size48}}}),null);
__d("CometUFIReactionIconImpl.react",["CometCommonReactionIconResource","CometImage.react","CometUncommonReactionIconResource","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h={root:{display:"q9uorilb",position:"l9j0dhe7"}};function a(a){if((a.reaction===1||a.reaction===2||a.reaction===3||a.reaction===4||a.reaction===7||a.reaction===8)&&(a.size==="14"||a.size==="16"||a.size==="18")){var c=a.reaction,d=a.size;return b("React").jsx(b("CometImage.react"),{className:(g||(g=b("stylex")))([h.root,b("CometCommonReactionIconResource").sizes[d],a.xstyle]),src:b("CometCommonReactionIconResource").getReaction(d,c)})}else return b("React").jsx(b("CometImage.react"),{className:(g||(g=b("stylex")))([h.root,b("CometUncommonReactionIconResource").sizes[a.size],a.xstyle]),src:b("CometUncommonReactionIconResource").getReaction(a.size,a.reaction)})}e.exports=a}),null);
__d("CometSSRHydrationMarkerUtils",["requireCond","cr:1106516"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1106516")}),null);
__d("useStable",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useRef;function a(a){var b=g(null);b.current==null&&(b.current=a());return b.current}e.exports=a}),null);
__d("useCometPlaceholderImpl",["CometHeroFallbackTracker.react","CometHeroInteractionContext","CometHeroLogging","CometSSRHydrationMarkerUtils","CometSuspenseHUD.react","ExecutionEnvironment","React","useStable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useContext;d=function(a){a=a.children;return a};function c(c){__p&&__p();var d=c.children,e=c.fallback,f=h(b("CometHeroInteractionContext").Context),i=b("useStable")(b("CometHeroLogging").getSimpleUUID),j=b("useStable")(function(){return b("CometSuspenseHUD.react")&&b("ExecutionEnvironment").canUseDOM?a.document.createElement("div"):null});d=d;e=e;b("CometSSRHydrationMarkerUtils")!=null&&(d=b("CometSSRHydrationMarkerUtils").addMarkersToChildren(d),e=b("CometSSRHydrationMarkerUtils").addMarkersToFallback(e));var k=g(function(a){f.suspenseCallback(i,f.pageletStack,a);if(j!=null){j.textContent=(a=b("CometHeroLogging").createThenableDescription(a))!=null?a:""}},[f,i,j]),l=null;j!=null&&b("CometSuspenseHUD.react")!=null&&(l=b("React").jsx(b("CometSuspenseHUD.react"),{desc:j}));return b("React").jsx(b("React").Suspense,{fallback:b("React").jsxs(b("React").Fragment,{children:[e,b("React").jsx(b("CometHeroFallbackTracker.react"),{uuid:i}),l]}),suspenseCallback:k,unstable_avoidThisFallback:c.unstable_avoidThisFallback,children:d})}e.exports=c}),null);
__d("UFIODSLogger",["BanzaiODS","CurrentUser"],(function(a,b,c,d,e,f){"use strict";var g="www.ufi";a={bump:function(a,c){b("CurrentUser").isLoggedIn()&&b("BanzaiODS").bumpEntityKey(2966,g,a+"."+c)}};e.exports=a}),null);
__d("PinnedCommentEventsConnectionHandler",["expectationViolation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").getRelayHandleKey;function a(a,b){__p&&__p();a=a.get(b.dataID);if(!a)return;var c=a.getLinkedRecords(b.fieldKey);if(!c){a.setValue(null,b.handleKey);return}var d=a.getLinkedRecords(b.handleKey);if(!d){a.setLinkedRecords(c,b.handleKey);return}var e;d==null?e=c:c==null?e=d:e=h(d,c);a.setLinkedRecords((d=e)!=null?d:[],b.handleKey)}function h(a,c){__p&&__p();var d=0,e=0,f=new Set(),g=[],h=function(a){var c=a==null?void 0:a.getValue("id");if(c==null){b("expectationViolation")("Pinned Comment Event should have id");return}if(f.has(c))return;f.add(c);g.push(a)};while(d<a.length&&e<c.length){var i,j;i=(i=a[d])==null?void 0:i.getValue("vod_time_offset");j=(j=c[e])==null?void 0:j.getValue("vod_time_offset");if(typeof i!="number"){d++;continue}if(typeof j!="number"){e++;continue}if(i>j){h(a[d]);d++;continue}if(i<j){h(c[e]);e++;continue}h(a[d]);h(c[e]);d++;e++}for(var i=d;i<a.length;i++)h(a[i]);for(var j=e;j<c.length;j++)h(c[j]);return g}function i(a){return g("pinned_comment_events",a,null)}function j(a,b,c){return(a=a.getLinkedRecords(i(b),c))!=null?a:[]}function c(a,b,c,d){a.setLinkedRecords(j(a,b,d).filter(function(a){return(a==null?void 0:a.getValue("id"))!==c}),i(b));return}e.exports={deleteEvent:c,getEvents:j,update:a}}),null);
__d("mergeCommentEdgesSortedByTimestampInVideo",["expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){a=a==null?void 0:(a=a.getLinkedRecord("node"))==null?void 0:a.getValue("timestamp_in_video");return typeof a!=="number"?null:a};e.exports=function(a,c){__p&&__p();var d=0,e=0,f=new Set(),h=[],i=function(a){__p&&__p();var c;c=a==null?void 0:(c=a.getLinkedRecord("node"))==null?void 0:c.getValue("id");if(c==null){b("expectationViolation")("Node should have id");return}if(f.has(c))return;f.add(c);h.push(a)};while(d<a.length&&e<c.length){var j=g(a[d]),k=g(c[e]);if(j==null){d++;continue}if(k==null){e++;continue}if(j<k){i(a[d]);d++;continue}if(j>k){i(c[e]);e++;continue}i(a[d]);i(c[e]);d++;e++}for(var j=d;j<a.length;j++)i(a[j]);for(var k=e;k<c.length;k++)i(c[k]);return h}}),null);
__d("VideoTimestampedCommentsConnectionHandler",["mergeCommentEdgesSortedByTimestampInVideo","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").generateClientID,h=b("relay-runtime").getRelayHandleKey;function a(a,c){__p&&__p();var d=a.get(c.dataID);if(!d)return;var e=d.getLinkedRecord(c.fieldKey);if(!e){d.setValue(null,c.handleKey);return}var f=d.getLinkedRecord(c.handleKey);if(!f){a=a.create(g(d.getDataID(),c.handleKey),e.getType());a.copyFieldsFrom(e);d.setLinkedRecord(a,c.handleKey);return}d=e.getLinkedRecords("edges");a=f.getLinkedRecords("edges");a==null?c=d:d==null?c=a:c=b("mergeCommentEdgesSortedByTimestampInVideo")(a,d);f.setLinkedRecords((e=c)!=null?e:[],"edges")}function c(a,b,c){b=h("video_timestamped_comments",b,null);return a.getLinkedRecord(b,c)}function d(a,c){var d=a.getLinkedRecords("edges");if(!d){a.setLinkedRecords([c],"edges");return}d=b("mergeCommentEdgesSortedByTimestampInVideo")(d,[c]);a.setLinkedRecords((c=d)!=null?c:[],"edges");return}e.exports={getConnection:c,insertEdge:d,update:a}}),null);
__d("addFocusEvents",["Deferred","Event","React","SubscriptionList","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=b("React").Component,h;a=function(a){__p&&__p();var c=function(d){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.componentDidMount=function(){__p&&__p();var a=this;if(!h){var c,d;h=new(b("SubscriptionList"))(function(){c=b("Event").listen(window,"blur",function(){h&&h.fireCallbacks(!0),d&&d.remove(),d=b("Event").listen(document.documentElement,"focusin",function(){h&&h.fireCallbacks(!1),d&&d.remove(),d=null})})},function(){c&&c.remove(),d&&d.remove(),c=null,d=null,h=null})}this.subscription=h.add(function(b){a.locked=b})};e.componentWillUnmount=function(){this.subscription&&this.subscription.remove()};e.onClick=function(a){this.props.onClick&&this.props.onClick(a),this.deferred&&this.deferred.resolve(this.props.onMouseFocus)};e.onFocus=function(a){var c=this;this.deferred&&(this.deferred.reject(),this.deferred=null);if(this.locked)return;this.deferred=new(b("Deferred"))();b("promiseDone")(this.deferred.getPromise(),function(b){b&&b(a),c.deferred=null},function(){})};e.onKeyUp=function(a){this.props.onKeyUp&&this.props.onKeyUp(a),this.deferred&&this.deferred.resolve(this.props.onKeyboardFocus)};e.render=function(){var c=this.props,d=c.forwardedRef;c.onKeyboardFocus;c.onMouseFocus;c=babelHelpers.objectWithoutPropertiesLoose(c,["forwardedRef","onKeyboardFocus","onMouseFocus"]);return b("React").jsx(a,babelHelpers["extends"]({},c,{onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onKeyUp:this.onKeyUp.bind(this),ref:d}))};return c}(g);return b("React").forwardRef(function(a,d){return b("React").jsx(c,babelHelpers["extends"]({},a,{forwardedRef:d}))})};e.exports=a}),null);
__d("UFI2SurfaceContainerFallback",["FBLogger","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("lazyLoadComponent"))((c=b("JSResource"))("FeedStoryUFICommentActionLinks.react").__setRef("UFI2SurfaceContainerFallback")),h=a(c("FeedStoryUFICommentActorLinkBadges.react").__setRef("UFI2SurfaceContainerFallback")),i=a(c("UFI2CommentActorName.react").__setRef("UFI2SurfaceContainerFallback")),j=a(c("FeedStoryUFICommentAttachments.react").__setRef("UFI2SurfaceContainerFallback")),k=a(c("FeedStoryUFICommentBody.react").__setRef("UFI2SurfaceContainerFallback")),l=a(c("UFI2ProfileLink.react").__setRef("UFI2SurfaceContainerFallback")),m=new Set(),n=function(a){var c=a.children;a=a.componentName;m.has(a)||(b("FBLogger")("ufi2").mustfix("UFI2SurfaceContainerContext: Tried to render a %s without providing a parent context. To provide context, wrap in a context provider, e.g. <UFI2SurfaceContainerContext.Provider value={context} />",a),m.add(a));return b("React").jsx(b("React").Suspense,{fallback:null,children:c})};d={CommentActionLinksComponent:function(a){return b("React").jsx(n,{componentName:"UFI2CommentActionLinksDynamic",children:b("React").jsx(g,babelHelpers["extends"]({},a))})},CommentActorLinkBadgesComponent:function(a){return b("React").jsx(n,{componentName:"UFI2CommentActorLinkBadgesDynamic",children:b("React").jsx(h,babelHelpers["extends"]({},a))})},CommentActorNameComponent:function(a){return b("React").jsx(n,{componentName:"UFI2CommentActorNameDynamic",children:b("React").jsx(i,babelHelpers["extends"]({},a))})},CommentAttachmentComponent:function(a){return b("React").jsx(n,{componentName:"UFI2CommentAttachmentsDynamic",children:b("React").jsx(j,babelHelpers["extends"]({},a))})},CommentBodyComponent:function(a){return b("React").jsx(n,{componentName:"UFI2CommentBodyDynamic",children:b("React").jsx(k,babelHelpers["extends"]({},a))})},ProfileLinkComponent:function(a){return b("React").jsx(n,{componentName:"UFI2ProfileLinkDynamic",children:b("React").jsx(l,babelHelpers["extends"]({},a))})}};e.exports=d}),null);
__d("UFI2CommentVideoAttachmentPlayerLazy.react",["JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("UFI2CommentVideoAttachmentPlayer.react").__setRef("UFI2CommentVideoAttachmentPlayerLazy.react"));a=function(a){return b("React").jsx(g,babelHelpers["extends"]({},a))};e.exports=a}),null);
__d("UFI2CommentMenuBlue.react",["cx","Bootloader","FBLogger","JSResource","React","RelayModern","UFI2NUXConfig","XUIDotsButton.react","XUISpinner.react","ifRequired","injectSubscriptionsHandler.react","lazyLoadComponent","UFI2CommentMenuBlue_comment.graphql","UFI2CommentMenuBlue_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("lazyLoadComponent")((c=b("JSResource"))("UFI2RemoveTextDelightsNUX.react").__setRef("UFI2CommentMenuBlue.react")),i={CommentMenuItemBanCommenter:c("getCommentMenuItemBanCommenter").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemCreateDetailedReport:c("getCommentMenuItemCreateDetailedReport").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemDelete:c("getCommentMenuDeleteItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemDeleteAndBlockAuthor:c("getCommentMenuDeleteAndBlockItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemDeleteAndRemoveMember:c("getCommentMenuDeleteAndRemoveItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemDivider:c("getCommentMenuItemDivider").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemEdit:c("getCommentMenuEditItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemGiveFeedbackOrReport:c("getCommentMenuItemGiveFeedbackOrReport").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemHide:c("getCommentMenuHideItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemMuteMember:c("getCommentMenuMuteCommenterItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemRemoveTag:c("getCommentMenuItemRemoveTag").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemRemoveTextDelights:c("getCommentMenuItemRemoveTextDelightsItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemRemoveWithFeedback:c("getCommentMenuDeleteWithFeedbackItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemReportToAdmins:c("getCommentMenuItemReportToAdmins").__setRef("UFI2CommentMenuBlue.react")};function j(a){return a&&i[a.__typename]}function k(){var a=b("ifRequired")("ContextualDialogArrow",function(a){return a}),c=b("ifRequired")("PopoverMenu.react",function(a){return a}),d=b("ifRequired")("ReactXUIMenu",function(a){return a});return a&&c&&d?{ContextualDialogArrow:a,PopoverMenu:c,XUIMenu:d}:null}function l(a){a=(a=a.comment.comment_menu_items)!=null?a:[];return a.map(j).filter(Boolean)}function m(a){return a.every(function(a){return b("ifRequired").call(null,a.getModuleId(),function(){return!0},function(){return!1})})}d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={itemsAreLoaded:m(l(d.props)),menuResources:k(),showNUX:!1},d.$4=!1,d.$5=function(a){__p&&__p();var c,e,f=j(a);if(!f)return null;f=b("ifRequired").call(null,f.getModuleId(),function(a){return a});if(!f){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",d.props.comment.id||"UNKNOWN").warn("Tried to render comment item before getter was loaded for item with type `%s`.",a.__typename);return null}var g=babelHelpers.assertThisInitialized(d);g=g.props;c=(c=g.feedback.viewer_actor)==null?void 0:c.id;e=(e=g.comment.author)==null?void 0:e.id;return f({actorId:c,authorID:e,authorName:(f=g.comment.author)==null?void 0:f.name,commentId:g.comment.id,confirmDeleteWithDialog:c===e,createDetailedReportURI:g.comment.create_detailed_report_uri,feedbackId:g.feedback.id,feedbackSource:g.feedbackSource,groupId:(f=g.comment.group_comment_info)==null?void 0:f.group_id,isCommenterBannedByContentOwner:g.comment.is_author_banned_by_content_owner,isMuted:(c=g.comment.group_comment_info)==null?void 0:c.is_author_muted,itemType:a.__typename,legacyId:g.comment.legacy_fbid,legacyToken:g.comment.legacy_token,onEdit:g.onEdit,parentContentPageID:(e=g.comment.parent_feedback)==null?void 0:(f=e.viewer_acts_as_page)==null?void 0:f.id,parentContentFeedbackID:(c=g.comment.parent_feedback)==null?void 0:c.id,relay:g.relay,showBlockAuthor:(e=g.comment.group_comment_info)==null?void 0:e.can_viewer_block_author,showRemoveContentOptions:a.__typename==="CommentMenuItemDeleteAndRemoveMember"&&a.show_remove_content_options,showReportCommentToAdmin:(f=g.comment.group_comment_info)==null?void 0:f.can_viewer_report_comment_to_admin_with_tags,topLevelFeedbackId:g.topLevelFeedbackId})},d.$8=function(a){d.$3=a,a&&b("UFI2NUXConfig").shouldShowRemoveTextDelightsNUX&&d.setState({showNUX:!0})},d.$10=function(){d.$9()},d.$11=function(){d.$9(),d.$3||(d.$4=!d.$4)},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a){return{itemsAreLoaded:m(l(a))}};var d=c.prototype;d.$6=function(){var a=this;if(this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(){return a.setState({menuResources:k()})},"UFI2CommentMenuBlue.react"))};d.$7=function(){var a=this;if(this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),l(this.props).map(function(a){return a.getModuleId()}),function(){a.setState({itemsAreLoaded:!0})}))};d.$9=function(){this.state.menuResources||this.$6(),this.state.itemsAreLoaded||this.$7()};d.componentDidUpdate=function(){this.$4&&this.$3&&(this.$3.showPopover(),this.$4=!1)};d.render=function(){__p&&__p();var a=this,c=this.props.comment,d=this.state.showNUX,e=c.comment_menu_items;if(!e||!e.length)return null;var f=Boolean(e.find(function(a){return a.__typename==="CommentMenuItemRemoveTextDelights"})),g=c.comment_menu_tooltip;g=g?{label:g,tooltip:g}:null;g=b("React").jsx(b("XUIDotsButton.react"),babelHelpers["extends"]({},g,{className:"_2f3a"+(this.props.visible?" _1n6k":""),"data-testid":"UFI2CommentMenu/toggle",onClick:this.$11,onMouseEnter:this.$10,onTouchStart:this.$11,type:"button"}));if(!this.state.menuResources)return g;var i=this.state.menuResources,j=i.ContextualDialogArrow,k=i.PopoverMenu;i=i.XUIMenu;e=this.state.itemsAreLoaded?e.map(this.$5).filter(Boolean):b("React").jsx(i.Item,{disabled:!0,children:b("React").jsx(b("XUISpinner.react"),{size:"small"})});i=b("React").jsx(i,{className:"_67lz",children:e});return b("React").jsxs(b("React").Fragment,{children:[f&&d?b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(h,{comment:c,contextRef:function(){return a.$3}})}):null,b("React").jsx(k,{alignh:"right",layerBehaviors:[j],menu:i,ref:this.$8,children:g})]})};return c}(b("React").Component);e.exports=a(b("injectSubscriptionsHandler.react")(d),{comment:function(){return b("UFI2CommentMenuBlue_comment.graphql")},feedback:function(){return b("UFI2CommentMenuBlue_feedback.graphql")}})}),null);
__d("timeString",["fbt","DateConsts"],(function(a,b,c,d,e,f,g){__p&&__p();var h=(c=b("DateConsts")).MS_PER_SEC,i=c.SEC_PER_DAY,j=c.SEC_PER_HOUR,k=c.SEC_PER_MIN,l=c.SEC_PER_YEAR;function m(a){var b,c;a<10?b=g._("just now"):a<k?b=g._("a few seconds ago"):a<k*2?b=g._("about a minute ago"):a<j?(c=Math.floor(a/k),b=g._("{number} minutes ago",[g._param("number",c)])):a<j*2?b=g._("about an hour ago"):a<i?(c=Math.floor(a/j),b=g._("{number} hours ago",[g._param("number",c)])):a<i*2?b=g._("about a day ago"):a<i*30?(c=Math.floor(a/i),b=g._("{number} days ago",[g._param("number",c)])):a<i*30*2?b=g._("about a month ago"):a<l?(c=Math.floor(a/i/30),b=g._("{number} months ago",[g._param("number",c)])):a<l*2?b=g._("over a year ago"):(c=Math.floor(a/l),b=g._("{number} years ago",[g._param("number",c)]));return b}function n(a){var b,c;a=Math.abs(a);a<10?b=g._("just now"):a<k?b=g._("in a few seconds"):a<k*2?b=g._("in about a minute"):a<j?(c=Math.floor(a/k),b=g._("in {number} minutes",[g._param("number",c)])):a<j*2?b=g._("in about an hour"):a<i?(c=Math.floor(a/j),b=g._("in {number} hours",[g._param("number",c)])):a<i*2?b=g._("in about a day"):a<i*30?(c=Math.floor(a/i),b=g._("in {number} days",[g._param("number",c)])):a<i*30*2?b=g._("in about a month"):a<l?(c=Math.floor(a/i/30),b=g._("in {number} months",[g._param("number",c)])):a<l*2?b=g._("in over a year"):(c=Math.floor(a/l),b=g._("in {number} years",[g._param("number",c)]));return b}function a(a,b){b=b==null||b===0?Date.now():b;b=Math.floor((b-a)/h);if(b>=0)return m(b);else return n(b)}e.exports=a}),null);
__d("UFI2RepliesExpanderTimestampLabel.react",["cx","LiveTimer","React","Timestamp.react","formatDate","timeString"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.timestamp;return b("React").jsxs("span",{className:"_7o81","data-testid":"UFI2RepliesExpanderTimestampLabelRoot",children:["\xa0\xa0\xa0",b("React").jsx(b("Timestamp.react"),{shorten:!0,text:b("timeString")(a*1e3,b("LiveTimer").getApproximateServerTime()*1e3),time:a,verbose:b("formatDate")(new Date(a*1e3),"l, M j, Y g:ia")})]})}e.exports=a}),null);
__d("getPlainTextFromUFI2InputState",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.editorState.getCurrentContent().getPlainText();default:return a}}e.exports=a}),null);
__d("UFI2CommentTopReactions.react",["cx","fbt","invariant","FBLogger","JSResource","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","isNotOutlierReaction","lazyLoadComponent","nullthrows","UFI2CommentTopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFI2CommentReactionIconTooltipContentRenderer.react").__setRef("UFI2CommentTopReactions.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c){a=(c=a.node)==null?void 0:c.reaction_type;a||i(0,2434);c=b("getReactionKeyFromType")(a);return b("React").jsx(b("UFIReactionIconImpl.react"),{className:"_1lg-",reaction:c},"UFIReactionIcon:"+c)};d.render=function(){__p&&__p();var a=this,c,d=this.props,e=d.feedback;d=d.relay;var f=e.top_reactions,g=e.reactors;g=g==null?void 0:g.count_reduced;f=f==null?void 0:f.edges;f!=null||i(0,2435);if(f.length===0)return null;c=(c=(c=e.viewer_actor)==null?void 0:c.id)!=null?c:"0";if(g==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e.id||"UNKNOWN").mustfix("UFI2CommentTopReactions: Expected a reaction count");return null}f=f.filter(b("isNotOutlierReaction")(e)).slice(0,3);c=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:c,feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")});c=b("React").jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:babelHelpers["extends"]({},c,{"aria-label":h._("See who reacted to this"),className:"_1lh9 _1lha",label:b("React").jsxs(b("React").Fragment,{children:[f.map(function(b,c){return a.$1(b,c)}),b("React").jsx("span",{className:"_1lld",children:g},"count_reduced")]}),role:"button"})});return b("React").jsx("span",{className:"_1lh3",ref:this.props.rootRef,children:b("React").jsx(b("UFI2Tooltip.react"),{alignH:"center",className:"_1lh7","data-testid":"UFI2CommentTopReactions/tooltip",environment:d.environment,tabIndex:-1,tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")}},children:c})})};return c}(b("React").PureComponent);e.exports=a(c,{feedback:function(){return b("UFI2CommentTopReactions_feedback.graphql")}})}),null);
__d("UFI2RealtimeContext",["React","warning"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(function(){b("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return{dispose:function(){}}});e.exports=a}),null);
__d("UFI2RealtimeContainer.react",["React","UFI2RealtimeContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a){var c=a.children;a=a.subscribe;var d=g(b("UFI2RealtimeContext"));return b("React").jsx(h,{factory:d,subscribe:a,children:c})}var h=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.componentDidMount=function(){this.$1||(this.$1=this.props.factory(new i(this.props.subscribe)))};c.componentWillUnmount=function(){this.$1&&(this.$1.dispose(),this.$1=null)};c.render=function(){return this.props.children||null};return a}(b("React").Component),i=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();e.exports=a}),null);
__d("forEachUFI2DisplayCommentsConnection",["UFI2CommentsConnectionHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey;function a(a,b,c){var d=!1;a=g(a,b,"UFI2CommentsProvider_feedback_display_comments");a!=null&&a.length>0&&(a.forEach(c),d=!0);return d}e.exports=a}),null);
__d("getMutationTrackingPropertyFromTrackingData",["URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){a=a(["ft"]);a=a==null?void 0:a.ft;var c=(g||(g=b("URI"))).getMostRecentURI().getQueryData(),d=c.notif_id;c=c.notif_t;d=d!=null?{alert_id:d,notif_source:"notif_jewel",notif_type:c}:null;c=a!=null||d!=null?babelHelpers["extends"]({},a,d):null;return c?[JSON.stringify(c)]:null}e.exports=a}),null);
__d("getCommentCreateMutationPropertiesFromTrackingData",["getMutationTrackingPropertyFromTrackingData","getReferrerURI"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("getReferrerURI")();return{feedback_referrer:c?c.getPath():void 0,tracking:b("getMutationTrackingPropertyFromTrackingData")(a)}}e.exports=a}),null);
__d("useTrackingCodeFnForBlue",["getCommentCreateMutationPropertiesFromTrackingData"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("getCommentCreateMutationPropertiesFromTrackingData")};e.exports=a}),null);
__d("UFI2FeedbackSubscriptionTopicProvider",["FBLogger","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").getRequest,h={};function i(a){return function(b){var c;b=(c=(c=b.input)==null?void 0:c.feedback_id)!=null?c:(c=b.input)==null?void 0:c.top_level_feedback_id;c=h[b];return c==null?null:a+c}}function a(a,c){if(typeof a!=="function"){b("FBLogger")("ufi2").warn("Attempted to register a topic string provider foran unknown type of Relay subscription");return}a=g(a);a=a.params.id;a!=null&&(a!=null&&typeof a==="string"&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(a,i(c)))}function c(a,b){h[a]=b}e.exports={addSubscriptionTargetIDForFeedbackID:c,registerProvider:a}}),null);
__d("VideoDisplayTimePlayButton",["CSS","DataStore","Event"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h="_spinner";a={getClicked:function(a){return b("DataStore").get(a,"clicked",!1)},register:function(a,c){var d=a.id;g[d]=b("Event").listen(a,"click",function(){c&&(b("CSS").hide(a),b("CSS").show(c)),b("DataStore").set(a,"clicked",!0)});c&&(g[d+h]=b("Event").listen(c,"click",function(){c&&b("CSS").hide(c),b("CSS").show(a),b("DataStore").set(a,"clicked",!1)}))},unregister:function(a){a=a.id;Object.prototype.hasOwnProperty.call(g,a)&&g[a].remove();a=a+h;Object.prototype.hasOwnProperty.call(g,a)&&g[a].remove()}};e.exports=a}),null);